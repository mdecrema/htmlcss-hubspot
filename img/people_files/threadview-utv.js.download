(window.webpackJsonp=window.webpackJsonp||[]).push([["threadview-utv"],Array(1137).concat([function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.iconFontsLoaded=t.iconFontsLoadedPromise=t.fontsLoaded=t.fontsLoadedPromise=t.createMeasureEl=t.forceSkipFontMeasurement=void 0;var r=a(898),n=a(963),i=!1,o=!1,s=!1,l=function(){i=!0};t.forceSkipFontMeasurement=l;var u=function(e,t,a){var r=document.createElement("div");r.setAttribute("aria-hidden","true");r.textContent=e;r.style.position="absolute";r.style.top="-999px";r.style.fontFamily=t;r.style.fontWeight=a;document.body.appendChild(r);return r};t.createMeasureEl=u;var d=function(e,t){for(var a=0;a<e.length;a++){if(e[a].offsetWidth!==t[a].offsetWidth){document.body.removeChild(e[a]);document.body.removeChild(t[a]);e.splice(a,1);t.splice(a,1)}}},c=new Promise(function(e){(0,n.domReady)(function(){if(i)e();else{var t="BESbswy",a='"'+r.WEB_FONT_REGULAR+'", '+r.FALLBACK_FONT_STACK,n=[],s=[];[r.WEB_FONT_REGULAR_WEIGHT,r.WEB_FONT_MEDIUM_WEIGHT,r.WEB_FONT_DEMI_BOLD_WEIGHT,r.WEB_FONT_BOLD_WEIGHT].forEach(function(e){n.push(u(t,a,e));s.push(u(t,r.FALLBACK_FONT_STACK,e))});(function t(){d(n,s);if(0===n.length){o=!0;e()}else setTimeout(t,50)})()}})});t.fontsLoadedPromise=c;var f=function(){return o};t.fontsLoaded=f;var p=new Promise(function(e){(0,n.domReady)(function(){if(i)e();else{var t="add",a='"'+r.ICON_FONT_FAMILY+'", '+r.FALLBACK_FONT_STACK,n=[],o=[];["normal","bold"].forEach(function(e){n.push(u(t,a,e));o.push(u(t,r.FALLBACK_FONT_STACK,e))});(function t(){d(n,o);if(0===n.length){s=!0;e()}else setTimeout(t,50)})()}})});t.iconFontsLoadedPromise=p;var v=function(){return s};t.iconFontsLoaded=v},,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.consentToProcess=b;t.consentToProcessFailed=t.consentToProcessSucceeded=t.clickedConsentToProcess=void 0;var r=a(263),n=a(760),i=a(707),o=a(422),s=a(1157),l=a(1158),u=a(762),d=a(722),c=a(1159),f=a(1160),p=a(275),v=a(190),g=a(804),m=(0,r.createAction)(i.CONSENT_TO_PROCESS);t.clickedConsentToProcess=m;var h=(0,r.createAction)(i.CONSENT_TO_PROCESS_SUCCEEDED);t.consentToProcessSucceeded=h;var y=(0,r.createAction)(i.CONSENT_TO_PROCESS_FAILED);t.consentToProcessFailed=y;function b(){return function(e,t){var a=(0,o.getSessionId)(t()),r=(0,s.getMessageId)(t()),i=(0,f.getHubspotUtk)(t()),b=(0,v.getLatestWidgetData)(t()),_=(0,g.isUngatedForExitIntentGDPR)(t());e(m());(0,l.sendConsentToProcess)({sessionId:a,hubspotUtk:i,welcomeMessageId:r,widgetData:b,isUngatedForExitIntentGDPRCookieBanner:_}).then(function(a){var r=a.sessionId;(0,d.gdprCookieConsentOnExitIntentEnabled)(t(),b)&&_||e((0,u.handleStoreMessagesCookie)((0,n.getMessagesUtk)(t())));e((0,c.updateSessionId)(r));e(h());e((0,p.trackInteraction)("widget-interaction",{action:"clicked consent to process button"}))},function(t){return e(y({error:t}))}).done()}}},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getMessageId=void 0;var n=a(188),i=r(a(144)),o=a(189),s=(0,n.createSelector)(o.getWelcomeMessage,(0,i.default)("id"));t.getMessageId=s},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.sendConsentToProcess=s;var n=r(a(52)),i=r(a(435)),o="livechat-public/v1/privacy/consentToProcess";function s(e){var t=e.sessionId,a=e.hubspotUtk,r=e.welcomeMessageId;return i.default.put(o,{query:{sessionId:t,hubspotUtk:a,welcomeMessageId:r,portalId:n.default.get()}})}},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.updateSessionId=void 0;var r=a(263),n=a(648),i=(0,r.createAction)(n.UPDATE_SESSION_ID,function(e){return{sessionId:e}});t.updateSessionId=i},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getHubspotUtk=void 0;var r=a(188),n=a(601),i=a(602),o=(0,r.createSelector)(i.getVisitorIdentity,function(e){return(0,n.getHubspotUtk)(e)});t.getHubspotUtk=o},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getMessageId=void 0;var r=a(188),n=a(190),i=(0,r.createSelector)([n.getLatestWidgetData],function(e){return e.message.id});t.getMessageId=i},,,,,,,,,function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(56));function i(){var e,t;return{promise:new n.default.Promise(function(a,r){t=a;e=r}),reject:e,resolve:t}}var o=i;t.default=o;e.exports=t.default},,,,,function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(115)),i=r(a(7)),o=r(a(906)),s=r(a(6)),l=r(a(245)),u=(0,o.default)({displayName:"FormattedSize",propTypes:{value:i.default.number.isRequired},render:function(){var e=this.props,t=e.value,a=(0,n.default)(e,["value"]);return s.default.createElement("span",null,l.default.formatSize(t,a))}});t.default=u;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=R;var i=n(a(115)),o=a(244),s=a(898),l=n(a(7)),u=n(a(6)),d=n(a(159)),c=r(a(862)),f=n(a(991)),p=n(a(1177)),v=n(a(997)),g=n(a(1178)),m=n(a(1180)),h=n(a(1181)),y=n(a(1182)),b=r(a(1186)),_=a(891),E=a(894),T={fontSize:"12px",sm:{iconFont:"16px",previewWidth:"16px"},lg:{iconFont:"32px",previewWidth:"32px"}},C=c.default.div.withConfig({displayName:"UIFileAttachment__StyledAttachment_Children",componentId:"dfkinh-0"})(["margin:0;bottom:0;left:0;position:absolute;right:0;top:0;"]),S=(0,c.default)(g.default).withConfig({displayName:"UIFileAttachment__StyledAttachment_Media",componentId:"dfkinh-1"})(["position:relative;max-width:100%;line-height:",";"],function(e){return"sm"===e.size&&T.fontSize}),M=(0,c.default)(h.default).withConfig({displayName:"UIFileAttachment__StyledAttachment_Preview",componentId:"dfkinh-2"})(["align-items:center;display:flex;flex-basis:auto;flex-shrink:0;",";"],function(e){var t=e.size;return(0,c.css)([""," max-height:",";width:",";> *{max-height:",";max-width:",";}"],(0,E.setFontSize)(T[t].iconFont),T[t].previewWidth,T[t].previewWidth,T[t].previewWidth,T[t].previewWidth)});M.displayName="StyledAttachment_Preview";var I=(0,c.default)(m.default).withConfig({displayName:"UIFileAttachment__StyledAttachment_Info",componentId:"dfkinh-3"})(["display:flex;flex-direction:column;justify-content:center;line-height:1rem;width:100%;&&{flex-basis:auto;margin-left:",";}",";"],function(e){return"sm"===e.size&&"8px"},function(e){var t=e.size;return"sm"===t?(0,c.css)(["align-items:center;flex-direction:row;white-space:nowrap;"]):"lg"===t?(0,c.css)(["min-height:2rem;"]):null}),x=(0,c.default)(function(e){var t=e.className,a=e.fileInfo,r=e.size;return a?u.default.createElement(p.default,{className:t,use:"help"},"sm"===r&&"(",a,"sm"===r&&")"):null}).withConfig({displayName:"UIFileAttachment__FileInfo",componentId:"dfkinh-4"})(["&&{font-weight:",";line-height:inherit;margin-left:",";}"],s.WEB_FONT_REGULAR_WEIGHT,function(e){return"sm"===e.size&&"1ch"}),A=(0,c.default)(function(e){e.attachmentSize;var t=(0,i.default)(e,["attachmentSize"]);return u.default.createElement(f.default,t)}).withConfig({displayName:"UIFileAttachment__StyledAttachment_Close",componentId:"dfkinh-5"})(["flex-shrink:0;color:",";right:10px;top:10px;vertical-align:text-top;",";"],o.EERIE,function(e){return"sm"===e.attachmentSize&&(0,c.css)(["align-self:center;margin-left:auto;margin-right:0;position:static;&::after{left:auto;margin-left:12px;}"])});A.displayName="StyledAttachment_Close";var P=c.default.div.withConfig({displayName:"UIFileAttachment__StyledAttachment",componentId:"dfkinh-6"})(["display:",";padding:",";",";",";background-color:",";border:1px solid ",";color:",";font-weight:",";max-width:100%;position:relative;padding-right:",";"],function(e){return"sm"===e.size?"flex":"inline-flex"},function(e){return"sm"===e.size?"8px 12px":"12px"},(0,E.setBorderRadius)(),(0,E.setFontSize)(T.fontSize),function(e){return"on-dark"===e.use?o.OLAF:o.GYPSUM},o.KOALA,function(e){return e.processing?o.EERIE:o.HEFFALUMP},s.WEB_FONT_DEMI_BOLD_WEIGHT,function(e){return"lg"===e.size&&"32px"}),O=function(e){var t=e.fileType;return u.default.createElement(v.default,{className:"align-self-end",name:"application/pdf"===t?"pdfFile":"file"})};O.propTypes={fileType:l.default.string};function R(e){var t=e.closeable,a=e.use,r=e.size,n=e.children,o=e.renderPreview,s=e.fileName,l=e.fileInfo,c=(e.fileType,e.onCloseClick),f=e.processing,p=(0,i.default)(e,["closeable","use","size","children","renderPreview","fileName","fileInfo","fileType","onCloseClick","processing"]),v=(0,_.toShorthandSize)(r),g=b.render(o,e,{mergeType:"none"}),m=u.default.createElement(x,{size:v,fileInfo:l});"processing"===a&&d.default.warn({message:'UIFileAttachment: `use="processing"` is deprecated. Set `processing={true}` instead.',key:"UIFileAttachment: processing",url:"https://git.hubteam.com/HubSpot/UIComponents/issues/7991#issuecomment-1176756"});return u.default.createElement(P,Object.assign({},p,{processing:f||"processing"===a,size:v,use:a}),n&&u.default.createElement(C,{size:v},n),u.default.createElement(S,{size:v},u.default.createElement(M,{size:v},g),u.default.createElement(I,{size:v},"sm"===v?u.default.createElement(y.default,{useFlex:!0,fixedChildren:m},s):u.default.createElement(y.default,{useFlex:!0},s),"sm"!==v&&m)),t&&u.default.createElement(A,{className:"private-attachment__close",onClick:c,size:"sm",attachmentSize:v}))}R.propTypes={children:l.default.node,closeable:l.default.bool.isRequired,onCloseClick:l.default.func,processing:l.default.bool.isRequired,use:l.default.oneOf(["default","on-dark"]),size:l.default.oneOfType([(0,_.propTypeForSizes)(["sm","lg"]),l.default.oneOf(["auto"])]).isRequired,fileName:l.default.node.isRequired,fileInfo:l.default.node,fileType:l.default.string,renderPreview:b.propType};R.defaultProps={closeable:!1,processing:!1,use:"default",size:"lg",renderPreview:O};R.displayName="UIFileAttachment";e.exports=t.default},,function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=u;var n=r(a(115)),i=r(a(7)),o=r(a(6)),s=r(a(864)),l=a(1179);function u(e){var t=e.align,a=e.className,r=e.spacing,i=(0,n.default)(e,["align","className","spacing"]);return o.default.createElement("div",Object.assign({},i,{className:(0,s.default)("media private-media",l.MEDIA_ALIGNMENT_TYPES[t],l.MEDIA_SPACING[r],a)}))}u.displayName="UIMedia";u.propTypes={align:i.default.oneOf(Object.keys(l.MEDIA_ALIGNMENT_TYPES)),children:i.default.node.isRequired,spacing:i.default.oneOf(Object.keys(l.MEDIA_SPACING)).isRequired};u.defaultProps={spacing:"small"};e.exports=t.default},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.MEDIA_SPACING=t.MEDIA_ALIGNMENT_TYPES=void 0;var r={start:"private-media--align-start",baseline:"private-media--align-baseline",center:"private-media--align-middle",end:"private-media--align-bottom",stretch:"private-media--align-stretch"};t.MEDIA_ALIGNMENT_TYPES=r;var n={none:"private-media--collapsed","extra-small":"private-media--spaced-xs",small:"",medium:"private-media--spaced-md",large:"private-media--spaced-lg","extra-large":"private-media--spaced-xl"};t.MEDIA_SPACING=n},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=l;var n=r(a(115)),i=r(a(7)),o=r(a(6)),s=r(a(864));function l(e){var t=e.className,a=(0,n.default)(e,["className"]);return o.default.createElement("div",Object.assign({},a,{className:(0,s.default)("media-body private-media__body",t)}))}l.displayName="UIMediaBody";l.propTypes={children:i.default.node};e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=l;var n=r(a(115)),i=r(a(7)),o=r(a(6)),s=r(a(864));function l(e){var t=e.className,a=(0,n.default)(e,["className"]);return o.default.createElement("div",Object.assign({},a,{className:(0,s.default)("private-media__item private-media__item--left",t)}))}l.displayName="UIMediaLeft";l.propTypes={children:i.default.node};e.exports=t.default},,,,,function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.propType=t.render=void 0;var i=n(a(7)),o=r(a(6)),s=a(8),l=(n(a(37)),{passive:function(e,t){return Object.assign({},t,{},e)},aggressive:function(e,t){return t},none:function(){return{}}}),u={mergeType:"passive"},d=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object.assign({},u,{},a).mergeType;0;return o.default.isValidElement(e)?(0,o.cloneElement)(e,l[r](e.props,t)):(0,s.isValidElementType)(e)?o.default.createElement(e,t):e};t.render=d;var c=i.default.oneOfType([i.default.elementType,i.default.node]);t.propType=c},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(4)),i=r(a(75)),o=r(a(77)),s=r(a(78)),l=a(60),u=a(1188),d=function(e){(0,s.default)(t,e);function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,n.default)(this,t);return(0,i.default)(this,(0,o.default)(t).call(this,Object.assign({},e,{localId:(0,u.generateIdForFile)({file:e.file,timestamp:Date.now()})})))}return t}((0,l.Record)({file:null,localId:"",fileId:-1,uploadProgress:0}));t.default=d;e.exports=t.default},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.generateIdForFile=void 0;var r=function(e){var t=e.file,a=e.timestamp;return t.name+"-"+a};t.generateIdForFile=r},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.isUploadCompleted=void 0;var r=a(699),n=function(e){return-1!==(0,r.getFileId)(e)};t.isUploadCompleted=n},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getFileName=void 0;var n=r(a(144)),i=a(699),o=function(e){var t=(0,i.getFile)(e);return(0,n.default)("name",t)||""};t.getFileName=o},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getFileSize=void 0;var n=r(a(144)),i=a(699),o=function(e){var t=(0,i.getFile)(e);return(0,n.default)("size",t)||0};t.getFileSize=o},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(4)),i=r(a(5)),o=r(a(75)),s=r(a(77)),l=r(a(78)),u=r(a(7)),d=r(a(6)),c=r(a(245)),f=r(a(948)),p=r(a(1175)),v=r(a(1176)),g=a(1193),m=a(699),h=a(1194),y=a(1190),b=a(1191),_=a(1189),E=r(a(1195)),T=r(a(881)),C=r(a(1198)),S=function(e){(0,l.default)(t,e);function t(){(0,n.default)(this,t);return(0,o.default)(this,(0,s.default)(t).apply(this,arguments))}(0,i.default)(t,[{key:"customFilePreview",value:function(){var e=this.props.attachment,t=(0,m.getFile)(e);if((0,g.fileIsImage)(t))return d.default.createElement(E.default,{imageFile:t})}},{key:"fileInfo",value:function(){return(0,_.isUploadCompleted)(this.props.attachment)?d.default.createElement(p.default,{value:(0,b.getFileSize)(this.props.attachment)}):d.default.createElement(f.default,{message:"conversations-visitor-ui.stagedAttachment.uploadProgress",options:{uploadedBytes:c.default.formatSize((0,h.uploadedBytes)(this.props.attachment),{precision:2,strip_insignificant_zeroes:!0}),totalBytes:c.default.formatSize((0,b.getFileSize)(this.props.attachment))}})}},{key:"renderProgress",value:function(){return(0,_.isUploadCompleted)(this.props.attachment)?null:d.default.createElement(C.default,{value:(0,m.getUploadProgress)(this.props.attachment)})}},{key:"render",value:function(){return d.default.createElement(v.default,{closeable:!0,onCloseClick:this.props.onRemove,processing:!(0,_.isUploadCompleted)(this.props.attachment),fileName:(0,y.getFileName)(this.props.attachment),fileInfo:this.fileInfo(),renderPreview:this.customFilePreview(),style:{minWidth:220}},this.renderProgress())}}]);return t}(d.default.Component);S.displayName="FileUpload";S.propTypes={attachment:(0,T.default)("FileUploadRecord").isRequired,onRemove:u.default.func.isRequired};var M=S;t.default=M;e.exports=t.default},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.fileIsImage=void 0;var r=["PNG","GIF","JPEG","JPG"],n=function(e){var t=e.name.split("."),a=t[t.length-1]||"";return-1!==r.indexOf(a.toUpperCase())};t.fileIsImage=n},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.uploadedBytes=void 0;var r=a(699),n=function(e){var t=(0,r.getFile)(e),a=(0,r.getUploadProgress)(e);return t&&a?a/100*t.size:0};t.uploadedBytes=n},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(4)),i=r(a(5)),o=r(a(75)),s=r(a(77)),l=r(a(78)),u=r(a(7)),d=r(a(6)),c=r(a(1196)),f=function(e){(0,l.default)(t,e);function t(e){var a;(0,n.default)(this,t);(a=(0,o.default)(this,(0,s.default)(t).call(this,e))).state={imageDataUrl:""};return a}(0,i.default)(t,[{key:"componentDidMount",value:function(){this.processImageFile(this.props.imageFile)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.imageFile!==this.props.imageFile&&this.processImageFile(e.imageFile)}},{key:"shouldComponentUpdate",value:function(e,t){return t.imageDataUrl!==this.state.imageDataUrl}},{key:"processImageFile",value:function(e){var t=this,a=new FileReader;a.addEventListener("load",function(){t.setState({imageDataUrl:a.result})});a.readAsDataURL(e)}},{key:"render",value:function(){return d.default.createElement(c.default,{src:this.state.imageDataUrl})}}]);return t}(d.default.Component);f.displayName="ImageAttachmentPreview";f.propTypes={imageFile:u.default.instanceOf(File).isRequired};var p=f;t.default=p;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(115)),i=r(a(6)),o=r(a(7)),s=a(1197),l=r(a(862)).default.img.withConfig({displayName:"VizExImage__StyledImg",componentId:"sc-1owz4lv-0"})(["display:block;height:auto;max-width:100%;"]),u=function(e){var t=e.src,a=(0,n.default)(e,["src"]),r=(0,s.isUnsafeUrl)(t);r&&console.warn("VizExImage was given an unsafe src, defaulting to empty.");return i.default.createElement(l,Object.assign({},a,{src:r?null:t}))};u.propTypes={src:o.default.string.isRequired};u.displayName="VizExImage";var d=u;t.default=d;e.exports=t.default},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.isUnsafeUrl=void 0;var r="javascript:void(0)",n=/^([^:]+):/,i=/[\s\x00-\x1f]/g,o=function(e){if(e&&"string"==typeof e){var t=e.match(n);if(!t||e===r)return!1;if("javascript:"===t[0].replace(i,"").toLowerCase())return!0}return!1};t.isUnsafeUrl=o},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(115)),i=r(a(7)),o=r(a(6)),s=r(a(862)),l=a(1199),u=r(a(923)),d=s.default.div.withConfig({displayName:"VizExNanoProgress__Bar",componentId:"vrf6zp-0"})(["transition:width 0.2s ease-in-out;left:0;position:absolute;top:0;opacity:",";width:",";height:3px;z-index:",";background-color:",";"],function(e){return 0===e.value?0:1},function(e){return e.value+"%"},function(e){return e.zIndex},function(e){var t=e.theme;return(0,l.getNanoProgressColor)(t)}),c=function(e){var t=e.zIndex,a=e.value,r=e.theme,i=(0,n.default)(e,["zIndex","value","theme"]);return o.default.createElement(d,Object.assign({},i,{"aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":a,role:"progressbar",zIndex:t,value:a,theme:r}))};c.propTypes={theme:u.default,value:i.default.number,zIndex:i.default.number};c.defaultProps={zIndex:10,value:0};c.displayName="VizExNanoProgress";var f=c;t.default=f;e.exports=t.default},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getNanoProgressColor=void 0;var r=a(925).getPrimaryColor;t.getNanoProgressColor=r},,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.sendVisitorEmailAddress=i;var n=r(a(435));function i(e){var t=e.threadId,a=e.email,r=e.sessionId,i=e.hubspotUtk;return n.default.post("livechat-public/v1/visitor/public",{query:{threadId:t,email:a,sessionId:r,hubspotUtk:i}})}},,function(e,t,a){"use strict";"use es6";var r=a(3),n=a(14);Object.defineProperty(t,"__esModule",{value:!0});t.sendVisitorEmailAddress=y;t.sendVisitorEmailAddressSucceeded=t.sendVisitorEmailAddressFailed=t.sendVisitorEmailAddressRequested=void 0;var i=a(263),o=a(422),s=n(a(135)),l=r(a(1225)),u=n(a(1222)),d=a(1226),c=a(275),f=a(297),p=a(1160),v=a(319),g=(0,i.createAction)(s.SEND_VISITOR_EMAIL_ADDRESS,function(e){return{email:e}});t.sendVisitorEmailAddressRequested=g;var m=(0,i.createAction)(s.SEND_VISITOR_EMAIL_ADDRESS_FAILED,function(e){return{error:e}});t.sendVisitorEmailAddressFailed=m;var h=(0,i.createAction)(s.SEND_VISITOR_EMAIL_ADDRESS_SUCCEEDED,function(e){return{email:e}});t.sendVisitorEmailAddressSucceeded=h;function y(e){var t=e.consentToCommunicate,a=void 0!==t&&t,r=e.email,n=e.threadId;return function(e,t){e(g(r));var i=(0,f.getThreadByThreadId)(t(),{threadId:n}),s=(0,v.getChannelName)(i),y=(0,o.getSessionId)(t()),b=(0,p.getHubspotUtk)(t()),_=function(){e(h(r));e((0,l.default)({channel:s,email:r,threadId:n}));a&&e((0,d.visitorConsentsToCommunicate)(a));e((0,c.trackInteraction)("widget-interaction",{action:"submit email"}));return{error:null}},E=function(t){e(m(t));return{error:t}};return u.sendVisitorEmailAddress({threadId:n,email:r,sessionId:y,hubspotUtk:b}).then(_,E)}}},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.publishEmailCaptureResponseMessage=t.default=void 0;var n=a(172),i=a(204),o=r(a(223)),s=a(259),l=a(260),u=function(e){var t=e.channel,a=e.email,r=e.threadId;return function(e){var u=(0,i.buildUnpublishedMessage)({descriptor:{},metadata:new o.default({email:a}),senderId:s.SYSTEM_ID,senderType:n.SYSTEM,threadId:r});e((0,l.publishMessageToConversation)({channel:t,message:u,threadId:r}))}};t.publishEmailCaptureResponseMessage=t.default=u},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.visitorConsentsToCommunicate=p;t.consentToCommunicateFailed=t.consentToCommunicateSucceeded=t.clickedConsentToCommunicate=void 0;var r=a(263),n=a(707),i=a(1227),o=a(1159),s=a(422),l=a(469),u=a(1160),d=(0,r.createAction)(n.CONSENT_TO_COMMUNICATE);t.clickedConsentToCommunicate=d;var c=(0,r.createAction)(n.CONSENT_TO_COMMUNICATE_SUCCEEDED);t.consentToCommunicateSucceeded=c;var f=(0,r.createAction)(n.CONSENT_TO_COMMUNICATE_FAILED,function(e){return{error:e}});t.consentToCommunicateFailed=f;function p(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?function(e,t){var a=(0,s.getSessionId)(t()),r=(0,l.getSelectedThreadId)(t()),n=(0,u.getHubspotUtk)(t());e(d());var p=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).sessionId;e((0,o.updateSessionId)(t));e(c())},v=function(t){e(f(t))};(0,i.sendConsentToCommunicate)({sessionId:a,hubspotUtk:n,threadId:r}).then(p,v).done()}:null}},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.sendConsentToCommunicate=s;var n=r(a(52)),i=r(a(435)),o="livechat-public/v1/privacy/consentToCommunicate";function s(e){var t=e.sessionId,a=e.hubspotUtk,r=e.threadId;return i.default.put(o,{query:{sessionId:t,hubspotUtk:a,threadId:r,portalId:n.default.get()}})}},,,,,,,,,,,,,,,function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.attachmentError=void 0;var r=a(263),n=a(448),i=(0,r.createAction)(n.ATTACHMENT_ERROR,function(e,t){return{error:e,threadId:t}});t.attachmentError=i},,function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.attachmentUploadComplete=void 0;var r=a(263),n=a(448),i=(0,r.createAction)(n.ATTACHMENT_UPLOAD_COMPLETE);t.attachmentUploadComplete=i},,function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.attachmentUploadProgress=void 0;var r=a(263),n=a(448),i=(0,r.createAction)(n.ATTACHMENT_UPLOAD_PROGRESS);t.attachmentUploadProgress=i},,function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.attachmentUploadStart=void 0;var r=a(263),n=a(448),i=(0,r.createAction)(n.ATTACHMENT_UPLOAD_START);t.attachmentUploadStart=i},,function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.clearAttachments=void 0;var r=a(263),n=a(448),i=(0,r.createAction)(n.CLEAR_ATTACHMENTS,function(e){return{threadId:e}});t.clearAttachments=i},,function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.dismissAttachmentsError=void 0;var r=a(263),n=a(448),i=(0,r.createAction)(n.DISMISS_ATTACHMENTS_ERROR);t.dismissAttachmentsError=i},,function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.handleAttachmentUploadProgress=void 0;var r=a(1255),n=a(1246),i=function(e){var t=e.localId,a=e.threadId,i=e.loaded,o=e.total;return function(e){var s=i/o*r.MAX_UPLOAD_PROGRESS_PERCENTAGE;e((0,n.attachmentUploadProgress)({localId:t,threadId:a,progress:s}))}};t.handleAttachmentUploadProgress=i},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.MAX_UPLOAD_PROGRESS_PERCENTAGE=t.MAX_FILE_SIZE=t.FILE_MANAGER_API_PREFIX=void 0;var r="filemanager/api";t.FILE_MANAGER_API_PREFIX=r;var n=10485760;t.MAX_FILE_SIZE=n;var i=95;t.MAX_UPLOAD_PROGRESS_PERCENTAGE=i},,function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.removeAttachment=void 0;var r=a(263),n=a(448),i=(0,r.createAction)(n.REMOVE_ATTACHMENT);t.removeAttachment=i},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.removeAttachmentFromThread=void 0;var r=a(699),n=a(275),i=a(319),o=a(1257),s=function(e){var t=e.attachment,a=e.thread;return function(e){var s=(0,i.getThreadId)(a),l=(0,r.getLocalId)(t);e((0,o.removeAttachment)({localId:l,threadId:s}));e((0,n.trackInteraction)("remove-staged-attachment",{action:"remove staged attachment"}))}};t.removeAttachmentFromThread=s},,,function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.uploadAttachment=void 0;var n=r(a(34)),i=a(699),o=a(275),s=a(422),l=a(1262),u=a(1263),d=a(1264),c=a(1248),f=a(1244),p=a(1265),v=a(1254),g=a(1242),m=a(431),h=a(1255),y=a(1266),b=function(e){var t=e.attachment,a=e.threadId;return function(e,r){var b=Date.now();e((0,c.attachmentUploadStart)({attachment:t,threadId:a}));var _=(0,s.getSessionId)(r()),E=(0,i.getLocalId)(t),T=(0,i.getFile)(t),C=(0,d.createFormDataForAttachment)({file:T});return(0,l.fetchAttachmentUploadUrlClient)({sessionId:_}).then(function(t){var r=t.uploadUrl;return(0,u.uploadAttachmentClient)({formData:C,onProgress:function(t){var r=t.loaded,n=t.total;e((0,v.handleAttachmentUploadProgress)({localId:E,threadId:a,loaded:r,total:n}))},uploadUrl:h.FILE_MANAGER_API_PREFIX+"/"+r})}).then(function(t){var r=(0,n.default)(t.objects,1)[0],i=Date.now();e((0,f.attachmentUploadComplete)({localId:E,threadId:a,fileId:r.id}));(0,y.isPersistedThreadIdentifier)(a)&&e((0,m.associateFileIdsWithThread)({fileIds:[r.id],sessionId:_,threadId:a}));e((0,o.trackInteraction)("attached-file",{action:"attached file","attachment-type":r.extension,"attachment-size-bytes":T.size,"upload-time-ms":i-b}))}).catch(function(){e((0,g.attachmentError)(p.UPLOAD_ERROR,a));e((0,o.trackInteraction)("failed-to-attach-file",{action:"failed to attach file","failure-type":"upload error"}))})}};t.uploadAttachment=b},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.fetchAttachmentUploadUrlClient=void 0;var n=r(a(435)),i="livechat-public/v1/attachment/upload-url",o=function(e){var t=e.sessionId;return n.default.get(i,{query:{sessionId:t}})};t.fetchAttachmentUploadUrlClient=o},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.uploadAttachmentClient=void 0;var n=r(a(436)),i=function(e){var t=e.formData,a=e.uploadUrl,r=e.onProgress,i=void 0===r?function(){}:r;return n.default.post(a,{headers:{"content-type":!1},data:t,timeout:0,withXhr:function(e){e.upload.addEventListener("progress",i,!1)}})};t.uploadAttachmentClient=i},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.createFormDataForAttachment=void 0;var r=function(e){var t=e.file,a=new FormData;a.append("file",t);return a};t.createFormDataForAttachment=r},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.UPLOAD_ERROR=t.SIZE_LIMIT_EXCEEDED=void 0;var r="SIZE_LIMIT_EXCEEDED";t.SIZE_LIMIT_EXCEEDED=r;var n="UPLOAD_ERROR";t.UPLOAD_ERROR=n},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.isPersistedThreadIdentifier=void 0;var r=a(261),n=function(e){return e!==r.STUBBED_THREAD_ID};t.isPersistedThreadIdentifier=n},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.validateAttachmentFile=void 0;var n=a(1265),i=a(1268),o=r(a(1170)),s=function(e){var t=(0,o.default)();(0,i.fileExceedsSizeLimit)(e)?t.reject(n.SIZE_LIMIT_EXCEEDED):t.resolve();return t.promise};t.validateAttachmentFile=s},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.fileExceedsSizeLimit=void 0;var r=a(1255),n=function(e){return e.size>r.MAX_FILE_SIZE};t.fileExceedsSizeLimit=n},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.selectAttachmentFile=void 0;var n=r(a(1187)),i=a(275),o=a(1270),s=a(1242),l=a(319),u=a(1267),d=a(1261),c=function(e){var t=e.file,a=e.thread;return function(e){var r=(0,l.getThreadId)(a);return(0,u.validateAttachmentFile)(t).then(function(){var a=new n.default({file:t,progress:0});return e((0,d.uploadAttachment)({attachment:a,threadId:r}))}).catch(function(t){e((0,s.attachmentError)(t,r));e((0,i.trackInteraction)("failed-to-attach-file",{action:"failed to attach file","failure-type":(0,o.validationErrorToTrackingFailureType)(t)}))})}};t.selectAttachmentFile=c},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.validationErrorToTrackingFailureType=void 0;var r=a(1265),n=function(e){switch(e){case r.SIZE_LIMIT_EXCEEDED:return"size limit exceeded";default:return null}};t.validationErrorToTrackingFailureType=n},,,function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.buildFileAttachment=void 0;var n=a(699),i=a(1189),o=r(a(354)),s=function(e){if(!e)return null;var t=e.filter(i.isUploadCompleted).map(n.getFileId);return t.size?(0,o.default)({fileIds:t}):null};t.buildFileAttachment=s},,,,,,function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.attachmentsErrorForThreadInProps=void 0;var n=a(188),i=r(a(144)),o=a(1280),s=a(319),l=a(323),u=(0,n.createSelector)([o.getFileUploadsErrors,l.threadFromProps],function(e,t){var a=(0,s.getThreadId)(t);return(0,i.default)(a,e)||null});t.attachmentsErrorForThreadInProps=u},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getFileUploadsErrors=void 0;var n=(0,r(a(144)).default)("fileUploadsErrors");t.getFileUploadsErrors=n},,function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getFileUploadListForCurrentThreadId=void 0;var n=a(60),i=a(188),o=r(a(144)),s=a(1283),l=a(1284),u=(0,i.createSelector)([l.getFileUploads,s.getCurrentThreadId],function(e,t){var a=(0,o.default)(t,e);return a?a.toList():(0,n.List)()});t.getFileUploadListForCurrentThreadId=u},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getCurrentThreadId=void 0;var r=a(319),n=a(188),i=a(468),o=(0,n.createSelector)([i.getSelectedThread],r.getThreadId);t.getCurrentThreadId=o},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getFileUploads=void 0;var n=(0,r(a(144)).default)("fileUploads");t.getFileUploads=n},,,,,,,,function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.consentToCookies=o;var r=a(760),n=a(762),i=a(275);function o(){return function(e,t){e((0,n.handleStoreMessagesCookie)((0,r.getMessagesUtk)(t())));e((0,i.trackInteraction)("widget-interaction",{action:"clicked consent to cookies button"}))}}},,,,function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.dismissConsentToProcessError=o;t.clickedDismissConsentToProcessError=void 0;var r=a(263),n=a(707),i=(0,r.createAction)(n.DISMISS_CONSENT_TO_COMMUNICATE_ERROR);t.clickedDismissConsentToProcessError=i;function o(){return function(e){e(i())}}},,,function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.gdprExplicitConsentRequired=void 0;var n=r(a(162)),i=a(280),o=a(195),s=(0,n.default)(i.getMessage,o.getGdprExplicitConsentRequired);t.gdprExplicitConsentRequired=s},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getHasGivenConsentToProcess=void 0;var n=r(a(144)),i=a(188),o=(0,n.default)("gdpr"),s=(0,i.createSelector)([o],(0,n.default)("hasVisitorGivenConsentToProcess"));t.getHasGivenConsentToProcess=s},,function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.shouldRecordImplicitConsentToProcess=void 0;var r=a(188),n=a(758),i=a(1299),o=a(190),s=a(1300),l=(0,r.createSelector)([o.getLatestWidgetData,s.getHasGivenConsentToProcess],function(e,t){return(0,n.gdprConsentToProcessEnabled)(e)&&!(0,i.gdprExplicitConsentRequired)(e)&&!t});t.shouldRecordImplicitConsentToProcess=l},,,,,,,,,,function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.inputStagingEvent=void 0;var r=a(510),n=a(512),i=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(a){a((0,r.postExternalApiEvent)({eventType:n.INPUT_STAGING,payload:{visitorMessageData:e,isEmptyInput:t}}))}};t.inputStagingEvent=i},,function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.DEFAULT_MAX_MESSAGE_LENGTH=void 0;var r=1024;t.DEFAULT_MAX_MESSAGE_LENGTH=r},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(76)),d=n(a(78)),c=n(a(238)),f=a(699),p=a(1189),v=n(a(881)),g=a(1314),m=n(a(245)),h=a(60),y=n(a(7)),b=r(a(6)),_=n(a(10)),E=n(a(862)),T=a(1316),C=a(1162),S=n(a(1317)),M=n(a(1192)),I=n(a(1318)),x=a(1059),A=n(a(1329)),P=a(1044),O=a(1339),R=n(a(1027)),k=n(a(1340)),N=n(a(920)),L=E.default.div.withConfig({displayName:"MessageEditor__FileUploadWrapper",componentId:"sc-8t1ye7-0"})(["display:flex;overflow:auto;& > *:not(:last-child){margin-right:8px;}"]),w=function(e){(0,d.default)(t,e);function t(e){var a;(0,i.default)(this,t);(a=(0,s.default)(this,(0,l.default)(t).call(this,e))).state={messageText:e.stagedMessageEditorText||""};a.handleChange=a.handleChange.bind((0,u.default)(a));a.handlePublish=a.handlePublish.bind((0,u.default)(a));a.handleKeyDown=a.handleKeyDown.bind((0,u.default)(a));a.setEditorRef=a.setEditorRef.bind((0,u.default)(a));a.focusEditor=a.focusEditor.bind((0,u.default)(a));a.renderTextInput=a.renderTextInput.bind((0,u.default)(a));a.renderFileUploads=a.renderFileUploads.bind((0,u.default)(a));a.handleSelectAttachmentFiles=a.handleSelectAttachmentFiles.bind((0,u.default)(a));a.editorRef=null;a.onInputFocus=a.onInputFocus.bind((0,u.default)(a));a.onInputBlur=a.onInputBlur.bind((0,u.default)(a));return a}(0,o.default)(t,[{key:"componentDidMount",value:function(){this.focusEditor()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){!e.disabled&&this.props.disabled&&this.focusEditor()}},{key:"focusEditor",value:function(){var e=this.editorRef;e&&setTimeout(function(){e.focus()})}},{key:"getMessageText",value:function(){return this.state.messageText}},{key:"messageTextIsWithinLimit",value:function(){return this.getMessageText().length<g.DEFAULT_MAX_MESSAGE_LENGTH}},{key:"hasAttachments",value:function(){return this.props.stagedAttachments&&this.props.stagedAttachments.size}},{key:"attachmentsAreValid",value:function(){return!this.props.stagedAttachments||this.props.stagedAttachments.every(p.isUploadCompleted)}},{key:"canUploadAttachment",value:function(){return!this.props.hasUnansweredQuickReplyMessage&&(!this.props.stagedAttachments||!this.props.stagedAttachments.size)}},{key:"messageContentsAreValid",value:function(){var e=this.getMessageText()&&""!==this.getMessageText().trim();return this.messageTextIsWithinLimit()&&this.attachmentsAreValid()&&(e||this.hasAttachments())}},{key:"canPublish",value:function(){var e=this.props,t=e.disabled,a=e.networkOffline,r=e.disablePublish;return this.messageContentsAreValid()&&!a&&!t&&!r}},{key:"handleChange",value:function(e){var t=this.props,a=t.chatInputChanged,r=t.shouldSendInputStagingEvent,n=t.inputStaging,i=e.target.value;this.setState({messageText:i});r&&!i&&n(i,!0);""!==i&&a(i)}},{key:"handleKeyDown",value:function(e){if(e.keyCode===T.ENTER&&!1===e.shiftKey){this.handlePublish();e.preventDefault();e.stopPropagation();return!1}return!0}},{key:"handlePublish",value:function(){if(this.canPublish()){var e=this.getMessageText();this.props.publishMessage({text:e,richText:"<div>"+c.default.link((0,C.escape)(e),{stripPrefix:!1})+"</div>"});this.setState({messageText:""});var t=this.props,a=t.mobile,r=t.isOnFocus;if(a&&(0,x.isIOSDevice)()&&!r)return;this.focusEditor()}}},{key:"getValidationMessage",value:function(){return this.messageTextIsWithinLimit()?"":m.default.text("conversations-visitor-ui.chatTextArea.validationMessage")}},{key:"setEditorRef",value:function(e){var t=_.default.findDOMNode(e);this.editorRef=t}},{key:"handleSelectAttachmentFiles",value:function(e){var t=e.files;this.props.onSelectAttachmentFiles({files:t});this.focusEditor()}},{key:"onInputFocus",value:function(){(0,this.props.toggleOnAndOffInputFocus)(!0)}},{key:"onInputBlur",value:function(){(0,this.props.toggleOnAndOffInputFocus)(!1)}},{key:"renderTextInput",value:function(){return b.default.createElement(I.default,{disabled:this.props.disabled||this.props.networkOffline,error:!this.messageTextIsWithinLimit(),messageText:this.state.messageText,onChange:this.handleChange,onKeyDown:this.handleKeyDown,showQuickReplyPlaceholder:this.props.showQuickReplyPlaceholder,setEditorRef:this.setEditorRef,showingHsBranding:this.props.showingHsBranding,validationMessage:this.getValidationMessage(),onInputFocus:this.onInputFocus,onInputBlur:this.onInputBlur})}},{key:"renderFileUploads",value:function(){var e=this;return this.props.stagedAttachments&&this.props.stagedAttachments.size?b.default.createElement(L,{className:"m-bottom-2"+(this.props.showingHsBranding?" m-top-2":"")},this.props.stagedAttachments.map(function(t){return b.default.createElement(M.default,{key:(0,f.getLocalId)(t),attachment:t,onRemove:function(){e.props.onRemoveAttachment({attachment:t})}})})):null}},{key:"render",value:function(){var e=(0,P.getUseDefaultColor)(this.props.coloring)?null:(0,P.getAccentColor)(this.props.coloring),t=!this.canPublish();return b.default.createElement(S.default,{inputToRender:this.renderTextInput,fileUploads:this.renderFileUploads,showingHsBranding:this.props.showingHsBranding},b.default.createElement(b.default.Fragment,null,this.props.supportsAttachments&&!this.props.shouldDisableAttachment?b.default.createElement("div",{className:this.props.mobile?"m-right-3":""},b.default.createElement(A.default,{accept:this.props.fileTypes,color:e,disabled:!this.canUploadAttachment(),mobile:this.props.mobile,onClick:this.props.onAttachmentButtonClick,onSelectFiles:this.handleSelectAttachmentFiles,maxAttachmentFileSize:this.props.maxAttachmentFileSize})):null,b.default.createElement(R.default,{className:"chat-send-button","data-test-id":"chat-send-button",disabled:t,shape:"circle",onClick:this.handlePublish,use:"transparent-on-background","aria-label":m.default.text("conversations-visitor-ui.visitorExperienceAriaLabels.send")},b.default.createElement(N.default,{icon:b.default.createElement(k.default,null)}))))}}]);return t}(b.Component);w.propTypes={chatInputChanged:y.default.func.isRequired,coloring:(0,v.default)("ColoringRecord"),disablePublish:y.default.bool.isRequired,disabled:y.default.bool.isRequired,fileTypes:y.default.arrayOf(y.default.string).isRequired,hasUnansweredQuickReplyMessage:y.default.bool.isRequired,inputStaging:y.default.func.isRequired,isOnFocus:y.default.bool,maxAttachmentFileSize:y.default.number.isRequired,mobile:y.default.bool,networkOffline:y.default.bool.isRequired,onAttachmentButtonClick:y.default.func,onRemoveAttachment:y.default.func.isRequired,onSelectAttachmentFiles:y.default.func.isRequired,publishMessage:y.default.func.isRequired,shouldDisableAttachment:y.default.bool,shouldSendInputStagingEvent:y.default.bool.isRequired,showQuickReplyPlaceholder:y.default.bool.isRequired,showingHsBranding:y.default.bool,stagedAttachments:y.default.instanceOf(h.List),stagedMessageEditorText:y.default.string,supportsAttachments:y.default.bool.isRequired,toggleOnAndOffInputFocus:y.default.func};w.displayName="MessageEditor";w.defaultProps={hasUnansweredQuickReplyMessage:!1,isThreadStarted:!0,disablePublish:!1,onRemoveAttachment:function(){},onSelectAttachmentFiles:function(){},createNewThread:function(){},supportsAttachments:!1,fileTypes:O.ALLOWED_FILE_TYPES};var D=w;t.default=D;e.exports=t.default},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.KEYPAD_NUMBER_9=t.KEYPAD_NUMBER_8=t.KEYPAD_NUMBER_7=t.KEYPAD_NUMBER_6=t.KEYPAD_NUMBER_5=t.KEYPAD_NUMBER_4=t.KEYPAD_NUMBER_3=t.KEYPAD_NUMBER_2=t.KEYPAD_NUMBER_1=t.KEYPAD_NUMBER_0=t.NUMBER_9=t.NUMBER_8=t.NUMBER_7=t.NUMBER_6=t.NUMBER_5=t.NUMBER_4=t.NUMBER_3=t.NUMBER_2=t.NUMBER_1=t.NUMBER_0=t.Z=t.Y=t.UP=t.SPACE=t.RIGHT=t.NBSP=t.LEFT=t.ESC=t.TAB=t.ENTER=t.DOWN=t.BRACKET_RIGHT=t.BRACKET_LEFT=t.BACKSPACE=void 0;var r=8;t.BACKSPACE=r;var n=219;t.BRACKET_LEFT=n;var i=221;t.BRACKET_RIGHT=i;var o=40;t.DOWN=o;var s=13;t.ENTER=s;var l=9;t.TAB=l;var u=27;t.ESC=u;var d=37;t.LEFT=d;var c=160;t.NBSP=c;var f=39;t.RIGHT=f;var p=32;t.SPACE=p;var v=38;t.UP=v;var g=89;t.Y=g;var m=90;t.Z=m;var h=48;t.NUMBER_0=h;var y=49;t.NUMBER_1=y;var b=50;t.NUMBER_2=b;var _=51;t.NUMBER_3=_;var E=52;t.NUMBER_4=E;var T=53;t.NUMBER_5=T;var C=54;t.NUMBER_6=C;var S=55;t.NUMBER_7=S;var M=56;t.NUMBER_8=M;var I=57;t.NUMBER_9=I;var x=96;t.KEYPAD_NUMBER_0=x;var A=97;t.KEYPAD_NUMBER_1=A;var P=98;t.KEYPAD_NUMBER_2=P;var O=99;t.KEYPAD_NUMBER_3=O;var R=100;t.KEYPAD_NUMBER_4=R;var k=101;t.KEYPAD_NUMBER_5=k;var N=102;t.KEYPAD_NUMBER_6=N;var L=103;t.KEYPAD_NUMBER_7=L;var w=104;t.KEYPAD_NUMBER_8=w;var D=105;t.KEYPAD_NUMBER_9=D},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(78)),d=n(a(7)),c=r(a(6)),f=n(a(862)),p=n(a(988)),v=f.default.div.withConfig({displayName:"MessageComposer__FullWidth",componentId:"sc-1f9dab0-0"})(["width:100%;"]),g=f.default.div.withConfig({displayName:"MessageComposer__InputWrapper",componentId:"sc-1f9dab0-1"})(["display:flex;width:100%;align-items:center;justify-content:space-between;flex-wrap:nowrap;"]),m=function(e){(0,u.default)(t,e);function t(){(0,i.default)(this,t);return(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}(0,o.default)(t,[{key:"render",value:function(){var e="input-container m-bottom-2"+(this.props.showingHsBranding?"":" no-branding");return c.default.createElement("div",{className:e},c.default.createElement(p.default,{direction:"column",justify:"between",wrap:"nowrap"},this.props.fileUploads&&c.default.createElement(v,null,this.props.fileUploads()),c.default.createElement(g,null,this.props.inputToRender(),this.props.children&&c.default.createElement("div",{className:"display-flex flex-row m-left-1 no-shrink"},this.props.children))))}}]);return t}(c.Component);m.propTypes={children:d.default.node,fileUploads:d.default.func,inputToRender:d.default.func.isRequired,showingHsBranding:d.default.bool};m.defaultProps={fileUploads:null,showingHsBranding:!1};m.displayName="MessageComposer";var h=m;t.default=h;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(245)),i=r(a(7)),o=r(a(6)),s=a(1319),l=r(a(1320)),u=r(a(1322)),d=r(a(1324)),c=(0,l.default)(d.default);function f(e){var t=e.disabled,a=e.error,r=e.messageText,i=e.onChange,l=e.onInputBlur,d=e.onInputFocus,f=e.onKeyDown,p=e.setEditorRef,v=e.validationMessage,g=e.showQuickReplyPlaceholder;return o.default.createElement(s.ChatWidgetLocaleContextConsumer,null,function(e){return o.default.createElement(u.default,{"aria-label":n.default.text(g?"conversations-visitor-ui.chatTextArea.forceQuickReplyPlaceholder":"conversations-visitor-ui.chatTextArea.placeholder",{locale:e}),validationMessage:v,error:a,required:!0},function(s){return o.default.createElement(c,Object.assign({},s,{use:a?"error":"unstyled",className:"widget-textarea message-box","data-test-id":"widget-textarea",tabIndex:"0",innerRef:p,maxHeight:100,placeholder:n.default.text(g?"conversations-visitor-ui.chatTextArea.forceQuickReplyPlaceholder":"conversations-visitor-ui.chatTextArea.placeholder",{locale:e}),disabled:t,onChange:i,onKeyDown:f,value:r,onFocus:d,onBlur:l}))})})}f.propTypes={disabled:i.default.bool.isRequired,error:i.default.bool.isRequired,messageText:i.default.string.isRequired,onChange:i.default.func.isRequired,onInputBlur:i.default.func,onInputFocus:i.default.func,onKeyDown:i.default.func.isRequired,setEditorRef:i.default.func.isRequired,showQuickReplyPlaceholder:i.default.bool.isRequired,validationMessage:i.default.string.isRequired};f.displayName="TextInput";var p=f;t.default=p;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.ChatWidgetLocaleContextProvider=t.ChatWidgetLocaleContextConsumer=void 0;var n=r(a(6)).default.createContext(void 0),i=n.Consumer;t.ChatWidgetLocaleContextConsumer=i;var o=n.Provider;t.ChatWidgetLocaleContextProvider=o},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a(34)),o=n(a(115)),s=n(a(7)),l=r(a(6)),u=a(1321),d=function(){},c=function(e){var t=l.default.forwardRef(function(t,a){var r=t.onBlur,n=void 0===r?d:r,s=t.onFocus,c=void 0===s?d:s,f=(0,o.default)(t,["onBlur","onFocus"]),p=a||(0,l.useRef)(),v=(0,l.useState)(null),g=(0,i.default)(v,2),m=g[0],h=g[1],y=function(e){if(m&&e.target!==m){p.current&&p.current.blur();h(null);return!1}return Boolean(m)};(0,u.useTouchListener)(y);var b=function(e){h(null);n(e)},_=function(e){e.target&&h(e.target);c(e)};return l.default.createElement(e,Object.assign({},f,{ref:p,onFocus:_,onBlur:b}))});t.displayName="Component";return t};c.propTypes={innerRef:s.default.func.isRequired,onBlur:s.default.func.isRequired,onFocus:s.default.func.isRequired};var f=c;t.default=f;e.exports=t.default},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.useTouchListener=void 0;var r=a(6),n=function(e){(0,r.useEffect)(function(){var t=function(t){if(e(t)){t.stopPropagation();t.preventDefault()}};document.addEventListener("touchmove",t,{passive:!1});return function(){document.removeEventListener("touchmove",t)}},[e])};t.useTouchListener=n},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=t.Small=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(78)),d=n(a(7)),c=n(a(6)),f=r(a(862)),p=n(a(923)),v=a(1323),g=function(e){return(0,f.css)(["color:",";"],(0,v.getFormControlErrorTextColor)(e))},m=f.default.small.withConfig({displayName:"VizExFormControl__Small",componentId:"sc-1y3dip8-0"})(["font-size:12px;line-height:18px;margin-top:9px;display:block;",""],function(e){var t=e.error,a=e.theme;return t?g(a):null});t.Small=m;var h=f.default.div.withConfig({displayName:"VizExFormControl__FormControlWrapper",componentId:"sc-1y3dip8-1"})(["width:100%;flex-basis:100%;"]),y=function(e){(0,u.default)(t,e);function t(){var e,a;(0,i.default)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];(a=(0,s.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(n)))).getChildProps=function(e){var t=e.ariaLabel,a=e.newError,r=e.newRequired,n=e.validationMessage,i=e.fallbackId,o={"aria-label":t,required:r,"aria-invalid":a,"aria-required":r,ref:e.ref};i&&(o.id=i);a&&(o.error=n);return o};return a}(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e["aria-label"],a=e.error,r=e.validationMessage,n=e.required,i=e.theme,o=(0,e.children)(Object.assign({},this.getChildProps({ariaLabel:t,newError:a,newRequired:n,validationMessage:r})));return c.default.createElement(h,null,o,r?c.default.createElement(m,{error:a,theme:i},r):null)}}]);return t}(c.default.Component);y.displayName="VizExFormControl";y.propTypes={"aria-label":d.default.string,children:d.default.func.isRequired,error:d.default.bool,required:d.default.bool.isRequired,theme:p.default,validationMessage:d.default.node};y.defaultProps={error:!1,required:!1};var b=y;t.default=b},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getFormControlErrorTextColor=void 0;var r=a(925).getErrorTextColor;t.getFormControlErrorTextColor=r},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a(115)),o=r(a(6)),s=n(a(7)),l=r(a(862)),u=a(1325),d=a(1326),c=n(a(923)),f=a(1327),p=a(1328),v=function(e){return""===e.trim()||"<br />"===e.trim()||"<br>"===e.trim()||"<br/>"===e.trim()},g=function(){return(0,l.css)(["outline:none;"])},m=function(e){var t=e.use,a=e.theme;switch(t){case f.UNSTYLED:return(0,l.css)(["border:none;"]);case f.ERROR:return(0,l.css)(["border:2px solid;border-color:",";"],(0,d.getExpandingInputErrorBorderColor)(a));case f.DEFAULT:default:return(0,l.css)(["border:2px solid;border-color:",";"],(0,d.getExpandingInputBorderColor)(a))}},h=function(e){var t=e.theme;return(0,l.css)(["cursor:not-allowed;background-color:",";color:",";&[contenteditable][placeholder]:empty::after{color:",";cursor:not-allowed;}"],(0,d.getExpandingInputDisabledBackgroundColor)(t),(0,d.getExpandingInputDisabledTextColor)(t),(0,d.getExpandingInputDisabledTextColor)(t))},y=l.default.div.withConfig({displayName:"VizExExpandingInput__StyledInput",componentId:"sc-1ikllb-0"})(["border-radius:3px;font-size:16px;line-height:22px;min-height:40px;max-height:",";overflow-x:hidden;overflow-y:auto;padding:8px;position:relative;width:100%;flex-basis:100%;word-break:break-word;",";",";",";&[contenteditable][placeholder]:empty{overflow-y:hidden;}&[contenteditable][placeholder]:empty::after{display:block;content:attr(placeholder);position:relative;color:",";background-color:transparent;cursor:text;user-select:none;font-size:16px;line-height:22px;height:22px;}@media all and (-ms-high-contrast:none){&[contenteditable][placeholder]:empty::after{position:absolute;top:50%;transform:translateY(-50%);}}:focus{",";}",";"],function(e){var t=e.maxHeight;return"number"==typeof t?t+"px":t||"150px"},function(e){return e.disabled&&""},function(e){return e.focus&&g()},m,function(e){var t=e.theme;return(0,d.getExpandingInputPlaceholderColor)(t)},g,function(e){return e.disabled&&h(e)}),b=o.default.forwardRef(function(e,t){var a=t||(0,o.useRef)(),r=e.onInput,n=e.placeholder,s=e.onChange,l=e.value,d=e.maxHeight,c=e.disabled,f=(0,i.default)(e,["onInput","placeholder","onChange","value","maxHeight","disabled"]),g=function(e){e.persist();a.current.innerHTML&&v(a.current.innerHTML)&&(a.current.innerHTML="");e.target.value=e.target.innerText;for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];u.callIfValid.apply(void 0,[s,e].concat(n));u.callIfValid.apply(void 0,[r,e].concat(n))},m=function(e){e.preventDefault();var t;try{t=e.clipboardData.getData("text/plain")}catch(a){t=(0,p.stripHTML)(e.clipboardData.getData("text"))}document.queryCommandSupported("insertText")?document.execCommand("insertText",!1,t):document.execCommand("paste",!1,t)};(0,o.useLayoutEffect)(function(){null!==l&&void 0!==l&&l!==a.current.innerText&&(a.current.innerText=l)},[a,l]);return o.default.createElement(y,Object.assign({ref:a},f,{placeholder:n,onInput:g,onPaste:m,contentEditable:!c,maxHeight:d,disabled:c,"aria-disabled":c}))});b.displayName="VizExExpandingInput";b.propTypes={disabled:s.default.bool,maxHeight:s.default.number,onChange:s.default.func,onInput:s.default.func,placeholder:s.default.string,theme:c.default,use:s.default.oneOf([f.UNSTYLED,f.DEFAULT,f.ERROR]),value:s.default.string};var _=b;t.default=_;e.exports=t.default},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.callIfValid=void 0;var r=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),r=1;r<t;r++)a[r-1]=arguments[r];"function"==typeof e&&e.apply(void 0,a)};t.callIfValid=r},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getExpandingInputPlaceholderColor=t.getExpandingInputDisabledTextColor=t.getExpandingInputDisabledBackgroundColor=t.getExpandingInputErrorBorderColor=t.setExpandingInputBorderColor=t.getExpandingInputBorderColor=void 0;var r=a(925),n=a(927),i=function(e){return(0,n.get)("expandingInputBorder")||(0,r.getPrimaryColor)(e)};t.getExpandingInputBorderColor=i;var o=(0,r.setThemeProperty)("expandingInputBorder");t.setExpandingInputBorderColor=o;var s=r.getErrorTextColor;t.getExpandingInputErrorBorderColor=s;var l=r.getDisabledBackgroundColor;t.getExpandingInputDisabledBackgroundColor=l;var u=r.getDisabledTextColor;t.getExpandingInputDisabledTextColor=u;var d=r.getPlaceholderTextColor;t.getExpandingInputPlaceholderColor=d},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.ERROR=t.DEFAULT=t.UNSTYLED=void 0;var r="unstyled";t.UNSTYLED=r;var n="default";t.DEFAULT=n;var i="error";t.ERROR=i},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.stripHTML=void 0;var r=function(e){return(new DOMParser).parseFromString(e,"text/html").body.textContent||""};t.stripHTML=r},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(4)),i=r(a(5)),o=r(a(75)),s=r(a(77)),l=r(a(78)),u=r(a(245)),d=r(a(948)),c=r(a(7)),f=r(a(6)),p=r(a(10)),v=r(a(862)),g=r(a(1027)),m=r(a(1330)),h=r(a(920)),y=r(a(1338)),b=v.default.input.withConfig({displayName:"AttachmentPickerButton__HiddenInput",componentId:"mj74yt-0"})(["display:none;"]),_=function(e){(0,l.default)(t,e);function t(e){var a;(0,n.default)(this,t);(a=(0,o.default)(this,(0,s.default)(t).call(this,e))).inputRefCallback=function(e){a.inputRef=e};a.findInputNode=function(){return a.inputRef?p.default.findDOMNode(a.inputRef):null};a.clearInputNode=function(){var e=a.findInputNode();e&&(e.value="")};a.handlePickerClick=function(e){var t=a.findInputNode();t&&t.click();a.props.onClick(e)};a.onInputChange=function(e){var t=e.target.files;a.props.onSelectFiles({files:t});a.clearInputNode()};a.renderMaxFileSizeTooltip=function(){if(!a.props.mobile)return f.default.createElement(d.default,{message:"conversations-visitor-ui.fileSizeLimit",options:{size:u.default.formatSize(a.props.maxAttachmentFileSize)}})};a.inputRef=null;return a}(0,i.default)(t,[{key:"render",value:function(){var e=this.props.disabled;return f.default.createElement(f.default.Fragment,null,f.default.createElement(m.default,{content:this.renderMaxFileSizeTooltip(),placement:"top center"},f.default.createElement(g.default,{disabled:e,onClick:this.handlePickerClick,use:"transparent-on-background","aria-label":u.default.text("conversations-visitor-ui.visitorExperienceAriaLabels.attachment"),shape:"circle"},f.default.createElement(h.default,{icon:f.default.createElement(y.default,null)}))),f.default.createElement(b,{accept:this.props.accept.join(","),"data-selenium-test":"visitor-attachment-file-input",disabled:this.props.disabled,ref:this.inputRefCallback,type:"file",multiple:this.props.allowMultiple,onChange:this.onInputChange}))}}]);return t}(f.default.PureComponent);_.displayName="AttachmentPickerButton";_.propTypes={accept:c.default.arrayOf(c.default.string).isRequired,allowMultiple:c.default.bool.isRequired,disabled:c.default.bool,maxAttachmentFileSize:c.default.number.isRequired,mobile:c.default.bool,onClick:c.default.func,onSelectFiles:c.default.func.isRequired};_.defaultProps={accept:[],allowMultiple:!1,onClick:function(){}};var E=_;t.default=E;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a(34)),o=r(a(6)),s=n(a(7)),l=n(a(862)),u=a(1331),d=n(a(1332)),c=n(a(1336)),f=n(a(923)),p=a(1325),v=l.default.div.withConfig({displayName:"VizExTooltip__Popover",componentId:"sc-1iiluey-0"})(["transition-property:",";transition-duration:","ms;opacity:",";transform:",";position:absolute;pointer-events:none;width:100%;height:100%;"],function(e){return e.transitioning?"opacity ease-out, transform ease-out":"none"},function(e){return e.duration},function(e){return e.open?"1":"0"},function(e){var t=e.open,a=e.transitioning;return t&&!a?"none":t?"scale(1)":"scale(.75)"}),g=l.default.div.withConfig({displayName:"VizExTooltip__PopoverWrapper",componentId:"sc-1iiluey-1"})(["display:inline-block;position:relative;"]),m=function(e){var t=e.content,a=e.backgroundColor,r=e.textColor,n=e.placement,s=e.children,l=e.theme,u=e.onOpenChange,f=e.open,m=(0,o.useState)(!1),h=(0,i.default)(m,2),y=h[0],b=h[1];if(!t)return s;var _="boolean"==typeof f,E=function(){if(!_){(0,p.callIfValid)(u,!0);b(!0)}},T=function(){if(!_){(0,p.callIfValid)(u,!1);b(!1)}},C=_?f:y;return o.default.createElement(g,{onMouseEnter:E,onMouseLeave:T},o.default.createElement(v,{open:C,duration:250,transitioning:!0},o.default.createElement(c.default,{textColor:r,backgroundColor:a,placement:n,open:C,theme:l,"data-test-open":C},t),o.default.createElement(d.default,{backgroundColor:a,placement:n,theme:l})),s)};m.propTypes={backgroundColor:s.default.string,children:s.default.node,content:s.default.node,onOpenChange:s.default.func,open:s.default.bool,placement:s.default.oneOf(u.PLACEMENTS),textColor:s.default.string,theme:f.default};m.displayName="VizExTooltip";m.defaultProps={placement:"top right"};var h=m;t.default=h;e.exports=t.default},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.OPPOSITE_DIRECTIONS=t.PLACEMENTS=t.PLACEMENTS_SIDES=t.PLACEMENTS_VERT=t.PLACEMENTS_HORIZ=void 0;var r=["left","right"];t.PLACEMENTS_HORIZ=r;var n=["top","bottom"];t.PLACEMENTS_VERT=n;var i=r.concat(n);t.PLACEMENTS_SIDES=i;var o=i.concat(["left top","left bottom","right top","right bottom","top left","top right","bottom left","bottom right","top center","bottom center","left middle","right middle"]);t.PLACEMENTS=o;var s={top:"bottom",bottom:"top",left:"right",right:"left",middle:"middle",center:"center"};t.OPPOSITE_DIRECTIONS=s},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(862)),i=a(1333),o=a(1335),s=n.default.div.withConfig({displayName:"VizExTooltipArrow",componentId:"myy70c-0"})(["position:absolute;pointer-events:none;border:none;clip-path:polygon(100% 100%,0 100%,100% 0);border-top-left-radius:100%;border-radius:3px;border-top-color:transparent !important;border-left-color:transparent !important;border-bottom-right-radius:3px;width:16px;height:16px;background-color:",";",""],function(e){var t=e.theme;return(0,o.getTooltipBackgroundColor)(t)},i.getArrowSpacing);t.default=s;e.exports=t.default},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getArrowSpacing=void 0;var r=a(1334),n=a(862),i=16,o=8,s=function(e){var t=e.placement;switch((0,r.getSide)(t)){case"top":return(0,n.css)(["transform:rotate(45deg);top:-","px;"],i+5);case"right":return(0,n.css)(["transform:rotate(135deg);right:-","px;"],i+5);case"bottom":return(0,n.css)(["transform:rotate(-135deg);bottom:-","px;"],i+5);case"left":return(0,n.css)(["transform:rotate(-45deg);left:-","px;"],i+5);default:return""}},l=function(e){var t=e.placement;switch((0,r.getEdge)(t)){case"top":return(0,n.css)(["top:","px;"],o);case"middle":return(0,n.css)(["top:calc(50% - ","px);"],i/2);case"bottom":return(0,n.css)(["bottom:","px;"],o);case"left":return(0,n.css)(["left:","px;"],o);case"center":return(0,n.css)(["left:calc(50% - ","px);"],i/2);case"right":return(0,n.css)(["right:","px;"],o);default:return""}},u=function(e){var t=e.placement;return(0,n.css)(["",";",";"],s({placement:t}),l({placement:t}))};t.getArrowSpacing=u},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getSide=n;t.isHoriz=i;t.getEdge=o;var r=a(1331);function n(e){return e.split(" ")[0]}function i(e){return r.PLACEMENTS_HORIZ.includes(e)}function o(e){var t=e.split(" ")[1];return t||(i(n(e))?"middle":"center")}},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getTooltipTextColor=t.getTooltipBackgroundColor=void 0;var r=a(937),n="#425b76",i=function(){return n};t.getTooltipBackgroundColor=i;var o=function(){return r.WHITE};t.getTooltipTextColor=o},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(862)),i=a(1337),o=a(1335),s=n.default.div.withConfig({displayName:"VizExTooltipBody",componentId:"qy3p0o-0"})(["border-radius:3px;font-size:13px;max-width:232px;display:block;position:absolute;visibility:visible;box-shadow:0 3px 8px rgba(0,0,0,0.1);line-height:1.5;padding:10px 16px;text-decoration:none;word-wrap:break-word;",";white-space:nowrap;background-color:",";color:",";pointer-events:",";"],i.getBodySpacing,function(e){var t=e.theme;return(0,o.getTooltipBackgroundColor)(t)},function(e){var t=e.theme;return(0,o.getTooltipTextColor)(t)},function(e){return e.open?"all":"none"});t.default=s;e.exports=t.default},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getBodySpacing=void 0;var r=a(1334),n=a(862),i=16,o=function(e){var t=e.placement;switch((0,r.getEdge)(t)){case"top":return(0,n.css)(["top:0;"]);case"bottom":return(0,n.css)(["bottom:0;"]);case"left":return(0,n.css)(["left:0;"]);case"right":return(0,n.css)(["right:0;"]);default:return""}},s=function(e){var t=e.placement;switch((0,r.getSide)(t)){case"top":return(0,n.css)(["transform:translateY(-100%);top:-","px;"],i-5);case"right":return(0,n.css)(["transform:translateX(100%);right:-","px;"],i-5);case"bottom":return(0,n.css)(["transform:translateY(100%);bottom:-","px;"],i-5);case"left":return(0,n.css)(["transform:translateX(-100%);left:-","px;"],i-5);default:return""}},l=function(e){switch(e.placement){case"top center":case"top middle":return(0,n.css)(["transform:translate(-50%,-100%);left:50%;"]);case"bottom middle":case"bottom center":return(0,n.css)(["transform:translate(-50%,100%);left:50%;"]);case"left center":case"left middle":return(0,n.css)(["transform:translate(-100%,-50%);top:50%;"]);case"right center":case"right middle":return(0,n.css)(["transform:translate(100%,-50%);top:50%;"]);default:return""}},u=function(e){var t=e.placement;return(0,n.css)(["",";",";",""],s({placement:t}),o({placement:t}),l({placement:t}))};t.getBodySpacing=u},,function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.ALLOWED_FILE_TYPES=void 0;var r=["video/*","audio/*","application/json","application/vnd.ms-excel","application/vnd.ms-powerpoint","application/msword","application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.oasis.opendocument.graphics","application/vnd.oasis.opendocument.presentation","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.text","image/gif","image/jpeg","image/jpg","image/png","image/tiff","text/calendar","text/css","text/csv","text/plain"];t.ALLOWED_FILE_TYPES=r},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(6)),i=function(e){return n.default.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24"},e),n.default.createElement("defs",null,n.default.createElement("path",{d:"M21.158.222L2.568 11.815c-.8.498-.749 1.215.113 1.591l4.406 1.923 10.395-9.903c1.377-1.296 1.569-1.119.426.395L8.254 18.215v4.927c0 .953.5 1.141 1.113.418l4.473-5.282 5.055 2.207c.861.376 1.643-.092 1.736-1.04l1.81-18.404c.094-.949-.484-1.317-1.283-.819",id:"send__a"})),n.default.createElement("use",{xlinkHref:"#send__a",fillRule:"evenodd"}))};i.displayName="SVGSend";var o=i;t.default=o;e.exports=t.default},,function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(76)),d=n(a(78)),c=n(a(1315)),f=n(a(518)),p=n(a(7)),v=r(a(6)),g=a(1343),m=a(324),h=n(a(881)),y=a(1255),b=a(60),_=a(1273),E=a(1339),T=a(1344),C=function(e){(0,d.default)(t,e);function t(e){var a;(0,i.default)(this,t);(a=(0,s.default)(this,(0,l.default)(t).call(this,e))).publishTypingMessage=(0,f.default)(a.props.publishTypingMessage,g.SEND_TYPING_MESSAGE_DEBOUNCE_MS,{leading:!0,trailing:!1,maxWait:g.SEND_TYPING_MESSAGE_DEBOUNCE_MS});a.onChatInputChanged=a.onChatInputChanged.bind((0,u.default)(a));a.onPublishMessage=a.onPublishMessage.bind((0,u.default)(a));a.onSelectAttachmentFiles=a.onSelectAttachmentFiles.bind((0,u.default)(a));a.onRemoveAttachment=a.onRemoveAttachment.bind((0,u.default)(a));a.inputStagingEvent=(0,f.default)(a.props.inputStagingEvent,T.INPUT_STAGING_EVENT_DEBOUNCE_MS);return a}(0,o.default)(t,[{key:"onChatInputChanged",value:function(e){var t=this.props,a=t.currentConversation,r=t.disablePublish,n=t.shouldSendInputStagingEvent,i=t.showInitialMessageBubble;(0,t.setMessageEditorStagingText)(e);r||this.publishTypingMessage({thread:a});n&&this.inputStagingEvent(e,!1);i&&this.props.closeInitialMessageBubble()}},{key:"onPublishMessage",value:function(e){var t=e.text,a=e.richText,r=e.quickReply,n=this.props,i=n.messagesPageUri,o=n.publishMessage,s=n.stagedAttachments,l=n.removeMessageEditorStagingText;this.publishTypingMessage.cancel();o({text:t,richText:a,quickReply:r,url:i,fileAttachment:(0,_.buildFileAttachment)(s)});l()}},{key:"onSelectAttachmentFiles",value:function(e){var t=e.files;if(t&&t.length){var a=this.props,r=a.onSelectAttachmentFile,n=a.currentConversation;r({file:t.item(0),thread:n})}}},{key:"onRemoveAttachment",value:function(e){var t=e.attachment,a=this.props,r=a.currentConversation,n=a.onRemoveAttachment;n({attachment:t,thread:r})}},{key:"render",value:function(){var e=this.props,t=e.coloring,a=e.currentConversation,r=e.disablePublish,n=e.disableTextInput,i=e.isOnFocus,o=e.mobile,s=e.networkOffline,l=e.shouldDisableAttachment,u=e.shouldSendInputStagingEvent,d=e.showingHsBranding,f=e.stagedAttachments,p=e.toggleOnAndOffInputFocus,g=e.stagedMessage,h=e.showQuickReplyPlaceholder;return v.default.createElement(c.default,{coloring:t,chatInputChanged:this.onChatInputChanged,disabled:n,disablePublish:r,isOnFocus:i,maxAttachmentFileSize:y.MAX_FILE_SIZE,mobile:o,networkOffline:s,onSelectAttachmentFiles:this.onSelectAttachmentFiles,onRemoveAttachment:this.onRemoveAttachment,publishMessage:this.onPublishMessage,shouldDisableAttachment:l,showingHsBranding:d,stagedAttachments:f,stagedMessageEditorText:g,supportsAttachments:(0,m.isPersistedThread)(a),toggleOnAndOffInputFocus:p,fileTypes:E.ALLOWED_FILE_TYPES,showQuickReplyPlaceholder:h,shouldSendInputStagingEvent:u,inputStaging:this.inputStagingEvent})}}]);return t}(v.PureComponent);C.displayName="MessageEditorWrapper";C.propTypes={closeInitialMessageBubble:p.default.func.isRequired,coloring:(0,h.default)("ColoringRecord").isRequired,currentConversation:(0,h.default)("Thread"),disablePublish:p.default.bool.isRequired,disableTextInput:p.default.bool.isRequired,inputStagingEvent:p.default.func,isOnFocus:p.default.bool.isRequired,messagesPageUri:p.default.string,mobile:p.default.bool,networkOffline:p.default.bool.isRequired,onRemoveAttachment:p.default.func.isRequired,onSelectAttachmentFile:p.default.func.isRequired,publishMessage:p.default.func.isRequired,publishTypingMessage:p.default.func.isRequired,removeMessageEditorStagingText:p.default.func.isRequired,setMessageEditorStagingText:p.default.func.isRequired,shouldDisableAttachment:p.default.bool,shouldSendInputStagingEvent:p.default.bool.isRequired,showInitialMessageBubble:p.default.bool.isRequired,showQuickReplyPlaceholder:p.default.bool.isRequired,showingHsBranding:p.default.bool.isRequired,stagedAttachments:p.default.instanceOf(b.List),stagedMessage:p.default.string,toggleOnAndOffInputFocus:p.default.func};var S=C;t.default=S;e.exports=t.default},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.SEND_TYPING_MESSAGE_DEBOUNCE_MS=void 0;var r=5e3;t.SEND_TYPING_MESSAGE_DEBOUNCE_MS=r},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.INPUT_STAGING_EVENT_DEBOUNCE_MS=void 0;var r=1e3;t.INPUT_STAGING_EVENT_DEBOUNCE_MS=r},,,,,,,,function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.applyGdprConsent=void 0;var n=r(a(56)),i=a(1156),o=a(1302),s=function(){return function(e,t){(0,o.shouldRecordImplicitConsentToProcess)(t())&&e((0,i.consentToProcess)());return n.default.Promise.resolve()}};t.applyGdprConsent=s},,,,,,function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.MOBILE=t.UNKNOWN=t.API=t.WEB=void 0;var r="WEB";t.WEB=r;var n="API";t.API=n;var i="UNKNOWN";t.UNKNOWN=i;var o="MOBILE";t.MOBILE=o},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.trackSendMessage=void 0;var r=a(275),n=function(e){var t=e.threadId;return function(e){var a={};"number"==typeof t&&(a.threadId=t);e((0,r.trackInteraction)("send-message",a))}};t.trackSendMessage=n},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.buildVisitorCommonMessage=void 0;var n=r(a(36)),i=a(172),o=r(a(355)),s=a(181),l=a(171),u=a(154),d=a(254),c=a(580),f=a(349),p=a(319),v=function(e){var t,a=e.clientType,r=e.fileAttachment,v=e.quickReply,g=e.richText,m=e.senderId,h=e.text,y=e.thread,b=(0,p.getSource)(y),_=(0,l.toCmfSender)(i.VISITOR),E=(0,s.getSenderKeyFromType)(_),T=[];r&&T.push(r);v&&T.push(new o.default(v));return(0,f.buildCommonMessage)({status:{source:b,messageStatus:c.SENT},clientType:a,attachments:T,text:h,richText:g,id:(0,d.generateUuid)(),sender:(t={},(0,n.default)(t,u.MESSAGE_TYPE_ID,_),(0,n.default)(t,E,m),t)})};t.buildVisitorCommonMessage=v},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.publishVisitorMessage=C;var n=a(319),i=a(1358),o=r(a(1362)),s=a(1365),l=a(1352),u=a(410),d=a(324),c=a(760),f=a(1250),p=a(468),v=a(1359),g=a(1360),m=a(262),h=a(1370),y=a(471),b=a(1372),_=a(1375),E=a(1224),T=a(1376);function C(e){var t=e.text,a=e.richText,r=e.quickReply,C=e.fileAttachment;return function(e,S){var M=(0,p.getSelectedThread)(S()),I=(0,d.isPersistedThread)(M),x=(0,n.getChannelName)(M),A=(0,n.getThreadId)(M),P=(0,c.getMessagesUtk)(S()),O=(0,y.getMessagesPageUri)(S()),R=(0,g.buildVisitorCommonMessage)({clientType:i.WEB,fileAttachment:C,quickReply:r,richText:a,senderId:P,text:t,thread:M});e((0,f.clearAttachments)(A));e((0,v.trackSendMessage)({threadId:A}));if(!I){e((0,m.stageMessageOnStubbedThread)(R));return e((0,s.createNewThread)())}if((0,b.shouldRecordUrlContextUpdate)(S(),{threadId:A})){e((0,u.publishMessage)({channel:x,message:(0,h.buildUrlContextUpdateMessage)(O),threadId:A})).done();e((0,_.updateThreadCurrentUrl)({threadId:A,currentUrl:O}))}(0,T.getMostRecentMessageIsEmailPrompt)(S())&&o.default.test(t)&&e((0,E.sendVisitorEmailAddress)({email:t,consentToCommunicate:!1,threadId:A}));return e((0,u.publishMessage)({channel:x,message:R,threadId:A})).then(function(){return e((0,l.applyGdprConsent)())})}}},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(767)),i=r(a(1363)),o=(0,n.default)({name:"EmailAddress",validator:function(e){return i.default.test(e)}});t.default=o;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(1364)),i=new RegExp("^(?:.+)@"+n.default.domain+"$");t.default=i;e.exports=t.default},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r="\\.",n='\\s\\?\\#\\/\\(\\)\\=\\:\\;\\@\\\\"'+r,i="(?:www"+r+")",o="(?:[%a-zA-Z0-9_-]+)",s="(?:(?:\\.[%a-zA-Z0-9-]+)[^\\.\\s])",l="\\s\\?\\#\\&",u={www:i,domain:i+"?(?:(?:[^"+n+"]+)"+r+")+(?:[^"+n+"]+)",protocol:"(?:(?:https?:)?\\/\\/)",protocolRequired:"(?:https?:\\/\\/)",path:"(?:(?:\\/[^\\s\\/\\#\\&\\?]*)+\\/?)",wildcardPath:"(?:(/(?:[%a-zA-Z0-9_-])*?)*(?:/[\\*]))",file:""+o+s,fileName:o,fileExtension:s,search:"(?:([\\?&#][^"+l+"]*?=?([^"+l+"]*))+)",ungroupedSearch:"(?:(?:[\\?&#][^"+l+"]*?=?(?:[^"+l+"]*))+)"};t.default=u;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.createNewThread=P;var n=r(a(394)),i=a(263),o=a(60),s=r(a(144)),l=a(265),u=a(762),d=a(1161),c=a(471),f=a(422),p=a(1366),v=a(330),g=a(275),m=a(1160),h=a(760),y=a(1159),b=a(1368),_=a(490),E=a(1369),T=a(321),C=a(190),S=a(722),M=a(804),I=(0,i.createAction)(_.CREATE_NEW_THREAD.STARTED),x=(0,i.createAction)(_.CREATE_NEW_THREAD.SUCCEEDED),A=(0,i.createAction)(_.CREATE_NEW_THREAD.FAILED);function P(){return function(e,t){var a=(0,f.getSessionId)(t()),r=(0,d.getMessageId)(t()),i=(0,c.getMessagesPageUri)(t()),_=(0,m.getHubspotUtk)(t()),P=(0,C.getLatestWidgetData)(t()),O=(0,M.isUngatedForExitIntentGDPR)(t());e(I());return(0,b.createVisitorThread)({sessionId:a,hubspotUtk:_,isUngatedForExitIntentGDPRCookieBanner:O,messageId:r,messagesPageUri:i,visitorThreadInitialHistory:(0,v.getVisitorInitialThreadHistory)(t()),widgetData:P}).then(function(a){var r=a.channelDetails,d=a.sessionId,c=a.id,f=a.history,v=new n.default(Object.assign({},f,{attachments:(0,o.Map)((0,s.default)("attachments",f))})),m=(0,p.buildCreatedThread)({channelDetails:r,messagesPageUri:i,threadId:c,threadHistory:v});e((0,y.updateSessionId)(d));e((0,g.trackInteraction)("start-conversation",{action:"new conversation started",threadId:c}));e(x({channel:(0,T.getChannelName)(r),threadId:c,conversation:m,threadHistory:v}));e((0,l.addAvailabilityMessage)({channel:(0,T.getChannelName)(r),threadId:c}));e((0,E.postConversationStartedEvent)({thread:m}));(0,S.gdprCookieConsentOnExitIntentEnabled)(t(),P)&&O||e((0,u.handleStoreMessagesCookie)((0,h.getMessagesUtk)(t())))}).catch(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e(A({status:t.status,message:t.message,error:t}))})}}},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.buildCreatedThread=void 0;var n=r(a(416)),i=a(153),o=a(1367),s=a(475),l=function(e){var t=e.channelDetails,a=e.messagesPageUri,r=e.threadHistory,l=e.threadId;return(0,s.buildThread)({channelDetails:t,currentUrl:a,latestSessionStartedAt:Date.now(),source:i.LIVE_CHAT,status:n.default.STARTED,threadId:l}).set("latestMessage",(0,o.findLastConversationalMessage)(r))};t.buildCreatedThread=l},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.findLastConversationalMessage=void 0;var n=r(a(486)),i=r(a(162)),o=a(136),s=a(393),l=a(271),u=function(e){(0,s.threadHistoryInvariant)(e);return(0,i.default)(l.getMessages,(0,n.default)(o.isConversationalMessage),function(e){return e&&e.last()})(e)};t.findLastConversationalMessage=u},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.createVisitorThread=o;var n=r(a(52)),i=r(a(435));function o(e){var t=e.sessionId,a=e.messageId,r=e.hubspotUtk,o=e.messagesPageUri,s=e.visitorThreadInitialHistory;return i.default.post("livechat-public/v1/thread/visitor",{query:{sessionId:t,welcomeMessageId:a,hubspotUtk:r,portalId:n.default.get(),expectedResponseType:"WRAPPER_V2"},data:{visitorThreadInitialHistory:s},headers:{"X-HubSpot-Messages-Uri":o}})}},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.postConversationStartedEvent=void 0;var r=a(510),n=a(512),i=a(628),o=function(e){var t=e.thread;return function(e){e((0,r.postExternalApiEvent)({eventType:n.CONVERSATION_STARTED,payload:{conversation:(0,i.serializeThreadForExternalEvent)(t)}}))}};t.postConversationStartedEvent=o},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.buildUrlContextUpdateMessage=u;var n=r(a(36)),i=r(a(364)),o=a(154),s=a(1371),l=a(254);function u(e){var t;return new i.default({contexts:(0,n.default)({},s.ENTRY_URL,(t={},(0,n.default)(t,o.MESSAGE_TYPE_ID,s.ENTRY_URL),(0,n.default)(t,"url",e),t)),id:(0,l.generateUuid)(),timestamp:Date.now()})}},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.MARKETING_EMAIL_REPLY=t.CONNECTED_ACCOUNT=t.CONNECTED_CRM_OBJECT=t.CONTEXT_TYPE_ID=t.CUSTOM=t.ENTRY_URL=t.CHATFLOW=void 0;var r="CHATFLOW";t.CHATFLOW=r;var n="ENTRY_URL";t.ENTRY_URL=n;var i="CUSTOM";t.CUSTOM=i;var o="@type";t.CONTEXT_TYPE_ID=o;var s="CONNECTED_CRM_OBJECT";t.CONNECTED_CRM_OBJECT=s;var l="CONNECTED_ACCOUNT";t.CONNECTED_ACCOUNT=l;var u="MARKETING_EMAIL_REPLY";t.MARKETING_EMAIL_REPLY=u},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.shouldRecordUrlContextUpdate=void 0;var r=a(188),n=a(1373),i=a(471),o=(0,r.createSelector)([n.getCurrentUrlByThreadId,i.getMessagesPageUri],function(e,t){return e!==t});t.shouldRecordUrlContextUpdate=o},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getCurrentUrlByThreadId=void 0;var r=a(188),n=a(297),i=a(1374),o=(0,r.createSelector)([n.getThreadByThreadId],i.getCurrentUrl);t.getCurrentUrlByThreadId=o},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getCurrentUrl=void 0;var n=(0,r(a(144)).default)("currentUrl");t.getCurrentUrl=n},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.updateThreadCurrentUrl=void 0;var r=a(263),n=a(741),i=(0,r.createAction)(n.UPDATE_THREAD_CURRENT_URL,function(e){return{currentUrl:e.currentUrl,threadId:e.threadId}});t.updateThreadCurrentUrl=i},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getMostRecentMessageIsEmailPrompt=void 0;var r=a(188),n=a(1377),i=a(157),o=a(154),s=(0,r.createSelector)([n.getFilteredMessages],function(e){return(0,i.getType)(e.last())===o.EMAIL_CAPTURE_PROMPT});t.getMostRecentMessageIsEmailPrompt=s},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getFilteredMessages=void 0;var n,i=a(271),o=a(1378),s=a(319),l=a(60),u=a(188),d=r(a(1379)),c=r(a(381)),f=r(a(162)),p=a(1381),v=a(468),g=a(1382),m=a(1539),h=a(1541),y=(0,u.createSelector)([v.getSelectedThread,m.getCurrentThreadHistoryData,p.getUnpublishedMessagesForCurrentThread,h.getTypingMessages],function(e,t,a,r){var u=(0,s.getChannelName)(e),p=(0,s.getThreadId)(e),v=(0,i.getMessages)(t)||(0,l.List)(),m=(0,f.default)((0,d.default)(v),(0,d.default)(a),(0,c.default)((0,o.wrapFailedMessage)({threadId:p,channel:u})),(0,d.default)(r))((0,l.List)()),h=m.size?m.filter(g.isSupportedMessageType):(0,l.List)();(0,l.is)(n,h)||(n=h);return n});t.getFilteredMessages=y},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.wrapFailedMessage=void 0;var n=a(580),i=a(157),o=a(143),s=r(a(693)),l=(0,r(a(138)).default)(function(e,t){var a=e.threadId,r=e.channel,l=e.allowRetry,u=void 0===l||l;return(0,o.isCommonMessageFormat)(t)&&(0,i.getStatusForCmf)(t)===n.FAILED?(0,s.default)({message:t,threadId:a,channel:r,allowRetry:u}):t});t.wrapFailedMessage=l},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(138)),i=r(a(1380)),o=(0,n.default)(i.default);t.default=o;e.exports=t.default},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=a(60),n=a(146);n.concat.implement(Array,function(e,t){return r.Iterable.isIterable(e)?t.concat(e.toJS()):t.concat(e)});n.concat.implementInherited(r.Seq.Indexed,function(e,t){return t.concat(e)});n.concat.implementInherited(r.Collection.Indexed,function(e,t){return t.concat(e)});n.concat.implement(String,function(e,t){return t.concat(e)});var i=n.concat;t.default=i;e.exports=t.default},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getUnpublishedMessagesForCurrentThread=void 0;var r=a(191),n=a(310),i=a(188),o=a(1283),s=a(326),l=a(329),u=(0,i.createSelector)([l.getUnpublishedMessages,o.getCurrentThreadId],function(e,t){var a=(0,n.getEntries)(e).map(r.getData);return(0,s.getSortedMessagesByThreadId)(a,t)});t.getUnpublishedMessagesForCurrentThread=u},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.isSupportedMessageType=void 0;var n=r(a(749)),i=r(a(693)),o=a(327),s=a(1383),l=a(1384),u=a(157),d=a(172),c=function(e){if(e instanceof n.default||e instanceof i.default){e=(0,o.getMessage)(e);if((0,u.getSenderType)(e)!==d.VISITOR)return!1}if((0,s.isVisitorTypingMessage)(e))return!1;var t=(0,u.getType)(e);return Object.keys(l.MessageHistoryConfig).some(function(e){return e===t})};t.isSupportedMessageType=c},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.isVisitorTypingMessage=void 0;var r=a(186),n=a(136),i=function(e){return(0,n.isTypingMessage)(e)&&(0,r.isFromVisitor)(e)};t.isVisitorTypingMessage=i},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.MessageHistoryConfig=void 0;var n,i=r(a(36)),o=a(1385),s=r(a(1386)),l=a(142),u=a(154),d=a(184),c=r(a(1441)),f=r(a(1461)),p=r(a(1468)),v=r(a(1492)),g=r(a(1516)),m=r(a(1519)),h=r(a(1534)),y=a(1537),b=(n={},(0,i.default)(n,d.ACTIVELY_PUBLISHING,p.default),(0,i.default)(n,u.CHAT_MESSAGE,h.default),(0,i.default)(n,l.COMMON_MESSAGE,(0,y.withConsent)(h.default)),(0,i.default)(n,o.DATE_MESSAGE,f.default),(0,i.default)(n,u.EMAIL_CAPTURE_PROMPT,v.default),(0,i.default)(n,d.FAILED_TO_PUBLISH,g.default),(0,i.default)(n,u.INITIAL_MESSAGE,(0,y.withConsent)(m.default)),(0,i.default)(n,u.OFFICE_HOURS,c.default),(0,i.default)(n,u.TYPICAL_RESPONSE_TIME,c.default),(0,i.default)(n,u.TYPING,s.default),n);t.MessageHistoryConfig=b},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.DATE_MESSAGE=t.MESSAGE_TYPE_ID=void 0;var r="@type";t.MESSAGE_TYPE_ID=r;var n="DATE_MESSAGE";t.DATE_MESSAGE=n},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(78)),d=n(a(1387)),c=a(1400),f=n(a(1401)),p=n(a(1404)),v=a(1405),g=a(1396),m=a(1408),h=n(a(1410)),y=n(a(881)),b=a(157),_=a(172),E=r(a(6)),T=n(a(1417)),C=n(a(1422)),S=n(a(1423)),M=n(a(1424)),I=n(a(1432)),x=n(a(1433)),A=n(a(1434)),P=function(e){(0,u.default)(t,e);function t(){(0,i.default)(this,t);return(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.message,a=e.positionDescriptors,r=e.senders,n=(0,b.getSenderId)(t),i=(0,b.getSenderType)(t),o=(0,b.getSenderType)(t)===_.VISITOR,s=(0,v.findSender)(n,i,r),l=(0,g.getData)(s),u=(0,m.isSenderLoading)(s),f=o?c.VISITOR:c.AGENT;return E.default.createElement(T.default,{positionDescriptors:a,use:f},E.default.createElement(I.default,null,E.default.createElement(C.default,null,E.default.createElement(d.default,{sender:l,isLoading:u})),E.default.createElement(x.default,null,E.default.createElement(A.default,{message:t,sender:l,isSenderLoading:u}))),E.default.createElement(S.default,null,E.default.createElement(M.default,null,E.default.createElement(h.default,null))))}}]);return t}(E.PureComponent);P.displayName="TypingIndicatorMessage";P.propTypes={message:(0,y.default)("PubNubMessageRecord").isRequired,positionDescriptors:f.default.isRequired,senders:p.default.isRequired};var O=P;t.default=O;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(76)),d=n(a(78)),c=n(a(881)),f=n(a(1388)),p=a(244),v=n(a(7)),g=r(a(6)),m=n(a(862)),h=n(a(997)),y=n(a(939)),b=a(167),_=a(1396),E=a(1398),T=a(172),C=function(){},S=32,M=(0,m.default)(h.default).withConfig({displayName:"SenderAvatar__StyledUIIcon",componentId:"gawthl-0"})(["width:","px;height:","px;font-size:24px !important;text-align:center;line-height:","px;border-radius:","px;background-color:",";color:",";"],S,S,S,S/2,p.EERIE,p.OLAF),I=function(e){(0,d.default)(t,e);function t(e){var a;(0,i.default)(this,t);(a=(0,s.default)(this,(0,l.default)(t).call(this,e))).handleClick=a.handleClick.bind((0,u.default)(a));return a}(0,o.default)(t,[{key:"handleClick",value:function(){var e=this.props;(0,e.onClick)(e.sender)}},{key:"render",value:function(){var e=this.props,t=e.isLoading,a=e.sender,r=e.size;if(t)return g.default.createElement(f.default,{size:32});if(!a)return g.default.createElement(y.default,{size:r});switch((0,b.getSenderType)(a)){case T.BOT:return g.default.createElement(y.default,{size:r,src:(0,_.getAvatar)(a)||E.mrHubBot});case T.SYSTEM:return g.default.createElement(M,{name:"simpleBot"});default:return g.default.createElement("span",{onClick:this.handleClick},g.default.createElement(y.default,{size:r,src:(0,_.getAvatar)(a)}))}}}]);return t}(g.PureComponent);t.default=I;I.displayName="SenderAvatar";I.propTypes={isLoading:v.default.bool,onClick:v.default.func.isRequired,sender:(0,c.default)("Sender"),size:y.default.propTypes.size};I.defaultProps={onClick:C,size:"sm"};e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(7)),i=r(a(862)),o=r(a(1389)),s=a(1395),l=a(1393),u=(0,i.default)(o.default).withConfig({displayName:"SkeletonCircle",componentId:"sc-1a3tugc-0"})(["border-radius:50%;width:",";height:",";min-width:",";"],function(e){var t=e.size;return(0,l.getSize)(t)},function(e){var t=e.size;return(0,l.getSize)(t)},function(e){var t=e.size;return(0,l.getSize)(t)});u.defaultProps={size:s.CIRCLE_BASE_SIZE};u.propTypes={size:n.default.number};var d=u;t.default=d;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(7)),i=r(a(862)),o=a(1390),s=a(1393),l=a(1394),u=a(1392),d=i.default.div.withConfig({displayName:"SkeletonBase",componentId:"naonl1-0"})(["margin:",";padding:",";",";",";"],function(e){var t=e.margin;return t?(0,s.getSize)(t):void 0},function(e){var t=e.padding;return t?(0,s.getSize)(t):void 0},function(e){var t=e.use;return(0,o.getBackground)({use:t})},function(e){return e.use!==u.BLANK&&l.animation});d.defaultProps={use:u.DEFAULT};d.propTypes={margin:n.default.oneOfType([n.default.number,n.default.string]),padding:n.default.oneOfType([n.default.number,n.default.string]),use:n.default.oneOf([u.DEFAULT,u.SHADE,u.DARK,u.BLANK])};var c=d;t.default=c;e.exports=t.default},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getBackground=void 0;var r=a(1391),n=a(1392),i=function(e){return r.COLOUR_MAPPINGS[e]},o=function(e){var t=e.use;return t===n.BLANK?r.BLANK_BACKGROUND:(0,r.makeGradientBackground)(i(t))};t.getBackground=o},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.makeGradientBackground=t.BLANK_BACKGROUND=t.COLOUR_MAPPINGS=void 0;var n,i=r(a(36)),o=a(244),s=a(1392),l=(n={},(0,i.default)(n,s.DEFAULT,{primary:o.GYPSUM,secondary:o.KOALA}),(0,i.default)(n,s.SHADE,{primary:o.KOALA,secondary:o.GYPSUM}),(0,i.default)(n,s.DARK,{primary:o.HEFFALUMP,secondary:o.SLINKY}),n);t.COLOUR_MAPPINGS=l;var u="\n  background: "+o.OLAF+";\n";t.BLANK_BACKGROUND=u;var d=function(e){var t=e.primary;return"\n  background: "+t+";\n  background: linear-gradient(to right, "+t+", "+e.secondary+" 20%, "+t+" 40%);\n  background-size: 1200px;\n"};t.makeGradientBackground=d},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.DARK=t.SHADE=t.BLANK=t.DEFAULT=void 0;var r="default";t.DEFAULT=r;var n="blank";t.BLANK=n;var i="on-shade";t.SHADE=i;var o="on-dark";t.DARK=o},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getSize=void 0;var r=function(e){return"number"==typeof e},n=function(e){return r(e)?e+"px":e};t.getSize=n},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.animation=void 0;var r=a(862),n="1s",i="linear",o="0s",s="infinite",l="forwards",u=700,d=(0,r.keyframes)(["0%{background-position:-","px 0}100%{background-position:","px 0}"],u,u),c=(0,r.css)(["animation:"," "," "," "," "," ",";"],d,n,i,o,s,l);t.animation=c},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.BOX_BASE_WIDTH=t.BOX_BASE_HEIGHT=t.CIRCLE_BASE_SIZE=void 0;var r=32;t.CIRCLE_BASE_SIZE=r;var n=15;t.BOX_BASE_HEIGHT=n;var i=40;t.BOX_BASE_WIDTH=i},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getNonDefaultSource=t.getDisplayName=t.getStatus=t.getData=t.getSenderType=t.getLastName=t.getId=t.getFirstName=t.getEmail=t.getAvatar=void 0;var n=r(a(245)),i=r(a(160)),o=a(172),s=a(1397),l=(0,i.default)(s.AVATAR);t.getAvatar=l;var u=(0,i.default)(s.EMAIL);t.getEmail=u;var d=(0,i.default)(s.FIRST_NAME);t.getFirstName=d;var c=(0,i.default)(s.ID);t.getId=c;var f=(0,i.default)(s.LAST_NAME);t.getLastName=f;var p=(0,i.default)(s.SENDER_TYPE);t.getSenderType=p;var v=(0,i.default)(s.DATA);t.getData=v;var g=(0,i.default)(s.STATUS);t.getStatus=g;var m=function(e){var t=d(e),a=f(e),r=u(e),i=p(e);return t&&a?t+" "+a:t||(r||(i===o.VISITOR?n.default.text("conversations-message-history.responder.unknownVisitorAvatar"):null))};t.getDisplayName=m;var h=function(e){var t=l(e);return t&&!t.includes("default")?t:null};t.getNonDefaultSource=h},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.STATUS=t.SENDER_TYPE=t.LAST_NAME=t.ID=t.FIRST_NAME=t.EMAIL=t.DATA=t.AVATAR=void 0;var r=["avatar"];t.AVATAR=r;var n=["data"];t.DATA=n;var i=["email"];t.EMAIL=i;var o=["firstName"];t.FIRST_NAME=o;var s=["id"];t.ID=s;var l=["lastName"];t.LAST_NAME=l;var u=["senderType"];t.SENDER_TYPE=u;var d=["status"];t.STATUS=d},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});Object.defineProperty(t,"mrHubBot",{enumerable:!0,get:function(){return n.default}});var n=r(a(1399))},function(e,t){e.exports="//static.hsappstatic.net/salesImages/static-1.408/messages/bot-avatar.svg"},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.VISITOR=t.DEFAULT=t.AGENT=void 0;var r="agent";t.AGENT=r;var n="default";t.DEFAULT=n;var i="visitor";t.VISITOR=i},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(7)),i=a(1402),o=a(1403),s=(0,i.setOf)(n.default.oneOf([o.FIRST,o.FIRST_IN_GROUP,o.LAST_IN_GROUP,o.LAST]));t.default=s;e.exports=t.default},function(e,t,a){"use strict";var r=a(60),n="<<anonymous>>",i={listOf:c,mapOf:p,orderedMapOf:v,setOf:g,orderedSetOf:m,stackOf:h,iterableOf:y,recordOf:b,shape:E,contains:E,mapContains:T,list:l("List",r.List.isList),map:l("Map",r.Map.isMap),orderedMap:l("OrderedMap",r.OrderedMap.isOrderedMap),set:l("Set",r.Set.isSet),orderedSet:l("OrderedSet",r.OrderedSet.isOrderedSet),stack:l("Stack",r.Stack.isStack),seq:l("Seq",r.Seq.isSeq),record:l("Record",function(e){return e instanceof r.Record}),iterable:l("Iterable",r.Iterable.isIterable)};function o(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":e instanceof r.Iterable?"Immutable."+e.toSource().split(" ")[0]:t}function s(e){function t(t,a,r,i,o,s){for(var l=arguments.length,u=Array(l>6?l-6:0),d=6;d<l;d++)u[d-6]=arguments[d];s=s||r;i=i||n;return null!=a[r]?e.apply(void 0,[a,r,i,o,s].concat(u)):t?new Error("Required "+o+" `"+s+"` was not specified in `"+i+"`."):void 0}var a=t.bind(null,!1);a.isRequired=t.bind(null,!0);return a}function l(e,t){function a(a,r,n,i,s){var l=a[r];if(!t(l)){var u=o(l);return new Error("Invalid "+i+" `"+s+"` of type `"+u+"` supplied to `"+n+"`, expected `"+e+"`.")}return null}return s(a)}function u(e,t,a){function r(r,n,i,s,l){for(var u=arguments.length,d=Array(u>5?u-5:0),c=5;c<u;c++)d[c-5]=arguments[c];var f=r[n];if(!a(f)){var p=s,v=o(f);return new Error("Invalid "+p+" `"+l+"` of type `"+v+"` supplied to `"+i+"`, expected an Immutable.js "+t+".")}if("function"!=typeof e)return new Error("Invalid typeChecker supplied to `"+i+"` for propType `"+l+"`, expected a function.");for(var g=f.toArray(),m=0,h=g.length;m<h;m++){var y=e.apply(void 0,[g,m,i,s,l+"["+m+"]"].concat(d));if(y instanceof Error)return y}}return s(r)}function d(e){function t(t,a,r,n,i){for(var o=arguments.length,s=Array(o>5?o-5:0),l=5;l<o;l++)s[l-5]=arguments[l];var u=t[a];if("function"!=typeof e)return new Error("Invalid keysTypeChecker (optional second argument) supplied to `"+r+"` for propType `"+i+"`, expected a function.");for(var d=u.keySeq().toArray(),c=0,f=d.length;c<f;c++){var p=e.apply(void 0,[d,c,r,n,i+" -> key("+d[c]+")"].concat(s));if(p instanceof Error)return p}}return s(t)}function c(e){return u(e,"List",r.List.isList)}function f(e,t,a,r){function n(){for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];return u(e,a,r).apply(void 0,i)||t&&d(t).apply(void 0,i)}return s(n)}function p(e,t){return f(e,t,"Map",r.Map.isMap)}function v(e,t){return f(e,t,"OrderedMap",r.OrderedMap.isOrderedMap)}function g(e){return u(e,"Set",r.Set.isSet)}function m(e){return u(e,"OrderedSet",r.OrderedSet.isOrderedSet)}function h(e){return u(e,"Stack",r.Stack.isStack)}function y(e){return u(e,"Iterable",r.Iterable.isIterable)}function b(e){function t(t,a,n,i,s){for(var l=arguments.length,u=Array(l>5?l-5:0),d=5;d<l;d++)u[d-5]=arguments[d];var c=t[a];if(!(c instanceof r.Record)){var f=o(c);return new Error("Invalid "+i+" `"+s+"` of type `"+f+"` supplied to `"+n+"`, expected an Immutable.js Record.")}for(var p in e){var v=e[p];if(v){var g=c.toObject(),m=v.apply(void 0,[g,p,n,i,s+"."+p].concat(u));if(m)return m}}}return s(t)}function _(e){var t=void 0===arguments[1]?"Iterable":arguments[1],a=void 0===arguments[2]?r.Iterable.isIterable:arguments[2];function n(r,n,i,s,l){for(var u=arguments.length,d=Array(u>5?u-5:0),c=5;c<u;c++)d[c-5]=arguments[c];var f=r[n];if(!a(f)){var p=o(f);return new Error("Invalid "+s+" `"+l+"` of type `"+p+"` supplied to `"+i+"`, expected an Immutable.js "+t+".")}var v=f.toObject();for(var g in e){var m=e[g];if(m){var h=m.apply(void 0,[v,g,i,s,l+"."+g].concat(d));if(h)return h}}}return s(n)}function E(e){return _(e)}function T(e){return _(e,"Map",r.Map.isMap)}e.exports=i},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.LAST=t.LAST_IN_GROUP=t.FIRST_IN_GROUP=t.FIRST=void 0;var r="FIRST";t.FIRST=r;var n="FIRST_IN_GROUP";t.FIRST_IN_GROUP=n;var i="LAST_IN_GROUP";t.LAST_IN_GROUP=i;var o="LAST";t.LAST=o},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(881)),i=r(a(7)),o=r(a(1402)),s=o.default.mapOf(o.default.recordOf({data:(0,n.default)("Sender"),status:i.default.string.isRequired}),(0,n.default)("SenderLocator"));t.default=s;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.findSender=void 0;var n=r(a(133)),i=a(1406),o=(0,n.default)(function(e,t,a){return t?a.get((0,i.buildSenderLocator)(t,e)):null});t.findSender=o},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.buildSenderLocator=void 0;var n=a(172),i=r(a(1407)),o=[n.AGENT,n.BOT,n.SYSTEM,n.VISITOR],s=function(e,t){o.includes(e)||console.warn("buildSenderLocator recevied invalid sender type "+e+" expected one of: "+o);return e===n.VISITOR?(0,i.default)({senderType:n.VISITOR}):(0,i.default)({senderType:e,senderId:t?""+t:null})};t.buildSenderLocator=s},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=(0,a(60).Record)({senderId:null,senderType:null},"SenderLocator");t.default=r;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.isSenderLoading=void 0;var n=r(a(133)),i=a(1396),o=a(1409),s=(0,n.default)(function(e){return!(0,i.getData)(e)&&(0,i.getStatus)(e)===o.STARTED});t.isSenderLoading=s},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.SUCCEEDED=t.STARTED=t.TYPE=void 0;var r="@type";t.TYPE=r;var n="STARTED";t.STARTED=n;var i="SUCCEEDED";t.SUCCEEDED=i},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=t.TypingDotsWrapper=t.Dot=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(78)),d=a(899),c=r(a(6)),f=r(a(862)),p=a(1411),v=a(1412),g=n(a(1413)),m=(0,f.keyframes)(["25%{background-color:",";}75%{background-color:",";}"],d.LOADING_INACTIVE_COLOR,d.LOADING_INACTIVE_COLOR),h=(0,f.keyframes)(["0%,100%{transform:translateY(0);}25%{transform:translateY(.25em);}50%{transform:translateY(0);}75%{transform:translateY(-.25em);}"]);(0,p.isIE11)()&&(h=(0,f.keyframes)(["0%,100%{top:0;}25%{top:.25em;}50%{top:0}75%{top:-.25em;}"]));var y=f.default.div.withConfig({displayName:"TypingDots__Dot",componentId:"i7c3ap-0"})(["position:relative;background-color:currentColor;color:",";border-radius:50%;height:1em;width:1em;animation:",",",";animation-duration:1s;animation-timing-function:linear;animation-iteration-count:infinite;&:not(:last-child){margin-right:0.75em;}&:nth-child(2){animation-delay:-0.66s;}&:nth-child(3){animation-delay:-0.33s;}"],function(e){return e.color?e.color:d.LOADING_DEFAULT_COLOR},h,m);t.Dot=y;var b=f.default.div.withConfig({displayName:"TypingDots__TypingDotsWrapper",componentId:"i7c3ap-1"})(["display:flex;align-items:center;justify-content:center;height:24px;font-size:8px;width:4.5em;"]);t.TypingDotsWrapper=b;var _=function(e){(0,u.default)(t,e);function t(){(0,i.default)(this,t);return(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}(0,o.default)(t,[{key:"render",value:function(){var e=(0,v.getWidgetAccent)(this.context);return c.default.createElement(b,null,c.default.createElement(y,{color:e,className:"dot-1"}),c.default.createElement(y,{color:e,className:"dot-2"}),c.default.createElement(y,{color:e,className:"dot-3"}))}}]);return t}(c.Component);_.contextType=g.default;_.displayName="TypingDots";var E=_;t.default=E},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.isIE11=void 0;var r=window.navigator?navigator.userAgent.toLowerCase():"",n=function(){return r.includes("trident/")>=0};t.isIE11=n},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getWidgetAccent=t.getQuickReplyTheme=t.getFileAttachmentTheme=t.getTextColor=t.getMessageSpacing=t.getBorderWidth=t.getBorderRadius=t.getBorderColor=t.getBackgroundColor=t.getAvatarWidth=t.getAlignment=void 0;var n=r(a(144)),i=(0,n.default)("alignItems");t.getAlignment=i;var o=(0,n.default)("avatarWidth");t.getAvatarWidth=o;var s=(0,n.default)("backgroundColor");t.getBackgroundColor=s;var l=(0,n.default)("borderColor");t.getBorderColor=l;var u=(0,n.default)("borderRadius");t.getBorderRadius=u;var d=(0,n.default)("borderWidth");t.getBorderWidth=d;var c=(0,n.default)("messageSpacing");t.getMessageSpacing=c;var f=(0,n.default)("textColor");t.getTextColor=f;var p=(0,n.default)("fileAttachmentTheme");t.getFileAttachmentTheme=p;var v=(0,n.default)("quickReplyTheme");t.getQuickReplyTheme=v;var g=(0,n.default)("widgetAccent");t.getWidgetAccent=g},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=a(6),i=r(a(1414)),o=(0,n.createContext)((0,i.default)());t.default=o;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(1415)),i=a(244),o=a(60),s=r(a(1416)),l=(0,o.Record)({alignItems:"flex-start",avatarWidth:"32px",backgroundColor:i.KOALA,borderColor:i.BATTLESHIP,borderRadius:"4px",borderWidth:"1px",messageSpacing:"8px",textColor:i.HEFFALUMP,fileAttachmentTheme:(0,n.default)(),quickReplyTheme:(0,s.default)(),widgetAccent:i.HEFFALUMP},"Theme");t.default=l;e.exports=t.default},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=(0,a(60).Record)({tileBackgroundColor:"rgba(255, 255, 255, 1)"},"FileAttachmentTheme");t.default=r;e.exports=t.default},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=a(60),n=a(244),i=(0,r.Record)({width:"auto",minHeight:36,borderColor:n.FLINT,whiteSpace:"normal",lineHeight:"1rem",color:n.FLINT},"QuickReplyTheme");t.default=i;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(78)),d=n(a(1418)),c=n(a(1419)),f=n(a(1401)),p=n(a(7)),v=r(a(6)),g=n(a(862)),m=n(a(1420)),h=n(a(1413)),y=a(1412),b=n(a(1421)),_=a(1422),E=a(1423),T=a(1431),C=a(1432),S=a(1433),M="8px",I=g.default.div.withConfig({displayName:"PrimaryMessage__PrimaryMessageWrapper",componentId:"sc-1oc9g5v-0"})(["display:flex;flex-direction:column;align-items:",";padding-left:",";","{","{width:",";margin-left:-",";margin-right:",";}>:first-child{&","{margin-left:",";}}}","{margin-left:",";}","{margin-left:",";}"],function(e){return e.alignment||"flex-start"},M,C.PrimaryMessageHeaderWrapper,_.PrimaryMessageAvatarWrapper,function(e){return e.avatarWidth},M,M,S.PrimaryMessageHeaderContentWrapper,function(e){return e.avatarWidth},E.PrimaryMessageContentWrapper,function(e){return e.avatarWidth},T.PrimaryMessageFooterWrapper,function(e){return e.avatarWidth}),x=function(e){(0,u.default)(t,e);function t(){(0,i.default)(this,t);return(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}(0,o.default)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.children,r=t.className,n=t.positionDescriptors,i=t.use;return a?v.default.createElement(b.default,{themeConfig:this.context,use:i},v.default.createElement(d.default,{positionDescriptors:n,className:r},v.default.createElement(h.default.Consumer,null,function(t){return v.default.createElement(I,{"data-test-id":e.props["data-test-id"],"data-test-use":i,alignment:(0,y.getAlignment)(t),avatarWidth:(0,y.getAvatarWidth)(t)},a)}))):null}}]);return t}(v.PureComponent);t.default=x;x.contextType=m.default;x.displayName="PrimaryMessage";x.propTypes={children:p.default.node,className:p.default.string,"data-test-id":p.default.string,positionDescriptors:f.default,use:c.default};e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(862)).default.div.withConfig({displayName:"SpacingWrapper",componentId:"ufvnhz-0"})(["padding-top:4px;padding-bottom:4px;padding-left:10px;padding-right:10px;width:100%;"]);t.default=n;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(7)),i=a(1400),o=n.default.oneOf([i.DEFAULT,i.AGENT,i.VISITOR]);t.default=o;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=t.defaultThemeConfig=void 0;var n,i=r(a(36)),o=a(244),s=a(6),l=a(1400),u=r(a(1414)),d=(n={},(0,i.default)(n,l.DEFAULT,(0,u.default)()),(0,i.default)(n,l.AGENT,(0,u.default)()),(0,i.default)(n,l.VISITOR,(0,u.default)({backgroundColor:o.CALYPSO_LIGHT,borderColor:o.CALYPSO_MEDIUM,alignment:"flex-end"})),n);t.defaultThemeConfig=d;var c=(0,s.createContext)(d);t.default=c},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=a(1400),o=n(a(1419)),s=n(a(881)),l=n(a(7)),u=r(a(6)),d=n(a(37)),c=n(a(1414)),f=a(1420),p=n(a(1413)),v=function(e){(0,d.default)(void 0===e||"object"==typeof e,"Invalid config type given");e&&Object.values(e).forEach(function(e){(0,d.default)(e instanceof c.default,"All themes in the configuration must be a `Theme` record. Found %s",typeof e)})},g=(0,u.memo)(function(e){var t=e.themeConfig,a=e.use,r=e.children;v(t);t=Object.assign({},f.defaultThemeConfig,t);var n=a?t[a]:t[i.DEFAULT]||(0,c.default)();return u.default.createElement(p.default.Provider,{value:n},r)});g.displayName="ThemeProvider";g.propTypes={children:l.default.node.isRequired,themeConfig:l.default.objectOf((0,s.default)("Theme")),use:o.default};var m=g;t.default=m;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=t.PrimaryMessageAvatarWrapper=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(78)),d=n(a(7)),c=r(a(6)),f=n(a(862)).default.div.withConfig({displayName:"PrimaryMessageAvatar__PrimaryMessageAvatarWrapper",componentId:"sc-1wukr1t-0"})(["align-items:center;display:flex;flex-shrink:0;justify-items:center;margin-top:35px;"]);t.PrimaryMessageAvatarWrapper=f;var p=function(e){(0,u.default)(t,e);function t(){(0,i.default)(this,t);return(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.className;return c.default.createElement(f,{className:a},t)}}]);return t}(c.PureComponent);t.default=p;p.displayName="PrimaryMessageAvatar";p.propTypes={children:d.default.node.isRequired,className:d.default.string}},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=t.PrimaryMessageContentWrapper=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(76)),d=n(a(78)),c=n(a(7)),f=r(a(6)),p=n(a(862)),v=n(a(1413)),g=a(1412),m=a(1424),h=p.default.div.withConfig({displayName:"PrimaryMessageContent__PrimaryMessageContentWrapper",componentId:"sc-11k83ed-0"})(["position:relative;min-height:32px;word-break:break-word;box-sizing:border-box;border-style:solid;border-width:",";border-color:",";background-color:",";color:",";display:inline-flex;align-items:center;flex-direction:column;border-radius:",";","{border-top-style:solid;border-top-width:1px;border-top-color:",";&:first-child{border-top:none;}}max-width:284px;"],function(e){return e.borderWidth},function(e){return e.borderColor},function(e){return e.backgroundColor},function(e){return e.textColor},function(e){return e.borderRadius},m.PrimaryMessageContentSectionWrapper,function(e){return e.borderColor});t.PrimaryMessageContentWrapper=h;var y=function(e){(0,d.default)(t,e);function t(e){var a;(0,i.default)(this,t);(a=(0,s.default)(this,(0,l.default)(t).call(this,e))).state={expanded:!!e.isLastMessage};a.onCollapseButtonClick=a.onCollapseButtonClick.bind((0,u.default)(a));a.expandMessage=a.expandMessage.bind((0,u.default)(a));return a}(0,o.default)(t,[{key:"onCollapseButtonClick",value:function(){this.setState({expanded:!1})}},{key:"expandMessage",value:function(){this.state.expanded||this.setState({expanded:!0})}},{key:"render",value:function(){var e=this.props,t=e.children,a=e.className;return f.default.createElement(h,{className:a,backgroundColor:(0,g.getBackgroundColor)(this.context),borderColor:(0,g.getBorderColor)(this.context),borderRadius:(0,g.getBorderRadius)(this.context),borderWidth:(0,g.getBorderWidth)(this.context),textColor:(0,g.getTextColor)(this.context)},t)}}]);return t}(f.PureComponent);t.default=y;y.contextType=v.default;y.displayName="PrimaryMessageContent";y.propTypes={children:c.default.node,className:c.default.string,isLastMessage:c.default.bool}},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=t.PrimaryMessageContentSectionWrapper=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(76)),d=n(a(78)),c=n(a(7)),f=r(a(6)),p=n(a(862)),v=n(a(1425)),g=n(a(1413)),m=a(1412),h=p.default.div.withConfig({displayName:"PrimaryMessageContentSection__PaddedArea",componentId:"sc-1mdac52-0"})(["padding:8px 16px;"]),y=p.default.div.withConfig({displayName:"PrimaryMessageContentSection__BlockPointerEvents",componentId:"sc-1mdac52-1"})(["pointer-events:",";"],function(e){return e.block?"none":"all"}),b=p.default.div.withConfig({displayName:"PrimaryMessageContentSection__PrimaryMessageContentSectionWrapper",componentId:"sc-1mdac52-2"})(["width:100%;button{width:auto;}"]);t.PrimaryMessageContentSectionWrapper=b;var _=function(e){(0,d.default)(t,e);function t(e){var a;(0,i.default)(this,t);(a=(0,s.default)(this,(0,l.default)(t).call(this,e))).state={expanded:!!e.isLastMessage};a.onCollapseButtonClick=a.onCollapseButtonClick.bind((0,u.default)(a));a.expandMessage=a.expandMessage.bind((0,u.default)(a));return a}(0,o.default)(t,[{key:"onCollapseButtonClick",value:function(){this.setState({expanded:!1})}},{key:"expandMessage",value:function(){this.state.expanded||this.setState({expanded:!0})}},{key:"renderContent",value:function(){var e=this.props,t=e.canExpand,a=e.children,r=this.state.expanded;return t?f.default.createElement(v.default,{gradientColor:(0,m.getBackgroundColor)(this.context),onCollapseButtonClick:this.onCollapseButtonClick,expanded:r,maxHeight:240},f.default.createElement(h,null,f.default.createElement(y,{block:!r},a))):f.default.createElement(h,null,a)}},{key:"render",value:function(){var e=this.props,t=e.canExpand,a=e.children,r=e.className;return f.default.Children.count(a)>0?f.default.createElement(b,{className:r},f.default.createElement("div",{onClick:t?this.expandMessage:function(){},className:"width-100 padding-x-4 padding-y-2"},this.renderContent())):null}}]);return t}(f.PureComponent);t.default=_;_.contextType=g.default;_.displayName="PrimaryMessageContentSection";_.propTypes={canExpand:c.default.bool,children:c.default.node,className:c.default.string,isLastMessage:c.default.bool}},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(4)),i=r(a(5)),o=r(a(75)),s=r(a(77)),l=r(a(78)),u=r(a(245)),d=r(a(862)),c=r(a(7)),f=r(a(6)),p=r(a(864)),v=a(962),g=a(888),m=a(244),h=r(a(1426)),y=a(982),b=r(a(973)),_=r(a(972)),E=r(a(1083)),T=r(a(1081)),C=a(1137),S=a(978),M=r(a(1430)),I=r(a(997)),x=r(a(38)),A=a(1185),P=(0,d.default)(M.default).withConfig({displayName:"UIExpandableText__ExpandableTextOverhang",componentId:"sc-1y91zlz-0"})(["",";"],function(e){return e.scrollable&&"\n    /* Compensate for border on scroll container */\n    right: 1px;\n    bottom: 1px;\n    left: 1px;\n  "});P.propTypes=Object.assign({},M.default.propTypes,{scrollable:c.default.bool.isRequired});P.defaultProps=M.default.defaultProps;var O=function(e){return{maxHeight:e}},R=function(e,t){return null!=t?16*t:e},k=function(e){(0,l.default)(t,e);function t(e){var a;(0,n.default)(this,t);(a=(0,o.default)(this,(0,s.default)(t).call(this,e))).delayedFitToMaxLines=function(){(0,A.cancelSchedulerCallback)(a._timeout);a._timeout=(0,A.requestSchedulerCallback)(a.fitToMaxLines)};a.fitToMaxLines=function(){if(a._el){var e=a.props,t=e.maxHeight,r=e.maxHeightRems,n=a.state,i=n.collapsible,o=n.contentHeight,s=a._el.scrollHeight;o!==s&&a.setState({contentHeight:s});var l=s>R(t,r);i!==l&&a.setState({collapsible:l})}};a.handleExpandButtonClick=function(e){var t=a.props,r=t.onExpandButtonClick,n=t.onExpandedChange;(0,y.callIfPossible)(r,e);n((0,_.default)(!0))};a.handleCollapseButtonClick=function(e){var t=a.props,r=t.onCollapseButtonClick,n=t.onExpandedChange;(0,y.callIfPossible)(r,e);var i=a._el;i.style.maxHeight=i.scrollHeight+"px";n((0,_.default)(!1))};a.handleTextWrapperFocus=function(e){var t=a.props,r=t.expandOnFocus,n=t.onExpandedChange,i=t.toggleable;if(r&&i){if(!(0,v.isPageInKeyboardMode)()&&!/TEXTAREA|INPUT/.test(e.target.tagName))return;n((0,_.default)(!0))}};a.handleTextWrapperTransitionEnd=function(e){var t=a._el;if(e.target===t&&"max-height"===e.propertyName){var r=a.state,n=r.expanded,i=r.fullyExpanded;n&&!i&&a.setState({fullyExpanded:!0})}};a.textWrapperRefCallback=function(e){a._el=e};a.state={contentHeight:null,collapsible:!1,fullyExpanded:!1};a._getStyle=(0,x.default)(O);return a}(0,i.default)(t,[{key:"componentDidMount",value:function(){this.delayedFitToMaxLines();this.startMutationObserver();addEventListener("resize",this.delayedFitToMaxLines);this._el&&this._el.addEventListener("load",this.delayedFitToMaxLines,!0);(0,C.fontsLoaded)()||C.fontsLoadedPromise.then(this.delayedFitToMaxLines)}},{key:"UNSAFE_componentWillUpdate",value:function(){this.stopMutationObserver()}},{key:"componentDidUpdate",value:function(e,t){t.contentHeight===this.state.contentHeight&&t.collapsible===this.state.collapsible&&this.delayedFitToMaxLines();t.collapsible!==this.state.collapsible&&(0,y.callIfPossible)(this.props.onCollapsibleChange,this.state.collapsible);this.startMutationObserver()}},{key:"componentWillUnmount",value:function(){this.stopMutationObserver();(0,A.cancelSchedulerCallback)(this._timeout);removeEventListener("resize",this.delayedFitToMaxLines);this._el&&this._el.removeEventListener("load",this.delayedFitToMaxLines,!0)}},{key:"startMutationObserver",value:function(){if(this._el){this._observer=new MutationObserver(this.delayedFitToMaxLines);this._observer.observe(this._el,{attributes:!0,childList:!0,subtree:!0})}}},{key:"stopMutationObserver",value:function(){if(this._observer){this._observer.disconnect();this._observer=null}}},{key:"render",value:function(){var e=this.props,t=e.buttonAlign,a=e.children,r=e.className,n=e.collapseButtonText,i=e.expandButtonText,o=e.expanded,s=e.fadeOutHeight,l=e.fadeOutHeightRems,u=e.gradientColor,d=e.hideButtonCaret,c=e.maxHeight,v=e.maxHeightRems,g=e.onCollapseButtonClick,y=e.onExpandButtonClick,b=e.Overhang,_=e.scrollable,T=e.toggleable,C=e.use,S=this.state,M=S.collapsible,x=S.contentHeight,A=S.fullyExpanded,P=(0,p.default)(r,"private-expandable-text",_&&"private-expandable-text--scrollable"),O=(0,p.default)("private-expandable-text__toggle-button",_?"align-right":"left"===t&&"align-left"),k=o?x:R(c,v),N=T&&M?f.default.createElement(h.default,{"aria-hidden":o?!g:!y,className:O,onClick:o?this.handleCollapseButtonClick:this.handleExpandButtonClick,use:"link"},_||d?null:f.default.createElement(I.default,{color:m.CALYPSO,name:o?"up":"down"}),(0,E.default)(o?n:i)):null,L="on-dark"===C?m.GYPSUM:m.OLAF;return f.default.createElement("div",{className:"private-expandable-text__container","data-collapsible":M},_&&N,f.default.createElement("div",{className:"private-expandable-text__overhang-wrapper"},f.default.createElement("div",{className:P,onFocus:this.handleTextWrapperFocus,onTransitionEnd:this.handleTextWrapperTransitionEnd,ref:this.textWrapperRefCallback,style:A?null:this._getStyle(k)},a),M&&!o?f.default.createElement(b,{gradientColor:null!=u?u:L,scrollable:_,side:"bottom",size:R(s,l)}):null),!_&&N)}}]);return t}(f.default.Component);k.propTypes={buttonAlign:c.default.oneOf(["left","center"]).isRequired,children:c.default.node.isRequired,collapseButtonText:(0,T.default)(c.default.node).isRequired,expandButtonText:(0,T.default)(c.default.node).isRequired,expanded:c.default.bool,expandOnFocus:c.default.bool.isRequired,fadeOutHeight:c.default.number.isRequired,fadeOutHeightRems:(0,S.hidden)(c.default.number),gradientColor:c.default.string,hideButtonCaret:c.default.bool.isRequired,maxHeight:c.default.number.isRequired,maxHeightRems:(0,S.hidden)(c.default.number),onCollapsibleChange:(0,S.hidden)(c.default.func),onCollapseButtonClick:c.default.func,onExpandButtonClick:c.default.func,onExpandedChange:c.default.func,Overhang:(0,g.getPropType)(P),scrollable:c.default.bool,toggleable:c.default.bool,use:c.default.oneOf(["default","on-dark"])};k.defaultProps={buttonAlign:"center",collapseButtonText:function(){return u.default.text("salesUI.UIExpandableText.collapseButtonText")},expandButtonText:function(){return u.default.text("salesUI.UIExpandableText.expandButtonText")},expanded:!1,expandOnFocus:!0,fadeOutHeight:32,hideButtonCaret:!1,maxHeight:80,Overhang:P,scrollable:!1,toggleable:!0,use:"default"};k.displayName="UIExpandableText";var N=(0,b.default)(k,["expanded"]);t.default=N;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a(115));a(962);var o=n(a(864)),s=n(a(245)),l=n(a(7)),u=r(a(6)),d=a(1427),c=n(a(964)),f=n(a(1428)),p=n(a(997)),v=a(969),g=n(a(1182)),m=a(1429),h=a(978),y=n(a(967)),b=a(891),_=n(a(1090)),E=a(971),T=a(1091),C=n(a(961));(0,v.setupStyledComponents)();var S=function(e){return e&&d.USE_CLASSES[e]?e:"secondary"},M=function(e){var t="",a=0,r=u.Children.toArray(e);return u.Children.map(e,function(e){a+=1;if(null==e)return null;if("string"==typeof e){t+=e;if(r.length<a||"string"!=typeof r[a]){var n=u.default.createElement("span",null,t);t="";return n}return null}return e})},I=function(e,t){return e?u.default.createElement(p.default,Object.assign({},t,{"aria-label":s.default.text("salesUI.UILink.externalTitle"),className:t&&t.className||"private-link--external__icon",name:"externalLink"})):null},x=function(e,t,a,r,n){return e?u.default.createElement(g.default,Object.assign({innerClassName:"private-button__truncate-string",useFlex:!0,fixedChildren:n,tooltip:a||r},t),u.default.createElement("span",null,r)):r},A=function(e){var t=e._useNativeButton,a=e["aria-pressed"],r=(e.active,e.autoFocus),n=e.block,s=e.buttonRef,l=e.children,c=e.className,p=e.disabled,v=e.external,g=e.href,h=e.iconProps,y=e.onClick,_=e.rel,A=e.responsive,P=e.size,O=e.tabIndex,R=e.target,k=e.truncate,N=e.truncateStringProps,L=e.truncateTooltip,w=e.use,D=(0,i.default)(e,["_useNativeButton","aria-pressed","active","autoFocus","block","buttonRef","children","className","disabled","external","href","iconProps","onClick","rel","responsive","size","tabIndex","target","truncate","truncateStringProps","truncateTooltip","use"]),F=(0,f.default)(e),B=F.active,U=F.onMouseDown,j=F.onKeyDown,H=F.onKeyUp,q=F.onBlur;(0,u.useEffect)(function(){r&&g&&s.current.focus()},[]);var W=function(e){if(p){e.preventDefault();e.stopPropagation()}else y&&y(e)},z=function(e){j&&j(e);if(e.target===s.current&&y&&g&&" "===e.key){e.preventDefault();p?e.stopPropagation():y(e)}},G=(0,b.toShorthandSize)(P),V=(0,E.getTabIndex)(p,O),Y=(0,m.getTarget)(v,R),Q=S(w);0;var K=M(l),X=I(v,h),Z=x(k,N,L,K,X),J="unstyled"===Q?(0,o.default)(c,d.USE_CLASSES[Q]):(0,o.default)("uiButton private-button",d.USE_CLASSES[Q],d.SIZE_CLASSES[G]||d.SIZE_CLASSES.default,c,B&&"private-button--active",n&&"private-button--block",p&&"disabled private-button--disabled",!A&&"private-button--non-responsive",-1===d.LINK_USES.indexOf(Q)&&"private-button--non-link"),$=Object.assign({},D,{"aria-disabled":p,className:J,"data-button-use":Q,onBlur:q,onClick:W,onKeyDown:z,onKeyUp:H,onMouseDown:U,ref:s,tabIndex:V});if(g){var ee=(0,m.getRel)(_,Y);return(0,m.renderSecurityTaggedLink)(g,u.default.createElement("a",Object.assign({},$,{href:(0,T.getSafeUrl)(g),rel:ee,target:Y}),Z,k||X))}var te=t?"button":C.default;if(!t){$.buttonRef=s;delete $.ref}return u.default.createElement(te,Object.assign({},$,{"aria-pressed":null!=a?a:B||void 0,autoFocus:r,disabled:t?void 0:p,onKeyDown:j}),Z)};A.propTypes={_useNativeButton:l.default.bool,active:(0,h.hidden)(l.default.bool),autoFocus:l.default.bool,"aria-pressed":l.default.bool,block:l.default.bool,buttonRef:y.default,children:l.default.node,disabled:l.default.bool.isRequired,external:l.default.bool.isRequired,hovered:(0,h.hidden)(l.default.bool),href:_.default,iconProps:l.default.object,responsive:l.default.bool.isRequired,rel:l.default.string,size:(0,b.propTypeForSizes)(["xs","sm","md"],["default"]),target:l.default.string,truncate:l.default.bool.isRequired,truncateStringProps:l.default.object,truncateTooltip:l.default.node,type:l.default.oneOf(["button","reset","submit"]).isRequired,use:l.default.oneOf(Object.keys(d.USE_CLASSES)).isRequired};A.defaultProps={_useNativeButton:!0,disabled:!1,external:!1,responsive:!0,size:"md",truncate:!1,type:"button",use:"secondary"};A.displayName="UIButton";var P=(0,c.default)(A);t.default=P;e.exports=t.default},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.LINK_USES=t.USE_CLASSES=t.SIZE_CLASSES=void 0;var r={default:"private-button--default",sm:"private-button--sm",xs:"private-button--xs",md:"private-button--default"};t.SIZE_CLASSES=r;var n={danger:"private-button--destructive",link:"private-button__link","link-danger":"private-button__link private-button__link--danger","link-on-dark":"private-button__link private-button__link--on-dark","link-on-bright":"private-button__link private-button__link--on-bright",primary:"private-button--primary","primary-white":"private-button--primary--white",secondary:"private-button--secondary","secondary-ghost":"private-button--secondary--ghost",tertiary:"private-button--tertiary","tertiary-light":"private-button--tertiary-light","tertiary-extra-light":"private-button--tertiary-extra-light",transparent:"private-button--transparent",unstyled:"private-button--unstyled",form:"private-button--form private-form__control","form-on-dark":"private-button--form private-form__control private-button--form--on-dark"};t.USE_CLASSES=n;var i=["link","link-danger","link-on-dark"];t.LINK_USES=i},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=s;var n=r(a(34)),i=a(6),o=function(e){var t=e.key;return"Enter"===t||" "===t};function s(e){var t=e.active,a=e.onMouseDown,r=e.onKeyDown,s=e.onKeyUp,l=e.onBlur,u=(0,i.useState)(!1),d=(0,n.default)(u,2),c=d[0],f=d[1],p=(0,i.useCallback)(function(e){a&&a(e);f(!0)},[a]),v=(0,i.useCallback)(function(e){r&&r(e);o(e)&&f(!0)},[r]),g=(0,i.useCallback)(function(e){s&&s(e);o(e)&&f(!1)},[s]),m=(0,i.useCallback)(function(e){l&&l(e);f(!1)},[l]);(0,i.useEffect)(function(){if(c){var e=function(){f(!1)};addEventListener("mouseup",e);return function(){removeEventListener("mouseup",e)}}},[c]);return{active:null!=t?t:c,onMouseDown:c?a:p,onKeyDown:c?r:v,onKeyUp:c?g:s,onBlur:c?m:l}}e.exports=t.default},,function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(7)),i=r(a(862)),o=a(244),s=a(895),l=function(e){return"top"===e||"bottom"===e},u=i.default.div.withConfig({displayName:"UIOverhang",componentId:"sc-1p1lbb5-0"})(["background-image:",";background-size:",";height:",";width:",";opacity:",";pointer-events:none;position:absolute;top:",";bottom:",";left:",";right:",";"],function(e){var t=e.gradientColor;return"linear-gradient(to "+e.side+", "+(0,s.rgba)(t,0)+", "+t+")"},function(e){var t=e.side,a=e.size;return l(t)?"100% "+a+"px}":a+"px 100%"},function(e){var t=e.side,a=e.size;return l(t)&&a+"px"},function(e){var t=e.side,a=e.size;return!l(t)&&a+"px"},function(e){return e.opacity},function(e){return"bottom"!==e.side&&0},function(e){return"top"!==e.side&&0},function(e){return"right"!==e.side&&0},function(e){return"left"!==e.side&&0});u.propTypes={gradientColor:n.default.string.isRequired,opacity:n.default.number.isRequired,side:n.default.oneOf(["top","bottom","left","right"]).isRequired,size:n.default.number.isRequired};u.defaultProps={gradientColor:o.KOALA,opacity:1,size:14};var d=u;t.default=d;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=t.PrimaryMessageFooterWrapper=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(78)),d=n(a(7)),c=r(a(6)),f=n(a(862)).default.div.withConfig({displayName:"PrimaryMessageFooter__PrimaryMessageFooterWrapper",componentId:"sc-174dsic-0"})(["display:flex;margin-top:4px;max-width:284px;"]);t.PrimaryMessageFooterWrapper=f;var p=function(e){(0,u.default)(t,e);function t(){(0,i.default)(this,t);return(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.className;return c.default.createElement(f,{className:a},t)}}]);return t}(c.PureComponent);t.default=p;p.displayName="PrimaryMessageFooter";p.propTypes={children:d.default.node.isRequired,className:d.default.string}},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=t.PrimaryMessageHeaderWrapper=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(78)),d=n(a(7)),c=r(a(6)),f=n(a(862)).default.div.withConfig({displayName:"PrimaryMessageHeader__PrimaryMessageHeaderWrapper",componentId:"sc-1eprct-0"})(["display:flex;height:16px;align-items:center;margin-top:4px;margin-bottom:4px;width:100%;"]);t.PrimaryMessageHeaderWrapper=f;var p=function(e){(0,u.default)(t,e);function t(){(0,i.default)(this,t);return(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.className;return c.default.createElement(f,{className:a},t)}}]);return t}(c.PureComponent);t.default=p;p.displayName="PrimaryMessageHeader";p.propTypes={children:d.default.node.isRequired,className:d.default.string}},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=t.PrimaryMessageHeaderContentWrapper=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(78)),d=n(a(7)),c=r(a(6)),f=n(a(862)).default.div.withConfig({displayName:"PrimaryMessageHeaderContent__PrimaryMessageHeaderContentWrapper",componentId:"sc-1wx8wxm-0"})(["margin-left:1px;min-width:0;"]);t.PrimaryMessageHeaderContentWrapper=f;var p=function(e){(0,u.default)(t,e);function t(){(0,i.default)(this,t);return(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.className;return c.default.createElement(f,{className:a},t)}}]);return t}(c.PureComponent);t.default=p;p.displayName="PrimaryMessageHeaderContent";p.propTypes={children:d.default.node.isRequired,className:d.default.string}},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(78)),d=n(a(1435)),c=n(a(881)),f=a(157),p=a(167),v=n(a(7)),g=r(a(6)),m=function(e){(0,u.default)(t,e);function t(){(0,i.default)(this,t);return(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.isSenderLoading,a=e.message,r=e.sender,n=(0,f.getTimestamp)(a),i=(0,f.getStatusSource)(a)||(0,p.getType)(a);return g.default.createElement(d.default,{timestamp:n,sender:r,isSenderLoading:t,statusSource:i})}}]);return t}(g.PureComponent);t.default=m;m.displayName="TypingHeaderContent";m.propTypes={isSenderLoading:v.default.bool,message:v.default.oneOfType([(0,c.default)("PubNubMessageRecord"),(0,c.default)("CommonMessage")]).isRequired,sender:(0,c.default)("Sender")};e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3),n=a(14);Object.defineProperty(t,"__esModule",{value:!0});t.default=t.StyledUIIcon=void 0;var i,o=r(a(4)),s=r(a(5)),l=r(a(75)),u=r(a(77)),d=r(a(78)),c=r(a(36)),f=r(a(881)),p=a(153),v=a(154),g=a(172),m=r(a(1436)),h=a(244),y=r(a(7)),b=n(a(6)),_=r(a(862)),E=r(a(1177)),T=r(a(997)),C=r(a(1437)),S=r(a(1438)),M=a(1396),I=a(1440),x=(i={},(0,c.default)(i,v.CHAT_MESSAGE,"messages"),(0,c.default)(i,p.EMAIL,"email"),(0,c.default)(i,p.LIVE_CHAT,"messages"),i),A=(0,_.default)(T.default).withConfig({displayName:"SenderHeaderContent__StyledUIIcon",componentId:"sc-1u4ofoj-0"})(["margin:0 6px;color:",";"],h.EERIE);t.StyledUIIcon=A;var P=function(e){(0,d.default)(t,e);function t(){(0,o.default)(this,t);return(0,l.default)(this,(0,u.default)(t).apply(this,arguments))}(0,s.default)(t,[{key:"renderMetadata",value:function(){var e=this.props,t=e.statusSource,a=e.timestamp,r=e.sender,n=t!==v.TYPING&&(0,I.getHistoryFormattedTimestamp)(a);if(!n)return null;var i=(0,M.getSenderType)(r)===g.VISITOR?x[t]:null;return b.default.createElement("span",null,i?b.default.createElement(A,{name:i}):b.default.createElement(C.default,null),n)}},{key:"render",value:function(){var e=this.props,t=e.isSenderLoading,a=e.sender;return t?b.default.createElement(m.default,{width:150}):b.default.createElement(E.default,{use:"help"},b.default.createElement("strong",null,b.default.createElement(S.default,{sender:a})),this.renderMetadata())}}]);return t}(b.PureComponent);P.displayName="SenderHeaderContent";P.propTypes={isSenderLoading:y.default.bool,sender:(0,f.default)("Sender"),statusSource:y.default.string,timestamp:y.default.number};var O=P;t.default=O},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(115)),i=r(a(4)),o=r(a(5)),s=r(a(75)),l=r(a(77)),u=r(a(78)),d=r(a(7)),c=r(a(6)),f=r(a(862)),p=r(a(1389)),v=a(1393),g=f.default.div.withConfig({displayName:"SkeletonText__SkeletonTextWrapper",componentId:"l81tz-0"})(["position:relative;width:",";"],function(e){var t=e.width;return(0,v.getSize)(t)}),m=(0,f.default)(p.default).withConfig({displayName:"SkeletonText__SkeletonTextInner",componentId:"l81tz-1"})(["height:0.75em;left:0;position:absolute;top:50%;transform:translateY(-50%);width:100%;"]),h=function(e){(0,u.default)(t,e);function t(){(0,i.default)(this,t);return(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.width,a=(0,n.default)(e,["width"]);return c.default.createElement(g,{width:t},"",c.default.createElement(m,a))}}]);return t}(c.default.PureComponent);h.defaultProps={width:"100%"};h.propTypes={width:d.default.oneOfType([d.default.number,d.default.string])};var y=h;t.default=y;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(6)),i=r(a(862)).default.span.withConfig({displayName:"Separator__SeparatorStyleWrapper",componentId:"sc-1on8uqr-0"})(["margin:0 4px;"]),o=function(){return n.default.createElement(i,null,"")};o.displayName="Separator";var s=o;t.default=s;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(78)),d=n(a(7)),c=r(a(6)),f=n(a(948)),p=n(a(881)),v=n(a(1436)),g=n(a(1439)),m=a(172),h=a(1396),y=function(e){(0,u.default)(t,e);function t(){(0,i.default)(this,t);return(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}(0,o.default)(t,[{key:"getUnknownSenderText",value:function(){switch((0,h.getSenderType)(this.props.sender)){case m.BOT:return c.default.createElement(f.default,{message:"conversations-message-history.responder.bot"});case m.AGENT:return c.default.createElement(f.default,{message:"conversations-message-history.responder.unknownResponder"});case m.VISITOR:return c.default.createElement(f.default,{message:"conversations-message-history.responder.unknownVisitor"});case m.SYSTEM:return c.default.createElement(f.default,{message:"conversations-message-history.responder.automatic"});default:return c.default.createElement(f.default,{message:"conversations-message-history.responder.unknownSender"})}}},{key:"render",value:function(){var e=this.props,t=e.sender;return e.isLoading?c.default.createElement(v.default,{width:100}):t&&(0,g.default)({givenName:(0,h.getFirstName)(t),familyName:(0,h.getLastName)(t),email:(0,h.getEmail)(t)})||this.getUnknownSenderText()}}]);return t}(c.PureComponent);t.default=y;y.displayName="SenderName";y.propTypes={isLoading:d.default.bool,sender:(0,p.default)("Sender")};e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(463)),i=r(a(462)),o=["de","ja"],s=function(e,t){var a=e.givenName,r=e.familyName,s=e.email,l=t&&t.locale||(0,n.default)();return o.indexOf(l)>=0||!a?(0,i.default)({firstName:a,lastName:r,email:s},t):a};t.default=s;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getHistoryFormattedTimestamp=void 0;var n=r(a(245)),i=function(e){return e?n.default.moment.userTz(e).format("LT"):null};t.getHistoryFormattedTimestamp=i},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(78)),d=n(a(1442)),c=n(a(245)),f=a(1443),p=n(a(1458)),v=n(a(881)),g=a(157),m=a(1459),h=r(a(6)),y=function(e){(0,u.default)(t,e);function t(){(0,i.default)(this,t);return(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}(0,o.default)(t,[{key:"render",value:function(){var e=this.props.message;return(0,f.hasTextContent)(e)?(0,m.isDuringOfficeHours)(e)?null:h.default.createElement(d.default,{transparent:!0,labelPadding:"m-y-1"},h.default.createElement(p.default,{"aria-label":c.default.text("conversations-visitor-message-history.systemMessage"),contentText:(0,g.getRichText)(e)||(0,g.getPlainText)(e)})):null}}]);return t}(h.PureComponent);y.displayName="AvailabilityMessage";y.propTypes={message:(0,v.default)("PubNubMessageRecord").isRequired};var b=y;t.default=b;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=t.StyledBorder=void 0;var n,i=r(a(36)),o=r(a(7)),s=r(a(6)),l=r(a(1177)),u=r(a(864)),d=r(a(862)),c=a(244),f=d.default.div.withConfig({displayName:"DashedLabel__StyledBorder",componentId:"sc-1r4x2u8-0"})(["display:flex;flex-grow:1;border:solid 1px ",";"],c.GREAT_WHITE);t.StyledBorder=f;function p(e){var t=e.children,a=e.transparent,r=e["data-test-id"],n=e.labelPadding;return s.default.createElement("div",{className:(0,u.default)("display-flex align-end",n,a&&"justify-center",!n&&"m-y-6"),"data-test-id":r||"dashed-label"},!a&&s.default.createElement(f,{className:"m-bottom-3"}),s.default.createElement("div",{className:"max-100 p-x-4"},s.default.createElement(l.default,{use:"help",className:"m-bottom-1 align-center text-center word-break-break-word flex-column"},t)),!a&&s.default.createElement(f,{className:"m-bottom-3"}))}p.displayName="DashedLabel";p.propTypes=(n={children:o.default.node.isRequired},(0,i.default)(n,"data-test-id",o.default.string),(0,i.default)(n,"transparent",o.default.bool),n);var v=p;t.default=v},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.hasTextContent=void 0;var n=a(683),i=r(a(37)),o=r(a(133)),s=a(157),l=r(a(350)),u=r(a(376)),d=r(a(256)),c=a(1444),f=a(173),p=[d.default,l.default,u.default],v=(0,o.default)(function(e){setTimeout(function(){(0,i.default)(p.some(function(t){return e instanceof t}),"hasTextContent: Unsupported message record type %s supplied",(0,n.getRecordName)(e))},0);var t=(0,f.getHasReplies)(e),a=(0,s.getRichText)(e)||(0,s.getPlainText)(e);return t||Boolean(a&&a.length&&(0,c.getEvaluatedTextContent)(a))});t.hasTextContent=v},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getEvaluatedTextContent=void 0;var n=r(a(133)),i=a(1445),o=(0,n.default)(function(e){if(!e)return null;var t=document.createElement("div");t.innerHTML=(0,i.cleanEmail)(e);document.body.appendChild(t);var a=t.innerText;document.body.removeChild(t);return a});t.getEvaluatedTextContent=o},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.cleanEmail=void 0;var n=r(a(133)),i=a(1446),o=a(1450),s=a(1451),l=a(1452),u=a(1453),d=(0,n.default)(function(e){var t=[i.removeOutlookLineBreaks,l.replaceGmailDivs,o.removeStyles,s.fixImages];return(0,u.sanitizeEmail)(e,t)});t.cleanEmail=d},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.removeOutlookLineBreaks=void 0;var r=a(1447),n=function(e,t){return"p"===t&&e&&e.classList&&e.classList.contains("MsoNormal")&&e.children&&e.children.length},i=function(e){return e&&!e.children.legnth&&"o:p"===e.tagName.toLowerCase()&&e.innerHTML.includes("&nbsp;")},o=function(e){return e&&"span"===e.tagName.toLowerCase()&&i(e.firstElementChild)},s=function(e){return!!e.getElementsByTagName("img").length},l=function e(t){var a=t.node,l=t.node_name;if(n(a,l)){var u=a.firstElementChild;if(i(u)||o(u)){if(s(a)){a.removeChild(u);return e({node:a,node_name:"p"})}return{node:r.secureDocument.createElement("br")}}var d=r.secureDocument.createElement("div");Object.keys(a.attributes).forEach(function(e){var t=a.attributes[e];d.setAttribute(t.nodeName,t.nodeValue)});d.innerHTML=a.innerHTML.trim().replace(/&nbsp;/g,"");return{node:d}}return null};t.removeOutlookLineBreaks=l},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.sanitizeConfig=t.secureDocument=void 0;var r=a(1446),n=a(1448),i=a(1449),o=a(1450),s=a(1451),l=a(1452),u=document.implementation.createHTMLDocument("");t.secureDocument=u;var d={transformers:[r.removeOutlookLineBreaks,n.removeReply,i.removeSignature,o.removeStyles,l.replaceGmailDivs,s.fixImages],dom:u,elements:["b","blockquote","br","caption","cite","code","col","colgroup","dd","dl","dt","em","figure","h1","h2","h3","h4","h5","h6","i","img","li","ol","p","pre","q","small","strike","strong","sub","sup","table","tbody","td","tfoot","th","thead","tr","u","ul","font","div","span","a"],attributes:{__ALL__:["style","align","valign","width","height"],blockquote:["cite"],col:["span"],colgroup:["span"],figure:["style"],ol:["start","type"],q:["cite"],img:["title","alt","src"],table:["summary","bgcolor"],td:["abbr","axis","colspan","rowspan","bgcolor"],th:["abbr","axis","colspan","rowspan","scope","bgcolor"],ul:["type"],font:["size"],a:["href","title"],span:["data-at-mention","data-owner-id","contenteditable","data-email-reply"]},add_attributes:{a:{target:"_blank"}},remove_contents:["script"],protocols:{a:{href:["http","https"]}}};t.sanitizeConfig=d},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.removeReply=t.REPLY_CLASSLIST=void 0;var r=a(1447),n=["gmail_extra","gmail_quote","hs_reply","x_hs_reply_wrap"];t.REPLY_CLASSLIST=n;var i="divRplyFwdMsg",o=function(e,t){return t===i||e&&e.contains&&n.some(function(t){return e.contains(t)})},s=function(e){var t=e.node,a=t.classList,n=t.id,i=t.attributes,s=void 0===i?[]:i;if(o(a,n)){var l=r.secureDocument.createElement("span");Object.keys(s).forEach(function(e){var t=s[e];l.setAttribute(t.nodeName,t.nodeValue)});l.innerHTML="";l.setAttribute("data-email-reply","");return{node:l}}return null};t.removeReply=s},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.removeSignature=t.SIGNATURE_CLASSLIST=void 0;var r=a(1447),n=["hs_signature"];t.SIGNATURE_CLASSLIST=n;var i=function(e){return e&&e.contains&&n.some(function(t){return e.contains(t)})},o=function(e){var t=e.node,a=t.classList,n=t.attributes,o=void 0===n?[]:n;if(i(a)){var s=r.secureDocument.createElement("span");Object.keys(o).forEach(function(e){var t=o[e];s.setAttribute(t.nodeName,t.nodeValue)});s.innerHTML="";s.setAttribute("data-email-signature","");return{node:s}}return null};t.removeSignature=o},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.removeStyles=t.BLACKLISTED_STYLES=void 0;var r=["position","top","bottom","left","right","z-index","clear","float","background-image","white-space"];t.BLACKLISTED_STYLES=r;var n=function(e){var t=e.node;if(t&&t.style&&t.style.length>0&&t.style.removeProperty){r.forEach(function(e){return t.style.removeProperty(e)});return{node:t}}return null};t.removeStyles=n},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.fixImages=void 0;var r=function(e){var t=e.node,a=e.node_name;if(t&&"img"===a&&t.attributes){t.attributes["data-original-height"]&&t.setAttribute("height",t.attributes["data-original-height"].value);t.attributes["data-original-width"]&&t.setAttribute("width",t.attributes["data-original-width"].value);t.attributes["data-full-size-src"]&&t.setAttribute("src",t.attributes["data-full-size-src"].value);return{node:t}}return null};t.fixImages=r},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.replaceGmailDivs=void 0;var r=a(1447),n=function(e){var t=e.node;if("div"===e.node_name&&t&&t.classList&&t.classList.contains("gmail_default")){var a=r.secureDocument.createElement("span");Object.keys(t.attributes).forEach(function(e){var r=t.attributes[e];a.setAttribute(r.nodeName,r.nodeValue)});a.innerHTML=t.innerHTML.trim();return{node:a}}return null};t.replaceGmailDivs=n},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.sanitizeEmail=void 0;var n=r(a(133)),i=a(1454),o=a(1455),s=a(1456),l=a(1447),u=a(1457),d=l.secureDocument.body,c=(0,n.default)(function(e,t){var a=l.secureDocument.createElement("div");try{d.innerHTML=e;var r=Object.assign({},l.sanitizeConfig);r.transformers=t;var n=(0,i.buildSanitizer)(r).clean_node(d).cloneNode(!0);a.appendChild(n);(0,u.removeGmailLineBreak)(a)}catch(e){var c=(0,o.buildError)("Error sanitizing email message: "+e.message,e);(0,s.reportError)(c)}return a.innerHTML});t.sanitizeEmail=c},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.buildSanitizer=void 0;var n=r(a(236)),i=function(e){return new n.default(e)};t.buildSanitizer=i},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.buildError=void 0;var r=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),r=1;r<t;r++)a[r-1]=arguments[r];return Object.assign.apply(Object,[new Error].concat(a,[{message:e}]))};t.buildError=r},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.reportError=void 0;var r=function(e){setTimeout(function(){throw e},0)};t.reportError=r},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.removeGmailLineBreak=void 0;var r=function(e){Array.from(e.querySelectorAll("br + [data-email-reply]")).forEach(function(e){var t=e.previousElementSibling;t&&t.nodeName&&"br"===t.nodeName.toLowerCase()&&t.classList&&t.classList.add("display-none")})};t.removeGmailLineBreak=r},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=t.ContentTextWrapper=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(78)),d=n(a(7)),c=r(a(6)),f=n(a(862)),p=n(a(234)),v=f.default.div.withConfig({displayName:"ContentText__ContentTextWrapper",componentId:"mn7so3-0"})(["word-wrap:break-word;box-sizing:border-box;width:100%;white-space:pre-wrap;"]);t.ContentTextWrapper=v;var g=function(e){(0,u.default)(t,e);function t(){(0,i.default)(this,t);return(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e["aria-label"],a=e.contentText,r=e.onClickAction;return c.default.createElement(v,null,c.default.createElement("div",{"aria-label":t,"data-test-id":"primary-message-content",dangerouslySetInnerHTML:{__html:p.default.formatHtml(a,{shouldPreserveNewlines:!0})},onClick:r}))}}]);return t}(c.PureComponent);t.default=g;g.displayName="ContentText";g.propTypes={"aria-label":d.default.string,contentText:d.default.string.isRequired,onClickAction:d.default.func};g.defaultProps={onClickAction:function(){}}},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.isDuringOfficeHours=void 0;var r=a(1460),n=function(e){return(0,r.getOfficeHoursStartTime)(e)&&(0,r.getOfficeHoursStartTime)(e)-(new Date).getTime()<0};t.isDuringOfficeHours=n},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getOfficeHoursStartTime=void 0;var n=r(a(160)),i=function(e){return(0,n.default)(["metadata","officeHoursStartTime"],e)};t.getOfficeHoursStartTime=i},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=a(1442),i=r(a(1462)),o=a(244),s=r(a(6)),l=r(a(862)).default.div.withConfig({displayName:"DateLabel__StyleWrapper",componentId:"sc-1sxp25a-0"})(["","{border-color:",";}"],n.StyledBorder,o.CIRRUS),u=function(e){return s.default.createElement(l,null,s.default.createElement(i.default,Object.assign({},e,{labelPadding:"m-y-3"})))};u.displayName="DateLabel";u.propTypes=i.default.propTypes;var d=u;t.default=d;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a(7)),o=r(a(6)),s=n(a(1442)),l=a(1463),u=a(1466),d=n(a(881)),c=(0,o.memo)(function(e){var t=e.message,a=e.labelPadding,r=(0,u.getTimestamp)(t);return o.default.createElement(s.default,{labelPadding:a},(0,l.getSimpleDateText)(r))});c.displayName="DateLabelMessage";c.propTypes={labelPadding:i.default.string,message:(0,d.default)("DateMessage").isRequired};var f=c;t.default=f;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getSimpleDateText=s;var n=r(a(6)),i=r(a(1464)),o=r(a(1177));function s(e){var t=(0,i.default)(e,"userTz");return n.default.createElement(o.default,{use:"help"},t)}s.displayName="getSimpleDateText"},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(1465)),i=function(e,t){return(0,n.default)({value:e,type:t,format:"MD",length:"m"})};t.default=i;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(245)),i={MY:"i18n.dateTime.monthAndYear",MD:"i18n.dateTime.monthAndDay",QY:"i18n.dateTime.quarterAndYear",WMDY:"i18n.dateTime.weekDayAndMonthAndDayAndYear"},o=function(e){var t=e.value,a=e.type,r=e.format,o=e.length,s=a?n.default.moment[a](t):t,l="",u="",d="";if("s"===o){var c=Object.keys(n.default.translations.en.i18n.dateTime.shortForm.months)[s.month()];l=n.default.text("i18n.dateTime.shortForm.months."+c,{locale:n.default.locale});u=s.format("ddd");d=s.format("ll")}else{l=s.format("MMMM");u=s.format("dddd");d=s.format("LL")}var f={monthName:l,locale:n.default.locale};switch(r){case"MD":f.dayNumber=s.date();break;case"QY":f.quarterNumber=s.quarter();f.yearNumber=s.year().toString();break;case"WMDY":f.weekDay=u;f.fullDate=d;break;default:f.yearNumber=s.year().toString()}return n.default.text(i[r],f)};t.default=o;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getTimestamp=t.getId=void 0;var n=a(1467),i=r(a(160)),o=(0,i.default)(n.ID);t.getId=o;var s=(0,i.default)(n.TIMESTAMP);t.getTimestamp=s},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.TIMESTAMP=t.ID=void 0;var r=["id"];t.ID=r;var n=["timestamp"];t.TIMESTAMP=n},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(78)),d=a(1403),c=a(1400),f=n(a(1401)),p=n(a(881)),v=a(327),g=n(a(1469)),m=a(60),h=n(a(7)),y=r(a(6)),b=n(a(1177)),_=n(a(1470)),E=n(a(1417)),T=n(a(1431)),C=function(e){(0,u.default)(t,e);function t(){(0,i.default)(this,t);return(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.fileAttachments,a=e.message,r=e.positionDescriptors,n=(0,v.getMessage)(a),i=r.includes(d.LAST);return y.default.createElement(E.default,{positionDescriptors:r,use:c.VISITOR},y.default.createElement(_.default,{fileAttachments:t,isLastMessage:i,message:n}),i&&y.default.createElement(T.default,null,y.default.createElement(b.default,{use:"help"},y.default.createElement(g.default,{message:"conversations-visitor-message-history.status.publishing.UNPUBLISHED"}))))}}]);return t}(y.PureComponent);C.displayName="ActivelyPublishingMessage";C.propTypes={fileAttachments:h.default.instanceOf(m.List),message:(0,p.default)("ActivelyPublishing").isRequired,positionDescriptors:f.default.isRequired};var S=C;t.default=S;e.exports=t.default},,function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(78)),d=n(a(1471)),c=n(a(245)),f=n(a(1472)),p=a(1481),v=a(1443),g=n(a(1458)),m=n(a(881)),h=a(143),y=a(157),b=a(172),_=a(60),E=n(a(7)),T=r(a(6)),C=n(a(862)),S=n(a(1483)),M=r(a(1423)),I=n(a(1424)),x=n(a(1413)),A=a(1412),P=a(1491),O=n(a(238)),R=C.default.div.withConfig({displayName:"CommonMessageContent__HyperlinkStyleWrapper",componentId:"sc-1wp4mjl-0"})([""," a{color:",";text-decoration:",";&:hover{color:",";}&:active{color:",";}}"],M.PrimaryMessageContentWrapper,function(e){return e.hyperlinkColor},function(e){return e.showUnderline?"underline":"inherit"},function(e){var t=e.hyperlinkColor;return t&&(0,P.darken)(t)},function(e){var t=e.hyperlinkColor;return t&&(0,P.darken)(t,.2)}),k=function(e){(0,u.default)(t,e);function t(){(0,i.default)(this,t);return(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}(0,o.default)(t,[{key:"isSentFromVisitor",value:function(){return(0,y.getSenderType)(this.props.message)===b.VISITOR}},{key:"isClickableLink",value:function(e){return new RegExp("([a-zA-Z0-9]+://)?([a-zA-Z0-9_]+:[a-zA-Z0-9_]+@)?([a-zA-Z0-9.-]+\\.[A-Za-z]{2,4})(:[0-9]+)?(/.*)?").test(e)}},{key:"handleOnClickEvent",value:function(e){e.persist();"A"===e.target.tagName&&this.props.toggleOpen(!1)}},{key:"renderContentText",value:function(){var e=this.props,t=e.message,a=e.mobile,r=(0,y.getRichText)(t)||(0,y.getPlainText)(t),n=a&&this.isClickableLink(r);if(!r)return null;var i=(0,y.getRichText)(t)&&O.default.link(r,{stripPrefix:!1});return T.default.createElement(g.default,{contentText:i||r,"aria-label":this.isSentFromVisitor()?c.default.text("conversations-visitor-message-history.myMessage"):c.default.text("conversations-visitor-message-history.agentMessage"),onClickAction:n?this.handleOnClickEvent.bind(this):null})}},{key:"renderMessageSection",value:function(){var e=this.props,t=e.fileAttachments,a=e.isLastMessage,r=e.message,n=!(0,h.isEmailCMF)(r)&&t&&(0,p.hasImageAttachments)(t),i=(0,v.hasTextContent)(r);return n||i?T.default.createElement(I.default,{isLastMessage:a},this.renderContentText(),n&&T.default.createElement(f.default,{fileAttachments:t})):null}},{key:"renderAttachmentsSection",value:function(){var e=this.props,t=e.fileAttachments,a=e.message,r=(0,h.isEmailCMF)(a)?t:(0,p.getNonImageAttachments)(t);return r&&r.size?T.default.createElement(I.default,null,T.default.createElement(S.default,{fileAttachments:r})):null}},{key:"render",value:function(){var e=this.renderMessageSection(),t=this.renderAttachmentsSection(),a=this.isSentFromVisitor();return T.default.createElement(R,{showUnderline:a,hyperlinkColor:a&&(0,A.getTextColor)(this.context)},T.default.createElement(M.default,null,e,t,!e&&!t&&T.default.createElement(I.default,null,T.default.createElement(d.default,null)),this.props.quickReplySelect&&this.props.quickReplySelect()))}}]);return t}(T.PureComponent);k.contextType=x.default;k.displayName="CommonMessageContent";k.propTypes={fileAttachments:E.default.instanceOf(_.List),isLastMessage:E.default.bool,message:E.default.oneOfType([(0,m.default)("PubNubMessageRecord"),(0,m.default)("CommonMessage")]).isRequired,mobile:E.default.bool,quickReplySelect:E.default.oneOfType([E.default.bool,E.default.func]),toggleOpen:E.default.func};var N=k;t.default=N;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(948)),i=r(a(6)),o=function(){return i.default.createElement("i",null,i.default.createElement(n.default,{message:"conversations-message-history.noContent"}))};o.displayName="NoContentLabel";var s=o;t.default=s;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=t.FileAttachmentsWrapper=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(78)),d=a(60),c=n(a(7)),f=r(a(6)),p=a(10),v=n(a(862)),g=a(1473),m=a(1475),h=a(1477),y=n(a(1478)),b=a(1481),_=300,E=v.default.div.withConfig({displayName:"InlineImageAttachments__FileAttachmentsWrapper",componentId:"k2hctp-0"})(["cursor:pointer;box-sizing:border-box;width:100%;max-width:","px;display:block;margin-bottom:16px;margin-top:8px;"],_);t.FileAttachmentsWrapper=E;var T=function(e){(0,u.default)(t,e);function t(e){var a;(0,i.default)(this,t);(a=(0,s.default)(this,(0,l.default)(t).call(this,e))).state={maxWidth:_};a.wrapperRef=(0,f.createRef)();return a}(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=(0,p.findDOMNode)(this.wrapperRef.current);e&&e.offsetWidth&&e.offsetWidth!==this.state.maxWidth&&this.setState({maxWidth:e.offsetWidth})}},{key:"render",value:function(){var e=this,t=this.props.fileAttachments;return f.default.createElement(E,{ref:this.wrapperRef},(0,b.getImageAttachments)(t).map(function(t,a){var r=(0,g.getFileMetadata)(t),n=(0,h.displayName)(r),i=(0,m.getUrl)(r),o=(0,m.getWidth)(r),s=(0,m.getHeight)(r);return f.default.createElement(y.default,{key:"image-"+a,name:n,url:i,width:o,height:s,maxWidth:e.state.maxWidth})}))}}]);return t}(f.PureComponent);T.displayName="InlineImageAttachments";T.propTypes={fileAttachments:c.default.instanceOf(d.List)};var C=T;t.default=C},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getThumbnailMetadata=t.getFileMetadata=t.getFileId=void 0;var n=r(a(160)),i=a(1474),o=(0,n.default)(i.FILE_ID);t.getFileId=o;var s=(0,n.default)(i.FILE_METADATA);t.getFileMetadata=s;var l=(0,n.default)(i.THUMBNAIL_METADATA);t.getThumbnailMetadata=l},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.THUMBNAIL_METADATA=t.FILE_METADATA=t.FILE_ID=void 0;var r=["fileId"];t.FILE_ID=r;var n=["fileMetadata"];t.FILE_METADATA=n;var i=["thumbnailMetadata"];t.THUMBNAIL_METADATA=i},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getHeight=t.getWidth=t.getSize=t.getType=t.getExtension=t.getName=t.getUrl=t.getExpiresAt=void 0;var n=r(a(160)),i=a(1476),o=(0,n.default)(i.EXPIRES_AT);t.getExpiresAt=o;var s=(0,n.default)(i.URL);t.getUrl=s;var l=(0,n.default)(i.NAME);t.getName=l;var u=(0,n.default)(i.EXTENSION);t.getExtension=u;var d=(0,n.default)(i.TYPE);t.getType=d;var c=(0,n.default)(i.SIZE);t.getSize=c;var f=(0,n.default)(i.WIDTH);t.getWidth=f;var p=(0,n.default)(i.HEIGHT);t.getHeight=p},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.HEIGHT=t.WIDTH=t.SIZE=t.TYPE=t.EXTENSION=t.NAME=t.URL=t.EXPIRES_AT=void 0;var r=["expiresAt"];t.EXPIRES_AT=r;var n=["url"];t.URL=n;var i=["name"];t.NAME=i;var o=["extension"];t.EXTENSION=o;var s=["type"];t.TYPE=s;var l=["fileSize"];t.SIZE=l;var u=["width"];t.WIDTH=u;var d=["height"];t.HEIGHT=d},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.displayName=void 0;var r=a(1475),n=function(e){var t=(0,r.getName)(e),a=(0,r.getExtension)(e);return a?t+"."+a:t};t.displayName=n},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=t.InlineImageAttachmentWrapper=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(78)),d=n(a(7)),c=r(a(6)),f=n(a(862)),p=n(a(1089)),v=n(a(1479)),g=f.default.div.withConfig({displayName:"InlineImageAttachment__InlineImageAttachmentWrapper",componentId:"wg5vw1-0"})(["display:block;max-width:100%;"]);t.InlineImageAttachmentWrapper=g;var m=function(e){(0,u.default)(t,e);function t(e){var a;(0,i.default)(this,t);(a=(0,s.default)(this,(0,l.default)(t).call(this,e))).hasLoadedImage=function(){a.setState({hasLoaded:!0})};a.state={hasLoaded:!1};return a}(0,o.default)(t,[{key:"getDimensions",value:function(){var e=this.props,t=e.maxWidth,a=e.width,r=e.height;return!this.state.hasLoaded&&t&&a&&r?a<=t?{width:a,height:r}:{width:t,height:r*(t/a)}:{}}},{key:"render",value:function(){var e=this.props,t=e.name,a=e.url,r=this.getDimensions(),n=r.width,i=r.height;return c.default.createElement(g,null,c.default.createElement(v.default,{href:a,target:"_blank","data-test-id":"inline-image-attachment"},c.default.createElement(p.default,{alt:t,src:a,width:n,height:i,style:{minHeight:i},onLoad:this.hasLoadedImage})))}}]);return t}(c.PureComponent);m.displayName="InlineImageAttachment";m.propTypes={height:d.default.number,maxWidth:d.default.number,name:d.default.string.isRequired,url:d.default.string.isRequired,width:d.default.number};var h=m;t.default=h},,,function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.hasImageAttachments=t.getNonImageAttachments=t.getImageAttachments=void 0;var r=a(1475),n=a(1473),i=a(1482),o=function(e){return e.filter(function(e){var t=(0,n.getFileMetadata)(e),a=(0,r.getType)(t),o=(0,r.getExtension)(t);return Boolean(a===i.IMG&&"svg"!==o)})};t.getImageAttachments=o;var s=function(e){return e.filter(function(e){var t=(0,n.getFileMetadata)(e),a=(0,r.getType)(t),o=(0,r.getExtension)(t);return Boolean(a!==i.IMG||"svg"===o)})};t.getNonImageAttachments=s;var l=function(e){return e.some(function(e){var t=(0,n.getFileMetadata)(e),a=(0,r.getType)(t),o=(0,r.getExtension)(t);return Boolean(a===i.IMG&&"svg"!==o)})};t.hasImageAttachments=l},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.OTHER=t.AUDIO=t.DOCUMENT=t.MOVIE=t.IMG=void 0;var r="IMG";t.IMG=r;var n="MOVIE";t.MOVIE=n;var i="DOCUMENT";t.DOCUMENT=i;var o="AUDIO";t.AUDIO=o;var s="OTHER";t.OTHER=s},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=t.StyledFileAttachmentTile=t.AttachmentsFooterWrapper=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(78)),d=n(a(1484)),c=a(1473),f=a(60),p=n(a(7)),v=r(a(6)),g=n(a(862)),m=n(a(1413)),h=a(1412),y=a(1490),b=g.default.div.withConfig({displayName:"AttachmentsFooter__AttachmentsFooterWrapper",componentId:"sc-1c1lxw6-0"})(["cursor:pointer;box-sizing:border-box;display:block;background-color:",";"],function(e){return e.backgroundColor});t.AttachmentsFooterWrapper=b;var _=(0,g.default)(d.default).withConfig({displayName:"AttachmentsFooter__StyledFileAttachmentTile",componentId:"sc-1c1lxw6-1"})(["background-color:",";"],function(e){return e.backgroundColor||"rgba(255, 255, 255, 0.5)"});t.StyledFileAttachmentTile=_;var E=function(e){(0,u.default)(t,e);function t(){(0,i.default)(this,t);return(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}(0,o.default)(t,[{key:"render",value:function(){var e=this,t=this.props.fileAttachments;return v.default.createElement(b,{backgroundColor:(0,h.getBackgroundColor)(this.context)},t.map(function(t,a){return v.default.createElement(_,{key:a,fileMetadata:(0,c.getFileMetadata)(t),backgroundColor:(0,y.getTileBackgroundColor)((0,h.getFileAttachmentTheme)(e.context))})}))}}]);return t}(v.PureComponent);E.contextType=m.default;E.displayName="AttachmentsFooter";E.propTypes={fileAttachments:p.default.instanceOf(f.List).isRequired};var T=E;t.default=T},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=t.FileAttachmentTileWrapper=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(78)),d=n(a(881)),c=a(1482),f=a(1477),p=a(1475),v=n(a(1175)),g=r(a(6)),m=n(a(862)),h=n(a(1176)),y=n(a(1089)),b=n(a(1479)),_=n(a(1485)),E=a(1488),T=a(1489),C=m.default.div.withConfig({displayName:"FileAttachmentTile__FileAttachmentTileWrapper",componentId:"sc-14spfm2-0"})(["max-width:300px;"]);t.FileAttachmentTileWrapper=C;var S=(0,m.default)(h.default).withConfig({displayName:"FileAttachmentTile__StyledFileAttachment",componentId:"sc-14spfm2-1"})(["background-color:",";"],function(e){return e.backgroundColor||"rgba(255, 255, 255, 0.5)"}),M=m.default.div.withConfig({displayName:"FileAttachmentTile__TruncateString",componentId:"sc-14spfm2-2"})(["white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"]),I=function(e){(0,u.default)(t,e);function t(){(0,i.default)(this,t);return(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}(0,o.default)(t,[{key:"render",value:function(){var e=this.props.fileMetadata,t=(0,f.displayName)(e),a=(0,p.getUrl)(e),r=(0,p.getSize)(e),n=(0,p.getType)(e),i=(0,p.getExtension)(e),o=n===c.IMG&&"svg"!==i;return g.default.createElement(C,null,g.default.createElement(b.default,{href:a,target:"_blank",use:"unstyled"},g.default.createElement(S,{className:"m-x-3 m-y-2",backgroundColor:(0,E.getTileBackgroundColor)((0,T.getFileAttachmentTheme)(this.context)),fileName:g.default.createElement(M,null,t),fileInfo:g.default.createElement(v.default,{value:r}),size:"small",renderPreview:o?function(){return g.default.createElement(y.default,{alt:t,shape:"thumbnail",src:a})}:void 0})))}}]);return t}(g.PureComponent);I.contextType=_.default;I.displayName="FileAttachmentTile";I.propTypes={fileMetadata:(0,d.default)("FileMetadataRecord").isRequired};var x=I;t.default=x},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=a(6),i=r(a(1486)),o=(0,n.createContext)((0,i.default)());t.default=o;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=a(244),i=a(60),o=r(a(1415)),s=r(a(1487)),l=(0,i.Record)({alignItems:"flex-start",avatarWidth:"32px",backgroundColor:n.KOALA,borderColor:n.BATTLESHIP,borderRadius:"4px",borderWidth:"1px",messageSpacing:"8px",textColor:n.OBSIDIAN,fileAttachmentTheme:(0,o.default)(),quickReplyTheme:(0,s.default)(),headerBackgroundColor:n.OLAF,headerTextColor:n.OBSIDIAN,avatarBackgroundColor:n.BATTLESHIP,avatarBorderColor:n.BATTLESHIP,avatarTextColor:n.OBSIDIAN},"Theme");t.default=l;e.exports=t.default},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=a(60),n=a(244),i=(0,r.Record)({width:"auto",minHeight:36,borderColor:n.FLINT,whiteSpace:"normal",lineHeight:"1rem",color:n.FLINT},"QuickReplyTheme");t.default=i;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getTileBackgroundColor=void 0;var n=(0,r(a(144)).default)("tileBackgroundColor");t.getTileBackgroundColor=n},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getHeaderTextColor=t.getAvatarBorderColor=t.getAvatarTextColor=t.getHeaderBackgroundColor=t.getAvatarBackgroundColor=t.getQuickReplyTheme=t.getFileAttachmentTheme=t.getTextColor=t.getMessageSpacing=t.getBorderWidth=t.getBorderRadius=t.getBorderColor=t.getBackgroundColor=t.getAvatarWidth=t.getAlignment=void 0;var n=r(a(144)),i=(0,n.default)("alignItems");t.getAlignment=i;var o=(0,n.default)("avatarWidth");t.getAvatarWidth=o;var s=(0,n.default)("backgroundColor");t.getBackgroundColor=s;var l=(0,n.default)("borderColor");t.getBorderColor=l;var u=(0,n.default)("borderRadius");t.getBorderRadius=u;var d=(0,n.default)("borderWidth");t.getBorderWidth=d;var c=(0,n.default)("messageSpacing");t.getMessageSpacing=c;var f=(0,n.default)("textColor");t.getTextColor=f;var p=(0,n.default)("fileAttachmentTheme");t.getFileAttachmentTheme=p;var v=(0,n.default)("quickReplyTheme");t.getQuickReplyTheme=v;var g=(0,n.default)("avatarBackgroundColor");t.getAvatarBackgroundColor=g;var m=(0,n.default)("headerBackgroundColor");t.getHeaderBackgroundColor=m;var h=(0,n.default)("avatarTextColor");t.getAvatarTextColor=h;var y=(0,n.default)("avatarBorderColor");t.getAvatarBorderColor=y;var b=(0,n.default)("headerTextColor");t.getHeaderTextColor=b},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getTileBackgroundColor=void 0;var n=(0,r(a(144)).default)("tileBackgroundColor");t.getTileBackgroundColor=n},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.darken=t.lighten=t.convertToHsl=t.getRGB=void 0;var r=/^rgb/i,n=function(e){var t,a,n;try{if(r.test(e)){var i=e.match(/(\d+)\D+(\d+)\D+(\d+)/);t=parseInt(i[1],10);a=parseInt(i[2],10);n=parseInt(i[3],10)}else{var o=e.toLowerCase().replace(/^#/,"");3===o.length&&(o=o.replace(/([0-9a-f])/g,"$1$1"));t=parseInt(o.substring(0,2),16);a=parseInt(o.substring(2,4),16);n=parseInt(o.substring(4,6),16)}if([t,a,n].some(isNaN))return{}}catch(e){return{}}return{r:t,g:a,b:n}};t.getRGB=n;var i=function(e){var t=n(e),a=t.r,r=t.g,i=t.b;if([a,r,i].some(isNaN))return{hue:0,saturation:0,lightness:0};var o,s=a/255,l=r/255,u=i/255,d=Math.max(s,l,u),c=Math.min(s,l,u),f=(d+c)/2,p=d-c;if(0===p)return{hue:0,saturation:0,lightness:f};var v=f>.5?p/(2-d-c):p/(d+c);switch(d){case s:o=(l-u)/p+(l<u?6:0);break;case l:o=(u-s)/p+2;break;default:o=(s-l)/p+4}o*=60;return{hue:o=Math.round(o),saturation:v,lightness:f}};t.convertToHsl=i;var o=function(e){var t=e<0?0:e>1?1:e;return Math.round(100*t)+"%"},s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1,a=i(e),r=a.hue,n=a.saturation,s=a.lightness;return"hsl("+[r,o(n),o(s+t)].join(", ")+")"};t.lighten=s;var l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;return s(e,-t)};t.darken=l},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(1493)),i=a(13),o=a(878),s=a(1512),l=a(1514),u=a(1515),d=a(453),c=a(1224),f=a(1283),p=function(e){return{coloring:(0,o.getColoring)(e),companyName:(0,u.getCompanyName)(e),consentToCommunicateMessage:(0,l.getConsentToCommunicateMessage)(e),hasVisitorEmail:(0,d.getHasVisitorEmail)(e),requiresConsentToCommunicate:(0,s.shouldRequireConsentToCommunicate)(e),threadId:(0,f.getCurrentThreadId)(e)}},v={sendVisitorEmailAddress:c.sendVisitorEmailAddress},g=(0,i.connect)(p,v)(n.default);t.default=g;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=t.ErrorMessage=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(76)),d=n(a(78)),c=a(1400),f=n(a(245)),p=n(a(1458)),v=n(a(1401)),g=n(a(881)),m=a(157),h=a(1044),y=n(a(1469)),b=n(a(1362)),_=n(a(7)),E=r(a(6)),T=n(a(862)),C=n(a(1494)),S=n(a(1504)),M=a(244),I=n(a(1417)),x=n(a(1423)),A=n(a(1424)),P=T.default.span.withConfig({displayName:"EmailCapturePromptMessage__ErrorMessage",componentId:"jv7jvp-0"})(["color:",";font-size:12px;line-height:18px;text-align:left;margin-top:9px;display:flex;"],M.CANDY_APPLE);t.ErrorMessage=P;var O=/\s|@.{0,}@/,R=function(e){(0,d.default)(t,e);function t(e){var a;(0,i.default)(this,t);(a=(0,s.default)(this,(0,l.default)(t).call(this,e))).onConsentChange=function(){a.setState({hasConsentedToCommunicate:!a.state.hasConsentedToCommunicate})};a.state={email:"",emailError:!1,hasConsentedToCommunicate:!1,submitting:!1,submitFailure:!1};a.handleChange=a.handleChange.bind((0,u.default)(a));a.handleKeyPress=a.handleKeyPress.bind((0,u.default)(a));a.handleSubmit=a.handleSubmit.bind((0,u.default)(a));return a}(0,o.default)(t,[{key:"handleChange",value:function(e){this.setState({email:e.target.value,emailError:!1,submitFailure:!1})}},{key:"handleKeyPress",value:function(e){var t=13;e.which===t&&this.handleSubmit()}},{key:"handleSubmit",value:function(){var e=this,t=this.props,a=t.sendVisitorEmailAddress,r=t.threadId,n=this.state,i=n.email,o=n.hasConsentedToCommunicate,s=i.trim();b.default.test(s)&&!s.match(O)?this.setState({submitting:!0},function(){a({email:s,consentToCommunicate:o,threadId:r}).then(function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).error;e.setState({submitting:!1,submitFailure:Boolean(t)})}).done()}):this.setState({emailError:!0})}},{key:"getValidationMessage",value:function(){switch(!0){case this.state.emailError:return E.default.createElement(y.default,{message:"conversations-visitor-message-history.email-capture.invalid"});case this.state.submitFailure:return E.default.createElement(y.default,{message:"conversations-visitor-message-history.email-capture.failed"});default:return null}}},{key:"renderConsentSection",value:function(){var e=this.props,t=e.companyName,a=e.consentToCommunicateMessage,r=e.hasVisitorEmail;return!e.requiresConsentToCommunicate||r?null:E.default.createElement(A.default,{key:"email-prompt-content-section"},E.default.createElement(C.default,{message:a,companyName:t,consentToCommunicate:this.state.hasConsentedToCommunicate,onChange:this.onConsentChange}))}},{key:"renderCaptureSection",value:function(){var e=this.props,t=e.coloring,a=e.message,r=this.state,n=r.email,i=r.submitting,o=this.getValidationMessage();return E.default.createElement(A.default,{key:"email-prompt-capture-section"},E.default.createElement(p.default,{"aria-label":f.default.text("conversations-visitor-message-history.agentMessage"),contentText:(0,m.getPlainText)(a)}),E.default.createElement(S.default,{disabled:!n,error:Boolean(o),submitting:i,value:n,onChange:this.handleChange,onKeyPress:this.handleKeyPress,buttonColor:(0,h.getAccentColor)(t),onSubmit:this.handleSubmit}),E.default.createElement(P,null,o))}},{key:"renderContent",value:function(){return this.props.hasVisitorEmail?E.default.createElement(A.default,null,E.default.createElement(y.default,{"data-test-id":"email-capture-success",message:"conversations-visitor-message-history.email-capture.thanks"})):[this.renderCaptureSection(),this.renderConsentSection()]}},{key:"render",value:function(){var e=this.props.positionDescriptors;return E.default.createElement(I.default,{positionDescriptors:e,use:c.AGENT},E.default.createElement(x.default,null,this.renderContent()))}}]);return t}(E.PureComponent);R.displayName="EmailCapturePromptMessage";R.propTypes={coloring:(0,g.default)("ColoringRecord").isRequired,companyName:_.default.string,consentToCommunicateMessage:_.default.string,hasVisitorEmail:_.default.bool.isRequired,message:(0,g.default)("PubNubMessageRecord").isRequired,positionDescriptors:v.default.isRequired,requiresConsentToCommunicate:_.default.bool,sendVisitorEmailAddress:_.default.func.isRequired,threadId:_.default.number.isRequired};var k=R;t.default=k},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(6)),i=r(a(7)),o=r(a(862)),s=r(a(245)),l=r(a(1495)),u=r(a(1177)),d=a(244),c=a(234),f=r(a(1503)),p=(0,o.default)(u.default).withConfig({displayName:"ConsentToCommunicate__SmallNoParagraphPadding",componentId:"fkytdg-0"})(["p{margin-bottom:0;}"]),v=function(e){var t=e.message,a=e.companyName,r=e.consentToCommunicate,i=e.onChange,o=(0,c.formatHtml)(t)||s.default.text("conversations-visitor-message-history.email-capture.consentToCommunicate",{accountName:a});return n.default.createElement(l.default,{size:"small",value:r,onChange:i},n.default.createElement(p,{tagName:"span",style:{color:d.FLINT}},n.default.createElement(f.default,null,n.default.createElement("span",{dangerouslySetInnerHTML:{__html:o}}))))};v.displayName="ConsentToCommunicate";v.propTypes={companyName:i.default.string,consentToCommunicate:i.default.bool.isRequired,message:i.default.string.isRequired,onChange:i.default.func.isRequired};var g=v;t.default=g;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a(115));a(962);var o=n(a(864)),s=n(a(7)),l=r(a(6)),u=(n(a(159)),n(a(1093))),d=n(a(977)),c=a(1496),f=n(a(1497)),p=n(a(1499)),v=a(891),g=a(971),m=a(1500),h=n(a(1501)),y=(0,d.default)(function(){return l.default.createElement(p.default,{className:"private-checkbox__icon__inner"})}),b=(0,d.default)(function(){return l.default.createElement("svg",{role:"presentation",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},l.default.createElement("path",{className:"private-checkbox__icon__inner",d:"M 2 6 L12 6 L12 9 L2 9 L2 6 z"}))}),_=(0,d.default)(function(e){return l.default.createElement("span",{className:"private-checkbox__indicator","data-indicator":!0,style:{color:e}},l.default.createElement("span",{className:"private-checkbox__icon private-checkbox__check"},y()),l.default.createElement("span",{className:"private-checkbox__icon private-checkbox__dash"},b()))}),E=(0,l.forwardRef)(function(e,t){var a=e["aria-label"],r=e["aria-labelledby"],n=e.checked,s=e.children,d=e.className,f=e.color,p=e.description,v=e.disabled,y=e.id,b=e.indeterminate,E=e.innerPadding,T=e.name,C=e.onChange,S=e.readOnly,M=e.size,I=e.tabIndex,x=e.value,A=(0,i.default)(e,["aria-label","aria-labelledby","checked","children","className","color","description","disabled","id","indeterminate","innerPadding","name","onChange","readOnly","size","tabIndex","value"]),P=(0,l.useContext)(c.FieldsetContext),O=P.size,R=P.disabled;0;var k=(0,u.default)("checkbox-"),N=(0,u.default)("checkbox-content-"),L=v||R,w=M||O,D=(0,o.default)(r,s&&N);return l.default.createElement(h.default,Object.assign({},A,{checked:n,childWrapperId:N,className:(0,o.default)(d,"private-checkbox",m.PADDING_OPTIONS[E],null==s&&"private-checkbox--unlabeled"),description:p,descriptionId:k,disabled:L,input:l.default.createElement("input",{"aria-describedby":p?k:null,"aria-label":a,"aria-labelledby":D,checked:n,className:"private-checkbox__input sr-only"+(b?" indeterminate":""),disabled:L,id:y,name:T,onChange:function(e){v||S?e.preventDefault():C(e)},readOnly:S,tabIndex:(0,g.getTabIndex)(S||v,I),type:"checkbox",value:x}),indicator:_(f),onChange:C,readOnly:S,ref:t,size:w}),s)});E.propTypes={alignment:s.default.oneOf(Object.keys(m.ALIGNMENT_CLASSES)),"aria-label":s.default.string,"aria-labelledby":s.default.string,checked:s.default.bool,children:s.default.node,color:s.default.string,description:s.default.node,descriptionLayout:s.default.oneOf(["horizontal","vertical"]),disabled:s.default.bool,indeterminate:s.default.bool,inline:s.default.bool,innerPadding:s.default.oneOf(Object.keys(m.PADDING_OPTIONS)).isRequired,labelClassName:s.default.string,name:s.default.string,onChange:s.default.func,readOnly:s.default.bool,size:s.default.oneOfType([(0,v.propTypeForSizes)(["sm"]),s.default.oneOf(["default"])]),value:s.default.any};E.defaultProps={alignment:"start",checked:!1,descriptionLayout:"vertical",innerPadding:"default"};E.displayName="UICheckbox";var T=(0,f.default)(E);t.default=T;e.exports=t.default},,function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=d;var i=n(a(115)),o=r(a(6)),s=n(a(965)),l=a(1498),u=a(968);function d(e){var t=(0,o.forwardRef)(function(t,a){t.checked,t.defaultChecked,t.onChange;var r=(0,i.default)(t,["checked","defaultChecked","onChange"]),n=(0,l.useChecked)(t),s=n.checked,u=n.onChange;return o.default.createElement(e,Object.assign({},r,{checked:s,onChange:u,ref:a}))});t.propTypes=Object.assign({},e.propTypes,{},l.checkedPropTypes);t.defaultProps=Object.assign({},e.defaultProps,{defaultChecked:!(!e.defaultProps||null==e.defaultProps.checked)&&e.defaultProps.checked});delete t.defaultProps.checked;t.displayName="Checkable("+(0,s.default)(e)+")";(0,u.attachWrappedComponent)(t,e);return t}e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.checkedDefaultProps=t.checkedPropTypes=t.useChecked=void 0;var n=r(a(34)),i=r(a(7)),o=a(6),s=function(e){var t=e.checked,a=e.defaultChecked,r=e.onChange,i=(0,o.useState)(a),s=(0,n.default)(i,2),l=s[0],u=s[1],d=(0,o.useCallback)(function(e){u(e.target.checked);r&&r(e)},[r]);return{checked:void 0!==t?t:l,onChange:d}};t.useChecked=s;var l={checked:i.default.bool,defaultChecked:i.default.bool,onChange:i.default.func};t.checkedPropTypes=l;var u={defaultChecked:!1};t.checkedDefaultProps=u},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=i;var n=r(a(6));function i(e){return n.default.createElement("svg",{role:"presentation",viewBox:"0 0 15 15.343",xmlns:"http://www.w3.org/2000/svg"},n.default.createElement("path",Object.assign({},e,{d:"M1.013 8.11c0-.223.078-.412.234-.568l1.14-1.14c.155-.155.345-.233.568-.233s.413.077.57.233l2.46 2.47 5.492-5.5c.156-.156.346-.234.568-.234.224 0 .413.077.57.233l1.138 1.14c.156.155.234.345.234.568 0 .224-.078.414-.234.57l-6.06 6.06-1.14 1.14c-.155.155-.345.233-.568.233s-.413-.078-.57-.234l-1.138-1.14-3.03-3.03c-.156-.156-.234-.346-.234-.57z"})))}i.displayName="UICheckmark";e.exports=t.default},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.SIZE_OPTIONS=t.PADDING_OPTIONS=t.ALIGNMENT_CLASSES=void 0;var r={start:"",baseline:"private-checkbox--align-baseline",center:"private-checkbox--align-center",end:"private-checkbox--align-end"};t.ALIGNMENT_CLASSES=r;var n={default:"",none:"private-checkbox--flush"};t.PADDING_OPTIONS=n;var i={default:"",sm:"private-checkbox--small"};t.SIZE_OPTIONS=i},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a(115)),o=n(a(864)),s=(n(a(7)),r(a(6))),l=a(970),u=a(1502),d=a(891),c=a(1500),f=(0,s.forwardRef)(function(e,t){var a=e.alignment,r=e.checked,n=e.children,f=e.childWrapperId,p=e.className,v=e.description,g=e.descriptionId,m=e.descriptionLayout,h=e.disabled,y=e.indicator,b=e.inline,_=e.input,E=e.labelClassName,T=e.onChange,C=e.readOnly,S=e.size,M=(0,i.default)(e,["alignment","checked","children","childWrapperId","className","description","descriptionId","descriptionLayout","disabled","indicator","inline","input","labelClassName","onChange","readOnly","size"]),I=(0,d.toShorthandSize)(S);return s.default.createElement("div",Object.assign({},M,{className:(0,o.default)(p,c.ALIGNMENT_CLASSES[a],c.SIZE_OPTIONS[I],h&&"private-checkbox--disabled",C&&"private-checkbox--readonly",b&&"private-checkbox--inline",v&&"vertical"===m&&"private-checkbox--stack-contents"),ref:t}),s.default.createElement("label",{className:(0,o.default)("private-checkbox__label",E),onClick:function(e){(0,l.isFirefox)()&&(0,u.isModifierPressed)(e)&&T(Object.assign({},e,{type:"change",target:{checked:!r}}))}},s.default.createElement("span",{className:"private-checkbox__inner"},_,y,n&&s.default.createElement("span",{className:"private-checkbox__text"+("sm"===I?" private-checkbox__text--small":""),id:f},n))),v&&s.default.createElement("span",{className:"private-checkbox__desc",id:g},v))});f.displayName="ToggleInputWrapper";0;var p=f;t.default=p;e.exports=t.default},,function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=l;var n=r(a(115)),i=r(a(7)),o=r(a(6)),s=r(a(864));function l(e){var t=e.children,a=e.className,r=e.hyphenate,i=(0,n.default)(e,["children","className","hyphenate"]);return o.default.createElement("span",Object.assign({},i,{className:(0,s.default)("private-break-string",a,r?"private-break-string--hyphenate":"private-break-string--no-hyphenate")}),t)}l.propTypes={children:i.default.node.isRequired,hyphenate:i.default.bool};l.defaultProps={hyphenate:!0};l.displayName="UIBreakString";e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(245)),i=r(a(6)),o=r(a(7)),s=r(a(862)),l=r(a(1178)),u=r(a(1180)),d=r(a(1505)),c=r(a(1506)),f=r(a(997)),p=r(a(1509)),v=a(244),g=20,m=(0,s.default)(c.default).withConfig({displayName:"EmailCaptureInput__StyledTextInput",componentId:"sc-21umo-0"})(["::placeholder{font-size:",";}"],function(e){return e.placeholder.length>g?"14px":void 0}),h=(0,s.default)(l.default).withConfig({displayName:"EmailCaptureInput__StyledUIMedia",componentId:"sc-21umo-1"})(["background-color:",";border-radius:3px;border:1px solid ",";"],v.OLAF,v.BATTLESHIP),y=(0,s.default)(p.default).withConfig({displayName:"EmailCaptureInput__StyledUILoadingButton",componentId:"sc-21umo-2"})(["padding:0 !important;margin:4px;display:flex !important;align-items:center;justify-content:center;width:32px !important;height:32px !important;"]),b={buttonColor:o.default.string.isRequired,disabled:o.default.bool,email:o.default.string,error:o.default.bool,locale:o.default.string,onChange:o.default.func.isRequired,onKeyPress:o.default.func.isRequired,onSubmit:o.default.func,submitting:o.default.bool.isRequired},_=function(e){var t=e.buttonColor,a=e.disabled,r=e.email,o=e.error,s=e.onChange,l=e.onKeyPress,c=e.onSubmit,p=e.submitting,g=e.locale,b={backgroundColor:p?void 0:t,borderColor:p?void 0:t};return i.default.createElement(h,{"data-test-id":"email-capture-input-container"},i.default.createElement(u.default,{className:"display-flex align-center"},i.default.createElement(m,{"aria-label":n.default.text("conversations-visitor-message-history.email-capture.placeholderText",{locale:g}),styled:!1,value:r,placeholder:n.default.text("conversations-visitor-message-history.email-capture.placeholderText",{locale:g}),onChange:s,onKeyPress:l})),i.default.createElement(d.default,null,i.default.createElement(y,{"aria-label":n.default.text("conversations-visitor-message-history.email-capture.sendEmail",{locale:g}),"data-test-id":"email-capture-submit-button",disabled:a,failed:o,style:b,onClick:c,loading:p,use:p?"tertiary-light":"primary-white",color:v.OLAF,spinnerProps:{style:{width:"100%",height:"100%"}},resultIcon:"success"},i.default.createElement(f.default,{color:v.OLAF,name:"send"}))))};_.displayName="EmailCaptureInput";_.propTypes=b;var E=_;t.default=E;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=l;var n=r(a(115)),i=r(a(7)),o=r(a(6)),s=r(a(864));function l(e){var t=e.className,a=(0,n.default)(e,["className"]);return o.default.createElement("div",Object.assign({},a,{className:(0,s.default)("private-media__item private-media__item--right",t)}))}l.displayName="UIMediaRight";l.propTypes={children:i.default.node};e.exports=t.default},,,,function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(115)),i=r(a(4)),o=r(a(5)),s=r(a(75)),l=r(a(77)),u=r(a(78)),d=r(a(7)),c=r(a(6)),f=r(a(864)),p=r(a(532)),v=r(a(1426)),g=r(a(1510)),m=a(982),h=a(1427),y=function(e){(0,u.default)(t,e);function t(e){var a;(0,i.default)(this,t);(a=(0,s.default)(this,(0,l.default)(t).call(this,e))).UNSAFE_componentWillReceiveProps=function(e){var t=a.props.loading,r=e.failed,n=e.loading,i=null!=e.resultIcon&&!r&&t&&!n;n!==t&&a.setState({isLoading:n,displayResult:i})};a.UNSAFE_componentWillUpdate=function(e,t){var r=e.duration,n=a.state.isLoading,i=t.isLoading;if(r&&(!n&&i)){clearTimeout(a.loadingTimeout);a.loadingTimeout=setTimeout(a.handleLoadingFinish,r)}};a.handleLoadingFinish=function(){var e=a.props,t=e.failed,r=null!=e.resultIcon&&!t;a.setState({isLoading:!1,displayResult:r});r||a.setDisplayResult()};a.setDisplayResult=function(){var e=a.props,t=e.onLoadingFinish,r=e.keepResultAfterFinish;a.setState({displayResult:r});t()};a.handleClick=function(e){var t=a.props,r=t.duration,n=t.onClick,i=t.preventClicksOnLoading,o=a.state,s=o.displayResult,l=o.isLoading;if(i&&(l||s))e.preventDefault();else{(0,m.callIfPossible)(n,e);e.defaultPrevented||!l&&r&&a.setState({isLoading:!0})}};var r=e.loading;a.state={displayResult:!1,isLoading:r||!1};return a}(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.duration,t=this.state.isLoading;e&&t&&(this.loadingTimeout=setTimeout(this.handleLoadingFinish,e))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.loadingTimeout)}},{key:"render",value:function(){var e=this.props,t=e.children,a=e.className,r=e.disabled,i=(e.duration,e.failed),o=(e.loading,e.onClick,e.onLoadingFinish,e.preventClicksOnLoading,e.keepResultAfterFinish,e.resultIcon),s=e.size,l=e.spinnerProps,u=e.truncateTooltip,d=e.use,p=(0,n.default)(e,["children","className","disabled","duration","failed","loading","onClick","onLoadingFinish","preventClicksOnLoading","keepResultAfterFinish","resultIcon","size","spinnerProps","truncateTooltip","use"]),m=this.state,y=m.isLoading,b=m.displayResult,_=r&&!y&&!b;return c.default.createElement(v.default,Object.assign({},p,{size:s,use:d,"data-loading":y,disabled:_,className:(0,f.default)("private-loading-button",a,h.USE_CLASSES[d],(y||b)&&"loading private-loading-button--loading"),onClick:this.handleClick,truncateTooltip:u||t}),c.default.createElement("span",{className:"private-loading-button__content private-button--internal-spacing"},t),c.default.createElement(g.default,Object.assign({},l,{className:"private-loading-button__spinner","data-loading":null,failed:i,use:d,size:s,resultIcon:o,showResult:b,onResultDisplayFinish:this.setDisplayResult,hidden:!(y||b)})))}}]);return t}(c.default.Component);t.default=y;y.propTypes=Object.assign({},v.default.propTypes,{failed:g.default.propTypes.failed,size:g.default.propTypes.size,use:g.default.propTypes.use,duration:d.default.number,loading:d.default.bool,resultIcon:g.default.propTypes.resultIcon,onLoadingFinish:d.default.func,spinnerProps:d.default.object,preventClicksOnLoading:d.default.bool,keepResultAfterFinish:d.default.bool});y.defaultProps=Object.assign({},v.default.defaultProps,{failed:g.default.defaultProps.failed,onLoadingFinish:p.default,preventClicksOnLoading:!0,keepResultAfterFinish:!1,resultIcon:g.default.defaultProps.resultIcon,size:"medium",use:"secondary"});y.displayName="UILoadingButton";e.exports=t.default},,,function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.shouldRequireConsentToCommunicate=void 0;var r=a(188),n=a(1513),i=a(190),o=(0,r.createSelector)([i.getLatestWidgetData],function(e){return(0,n.gdprConsentToCommunicateEnabled)(e)});t.shouldRequireConsentToCommunicate=o},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.gdprConsentToCommunicateEnabled=void 0;var n=r(a(162)),i=a(280),o=a(195),s=(0,n.default)(i.getMessage,o.getGdprConsentToCommunicateEnabled);t.gdprConsentToCommunicateEnabled=s},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getConsentToCommunicateMessage=void 0;var r=a(188),n=a(280),i=a(190),o=(0,r.createSelector)(i.getLatestWidgetData,function(e){return(0,n.getConsentToCommunicateMessage)(e)});t.getConsentToCommunicateMessage=o},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getCompanyName=void 0;var n=a(188),i=r(a(144)),o=a(190),s=(0,n.createSelector)(o.getLatestWidgetData,(0,i.default)("companyName"));t.getCompanyName=s},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(1517)),i=a(13),o={onRepublish:a(1047).republishMessage},s=(0,i.connect)(null,o)(n.default);t.default=s;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(78)),d=a(1400),c=n(a(1401)),f=n(a(1518)),p=n(a(881)),v=a(327),g=a(60),m=n(a(7)),h=r(a(6)),y=n(a(1470)),b=n(a(1417)),_=n(a(1431)),E=function(e){(0,u.default)(t,e);function t(){(0,i.default)(this,t);return(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.fileAttachments,a=e.message,r=e.onRepublish,n=e.positionDescriptors,i=(0,v.getMessage)(a);return h.default.createElement(b.default,{positionDescriptors:n,use:d.VISITOR},h.default.createElement(y.default,{fileAttachments:t,isLastMessage:!0,message:i}),h.default.createElement(_.default,null,h.default.createElement(f.default,{message:i,onRepublish:r})))}}]);return t}(h.PureComponent);E.displayName="FailedToPublishMessage";E.propTypes={fileAttachments:m.default.instanceOf(g.List),message:(0,p.default)("FailedToPublish").isRequired,onRepublish:m.default.func.isRequired,positionDescriptors:c.default.isRequired};var T=E;t.default=T;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(7)),i=r(a(6)),o=r(a(1469)),s=r(a(1177)),l=r(a(1479)),u=r(a(997)),d=function(e){var t=e.message,a=e.onRepublish;return i.default.createElement(s.default,{use:"error"},i.default.createElement(u.default,{name:"warning",className:"m-right-1"}),i.default.createElement(l.default,{use:"danger",onClick:function(){return a(t)}},i.default.createElement(o.default,{message:"conversations-message-history.status.publishing.PUBLISH_FAILED"})))};d.displayName="FailedToPublishMessageText";d.propTypes={message:n.default.object.isRequired,onRepublish:n.default.func.isRequired};var c=d;t.default=c;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(1520)),i=a(13),o=a(596),s=a(913),l=a(585),u=a(1361),d=a(1533),c=a(468),f=function(e){var t=(0,c.getSelectedThread)(e);return{chatHeadingConfig:(0,s.getChatHeadingConfig)(e),sendFromResponders:(0,l.getSendFromResponders)(e),hasUnansweredQuickReplyMessage:(0,d.hasUnansweredQuickReplyMessage)(e,{thread:t}),isThreadStarted:(0,o.isStarted)(t)}},p={publishMessage:u.publishVisitorMessage},v=(0,i.connect)(f,p)(n.default);t.default=v;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(78)),d=n(a(7)),c=r(a(6)),f=a(60),p=n(a(245)),v=n(a(948)),g=n(a(1404)),m=a(1400),h=n(a(238)),y=n(a(1458)),b=n(a(1401)),_=a(1405),E=a(1396),T=a(1403),C=n(a(881)),S=a(157),M=a(163),I=a(172),x=a(167),A=a(1521),P=a(412),O=n(a(1417)),R=n(a(1423)),k=n(a(1424)),N=n(a(1432)),L=n(a(1431)),w=n(a(1522)),D=n(a(1526)),F=a(1527),B=n(a(1528)),U=n(a(1529)),j=function(e){(0,u.default)(t,e);function t(e){var a;(0,i.default)(this,t);(a=(0,s.default)(this,(0,l.default)(t).call(this,e))).handleQuickReplySend=function(){var e=a.props,t=e.message,r=e.publishMessage,n=a.state.selectedQuickReply;r({text:(0,A.getOptionLabel)(n),quickReply:(0,P.getQuickReply)(t).set("quickReplies",[n])})};a.handleQuickReplySelect=function(e){var t=e.target.value,r=a.props.message,n=(0,P.getQuickReplyReplies)(r).filter(function(e){return(0,A.getOptionValue)(e)===t}).first();a.setState({selectedQuickReply:n})};a.showQuickReplySelection=function(){var e=a.props.message,t=(0,P.getQuickReplyReplies)(e),r=(0,P.getQuickReplyAllowMultiSelect)(e);return a.showQuickReplies()&&t.count()>F.MAX_QUICK_REPLY_BUTTONS&&!r};a.renderQuickReplySelect=function(){var e=a.props,t=e.message,r=e.isThreadStarted,n=e.requiresExplicitConsentToProcess,i=a.state.selectedQuickReply,o=(0,P.getQuickReplyReplies)(t);return c.default.createElement("div",{className:"m-y-2"},c.default.createElement(B.default,{quickReplyOptions:o,disabled:n||!r,onChange:a.handleQuickReplySelect,value:(0,A.getOptionValue)(i),placeholder:p.default.text("conversations-visitor-message-history.quickReply.selectionPlaceholder")}))};a.renderQuickReplySendButton=function(){var e=a.props.isThreadStarted,t=a.state.selectedQuickReply;return c.default.createElement(L.default,null,c.default.createElement(D.default,{disabled:!e||!(0,A.getOptionValue)(t),onClick:a.handleQuickReplySend},c.default.createElement(v.default,{message:"conversations-visitor-message-history.quickReply.selectionComplete"})))};a.state={selectedQuickReply:(0,f.Map)()};return a}(0,o.default)(t,[{key:"hasQuickReplyOptions",value:function(){var e=this.props.message,t=(0,S.getSenderType)(e);return(0,P.getQuickReply)(e)&&t===I.BOT}},{key:"showQuickReplies",value:function(){var e=this.props,t=e.hasUnansweredQuickReplyMessage,a=e.positionDescriptors,r=t&&a.get(T.LAST);return this.hasQuickReplyOptions()&&r}},{key:"renderAvatar",value:function(){var e=this.props,t=e.chatHeadingConfig,a=e.message,r=e.senders,n=e.sendFromResponders,i=(0,S.getSenderId)(a),o=(0,S.getSenderType)(a),s=(0,_.findSender)(i,o,r),l=(0,E.getData)(s);return c.default.createElement(U.default,{chatHeadingConfig:t,sender:l,sendFromResponders:n})}},{key:"renderQuickReplyGroup",value:function(){var e=this.props,t=e.isThreadStarted,a=e.message,r=e.publishMessage,n=e.requiresExplicitConsentToProcess,i=(0,P.getQuickReplyReplies)(a),o=(0,P.getQuickReplyAllowMultiSelect)(a);return c.default.createElement(L.default,null,c.default.createElement(w.default,{disabled:n||!t,options:i,message:a,multiSelect:o,publishMessage:r,onSend:this.handleQuickReplySend}))}},{key:"renderContentSection",value:function(){var e,t,a=this.props.message;if(Boolean((0,x.getType)(a))){e=(0,S.getPlainText)(a);t=(0,S.getRichText)(a)}else{e=(0,M.getText)(a);t=(0,M.getRichText)(a)}var r=h.default.link(t,{stripPrefix:!1});return c.default.createElement(k.default,null,c.default.createElement(y.default,{"aria-label":p.default.text("conversations-visitor-message-history.agentMessage"),contentText:r||e}),this.showQuickReplySelection()&&this.renderQuickReplySelect())}},{key:"renderMessageFooter",value:function(){var e=this.props.message,t=(0,P.getQuickReplyReplies)(e),a=(0,P.getQuickReplyAllowMultiSelect)(e);return this.showQuickReplySelection()?this.renderQuickReplySendButton():this.showQuickReplies()&&(t.count()<=F.MAX_QUICK_REPLY_BUTTONS||a)?this.renderQuickReplyGroup():null}},{key:"render",value:function(){var e=this.props.positionDescriptors,t=e.get(T.FIRST);return c.default.createElement(O.default,{positionDescriptors:e,use:m.AGENT},t&&c.default.createElement(N.default,null,this.renderAvatar()),c.default.createElement(R.default,null,this.renderContentSection()),this.renderMessageFooter())}}]);return t}(c.PureComponent);j.displayName="InitialMessage";j.propTypes={chatHeadingConfig:d.default.oneOfType([(0,C.default)("CompanyChatHeadingConfig"),(0,C.default)("OwnerChatHeadingConfig"),(0,C.default)("UsersAndTeamsChatHeadingConfig")]),hasUnansweredQuickReplyMessage:d.default.bool,isThreadStarted:d.default.bool.isRequired,message:d.default.oneOfType([(0,C.default)("PubNubMessageRecord"),(0,C.default)("InitialMessage")]).isRequired,positionDescriptors:b.default.isRequired,publishMessage:d.default.func,requiresExplicitConsentToProcess:d.default.bool.isRequired,sendFromResponders:d.default.instanceOf(f.List).isRequired,senders:g.default.isRequired};var H=j;t.default=H;e.exports=t.default},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getOptionLabel=n;t.getOptionValue=i;function r(e){return"string"==typeof e}function n(e){return r(e)?e:e.has("label")?e.get("label"):e.get("value")}function i(e){return r(e)?e:e.get("value")}},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(18)),i=r(a(4)),o=r(a(5)),s=r(a(75)),l=r(a(77)),u=r(a(76)),d=r(a(78)),c=r(a(881)),f=a(412),p=a(1521),v=a(60),g=r(a(7)),m=r(a(6)),h=r(a(997)),y=r(a(1495)),b=r(a(1413)),_=a(1412),E=a(1523),T=r(a(1524)),C=r(a(1526)),S=function(e){(0,d.default)(t,e);function t(e){var a;(0,i.default)(this,t);(a=(0,s.default)(this,(0,l.default)(t).call(this,e))).handleSendMulti=a.handleSendMulti.bind((0,u.default)(a));a.handleQuickReplySend=a.handleQuickReplySend.bind((0,u.default)(a));a.handleSendIndividual=a.handleSendIndividual.bind((0,u.default)(a));a.handleSelect=a.handleSelect.bind((0,u.default)(a));a.state={selected:(0,v.Set)()};return a}(0,o.default)(t,[{key:"hasSelected",value:function(){return this.state.selected.size>0}},{key:"handleSelect",value:function(e){this.setState(function(t){var a=t.selected;return{selected:a.includes(e)?a.delete(e):a.add(e)}})}},{key:"handleSendMulti",value:function(){var e=this.props.multiSelect,t=this.state.selected;if(e&&this.hasSelected()){var a=t.map(p.getOptionLabel).join(", ");this.handleQuickReplySend(a,t)}}},{key:"handleSendIndividual",value:function(e){if(!this.props.multiSelect){var t=(0,v.List)([e]),a=(0,p.getOptionLabel)(e);this.handleQuickReplySend(a,t)}}},{key:"handleQuickReplySend",value:function(e,t){var a=this.props,r=a.message;(0,a.publishMessage)({text:e,quickReply:(0,f.getQuickReply)(r).set("quickReplies",t.toJS())})}},{key:"renderOptions",value:function(){var e=this.props,t=e.options,a=e.multiSelect,r=e.disabled,n=this.state.selected,i=this.context,o=a?this.handleSelect:this.handleSendIndividual;return t.map(function(e){var t=function(){return o(e)},s=n.includes(e),l=(0,p.getOptionValue)(e),u=(0,p.getOptionLabel)(e);if(!l||!u)return null;var d=a&&m.default.createElement(y.default,{className:"m-right-2",style:{minHeight:10},size:"small",color:(0,E.getBorderColor)((0,_.getQuickReplyTheme)(i)),checked:s,onChange:t});return m.default.createElement(T.default,{key:"quickreply."+l,onClick:t,theme:(0,_.getQuickReplyTheme)(i),disabled:r},d,u)})}},{key:"renderSendButton",value:function(){var e=this.props,t=e.disabled;if(!e.multiSelect)return null;var a=!this.hasSelected()||t;return m.default.createElement(C.default,{disabled:a,onClick:this.handleSendMulti,key:"send-button"},m.default.createElement(h.default,{name:"success"}))}},{key:"render",value:function(){return m.default.createElement("div",{className:"align-center flex-wrap m-y-2"},[].concat((0,n.default)(this.renderOptions()),[this.renderSendButton()]))}}]);return t}(m.default.Component);S.contextType=b.default;S.defaultProps={multiSelect:!1,hasSentReply:!1};S.displayName="QuickReplyGroup";S.propTypes={disabled:g.default.bool.isRequired,message:g.default.oneOfType([(0,c.default)("CommonMessage"),(0,c.default)("PubNubMessageRecord"),(0,c.default)("InitialMessage")]).isRequired,multiSelect:g.default.bool.isRequired,options:g.default.instanceOf(v.Set).isRequired,publishMessage:g.default.func};var M=S;t.default=M;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getColor=t.getBorderColor=t.getLineHeight=t.getWhiteSpace=t.getWidth=t.getMinHeight=void 0;var n=r(a(144)),i=(0,n.default)("minHeight");t.getMinHeight=i;var o=(0,n.default)("width");t.getWidth=o;var s=(0,n.default)("whiteSpace");t.getWhiteSpace=s;var l=(0,n.default)("lineHeight");t.getLineHeight=l;var u=(0,n.default)("borderColor");t.getBorderColor=u;var d=(0,n.default)("color");t.getColor=d},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(4)),i=r(a(5)),o=r(a(75)),s=r(a(77)),l=r(a(76)),u=r(a(78)),d=r(a(7)),c=r(a(6)),f=r(a(1426)),p=a(1491),v=r(a(881)),g=a(1525),m="secondary",h="primary";function y(e,t,a){var r=(0,p.getRGB)(t),n=r.r,i=r.g,o=r.b;return e===m?a?"rgba("+n+","+i+","+o+", 0.15)":"rgba(0,0,0,0)":a?"rgba("+n+","+i+","+o+", 0.85)":"rgba("+n+","+i+","+o+", 1)"}function b(e,t,a){var r=(0,g.getBorderColor)(t);return{width:(0,g.getWidth)(t),minHeight:(0,g.getMinHeight)(t),borderColor:r,whiteSpace:(0,g.getWhiteSpace)(t),lineHeight:(0,g.getLineHeight)(t),backgroundColor:y(e,r,a),color:e===h?(0,g.getColor)(t):r}}var _=function(e){(0,u.default)(t,e);function t(e){var a;(0,n.default)(this,t);(a=(0,o.default)(this,(0,s.default)(t).call(this,e))).state={hovered:!1};a.handleMouseEnter=a.handleMouseEnter.bind((0,l.default)(a));a.handleMouseLeave=a.handleMouseLeave.bind((0,l.default)(a));return a}(0,i.default)(t,[{key:"handleMouseEnter",value:function(){this.setState({hovered:!0})}},{key:"handleMouseLeave",value:function(){this.setState({hovered:!1})}},{key:"render",value:function(){var e=this.props,t=e.onClick,a=e.children,r=e.disabled,n=e.use,i=b(n,e.theme,this.state.hovered);return c.default.createElement(f.default,{className:"quick-reply display-inline-flex m-top-0 m-bottom-2 m-right-2",style:i,size:"small",use:n,onClick:t,disabled:r,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},a)}}]);return t}(c.default.Component);_.displayName="QuickReply";_.defaultProps={use:m,disabled:!1};_.propTypes={children:d.default.node.isRequired,disabled:d.default.bool.isRequired,onClick:d.default.func.isRequired,theme:(0,v.default)("QuickReplyTheme"),use:d.default.string.isRequired};var E=_;t.default=E;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getColor=t.getBorderColor=t.getLineHeight=t.getWhiteSpace=t.getWidth=t.getMinHeight=void 0;var n=r(a(144)),i=(0,n.default)("minHeight");t.getMinHeight=i;var o=(0,n.default)("width");t.getWidth=o;var s=(0,n.default)("whiteSpace");t.getWhiteSpace=s;var l=(0,n.default)("lineHeight");t.getLineHeight=l;var u=(0,n.default)("borderColor");t.getBorderColor=u;var d=(0,n.default)("color");t.getColor=d},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(4)),i=r(a(5)),o=r(a(75)),s=r(a(77)),l=r(a(78)),u=r(a(7)),d=r(a(6)),c=r(a(1524)),f=a(1489),p=r(a(1413)),v=function(e){(0,l.default)(t,e);function t(){(0,n.default)(this,t);return(0,o.default)(this,(0,s.default)(t).apply(this,arguments))}(0,i.default)(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.disabled,r=e.onClick,n=this.context;return d.default.createElement(c.default,{key:"send-button",use:"primary",theme:(0,f.getQuickReplyTheme)(n),disabled:a,onClick:r},t)}}]);return t}(d.default.Component);v.contextType=p.default;v.defaultProps={multiSelect:!1,hasSentReply:!1};v.displayName="QuickReplySendButton";v.propTypes={children:u.default.node.isRequired,disabled:u.default.bool.isRequired,onClick:u.default.func.isRequired};var g=v;t.default=g;e.exports=t.default},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.MAX_QUICK_REPLY_BUTTONS=void 0;var r=7;t.MAX_QUICK_REPLY_BUTTONS=r},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(78)),d=n(a(7)),c=r(a(6)),f=a(60),p=n(a(862)),v=a(244),g=a(1521),m="__PLACEHOLDER_VALUE__",h=p.default.select.withConfig({displayName:"QuickReplySelect__StyledSelect",componentId:"sc-1yvrxr4-0"})(["appearance:none;background:none;border-radius:3px;border:1px solid transparent;color:inherit;cursor:inherit;font-size:16px;margin:0;outline:none;padding:8px 32px 10px 10px;width:100%;height:40px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"]),y=p.default.div.withConfig({displayName:"QuickReplySelect__SelectContainer",componentId:"sc-1yvrxr4-1"})(["background-color:",";border-radius:3px;border:1px solid ",";color:",";cursor:pointer;display:block;font-size:16px;height:40px;line-height:22px;padding:0;position:relative;text-align:left;transition:all 0.15s ease-out;width:100%;&::after{border-color:transparent;border-style:solid;border-width:0.375em;display:inline-block;vertical-align:middle;border-top-color:",";margin-top:0.375em;margin-top:-3px;content:' ';position:absolute;top:50%;right:1em;z-index:2;pointer-events:none;}"],v.GYPSUM,v.BATTLESHIP,v.OBSIDIAN,v.CALYPSO),b=function(e){(0,u.default)(t,e);function t(){var e,a;(0,i.default)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];(a=(0,s.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(n)))).renderQuickReplySelectOptions=function(){return a.props.quickReplyOptions.map(function(e){var t=(0,g.getOptionValue)(e),a=(0,g.getOptionLabel)(e);return c.default.createElement("option",{value:t,key:t},a)})};return a}(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.value,a=e.disabled,r=e.onChange,n=e.placeholder;return c.default.createElement(y,null,c.default.createElement(h,{disabled:a,defaultValue:m,value:t,onChange:r},n&&c.default.createElement("option",{disabled:!0,value:m},n),this.renderQuickReplySelectOptions()))}}]);return t}(c.Component);b.displayName="QuickReplySelect";b.propTypes={disabled:d.default.bool,onChange:d.default.func.isRequired,placeholder:d.default.string,quickReplyOptions:d.default.instanceOf(f.OrderedSet).isRequired,value:d.default.string};var _=b;t.default=_;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(78)),d=n(a(1387)),c=n(a(881)),f=a(946),p=a(1039),v=a(186),g=a(60),m=n(a(7)),h=r(a(6)),y=n(a(862)),b=n(a(381)),_=n(a(1422)),E=a(1530),T=a(1532),C=y.default.div.withConfig({displayName:"InitialMessageAvatar__MultiAvatarWrapper",componentId:"rz0rxa-0"})(["width:100%;height:100%;display:flex;justify-content:center;flex-wrap:wrap;margin-right:4px;margin-left:-4px;& > *{flex:1;line-height:1;position:relative;& > *{position:absolute;left:0;bottom:-8px;}div{background-color:white;}}"]),S=function(e){(0,u.default)(t,e);function t(){(0,i.default)(this,t);return(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}(0,o.default)(t,[{key:"getSenderAvatars",value:function(){var e=this.props,t=e.chatHeadingConfig,a=e.sender,r=e.sendFromResponders;if((0,v.isFromBot)(a))return(0,g.List)([a]);if(r.size)return(0,b.default)(T.getResponderAsSender,r);var n=(0,f.getAnyCompanyLogo)(t);return n?(0,g.List)([(0,E.getCompanyAsSender)({companyLogo:n,customChatName:(0,p.getAnyCustomChatName)(t)})]):(0,g.List)()}},{key:"renderAvatars",value:function(){var e=this.getSenderAvatars();if(!e.size)return h.default.createElement(d.default,null);if(1===e.size){var t=e.get(0);return h.default.createElement(d.default,{sender:t})}var a=2===e.size;return h.default.createElement(C,null,e.map(function(e,t){return h.default.createElement(d.default,{key:t,sender:e,size:a?"xs":"xxs"})}))}},{key:"render",value:function(){return h.default.createElement(_.default,null,this.renderAvatars())}}]);return t}(h.PureComponent);S.displayName="InitialMessageAvatar";S.propTypes={chatHeadingConfig:m.default.oneOfType([(0,c.default)("CompanyChatHeadingConfig"),(0,c.default)("OwnerChatHeadingConfig"),(0,c.default)("UsersAndTeamsChatHeadingConfig")]),sendFromResponders:m.default.instanceOf(g.List).isRequired,sender:(0,c.default)("Sender")};var M=S;t.default=M;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getCompanyAsSender=void 0;var n=r(a(1531)),i=a(172),o=(0,r(a(133)).default)(function(e){var t=e.companyLogo,a=e.customChatName;return new n.default({avatar:t,firstName:a,senderType:i.AGENT})});t.getCompanyAsSender=o},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=(0,a(60).Record)({avatar:null,email:null,firstName:null,id:null,lastName:null,senderType:null},"Sender");t.default=r;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getResponderAsSender=void 0;var n=a(570),i=r(a(1531)),o=a(461),s=(0,r(a(133)).default)(function(e,t,a){var r=(0,n.agentTypeToSenderType)((0,o.getAgentType)(e)||a);return new i.default({id:(0,o.getUserId)(e)||t,avatar:(0,o.getAvatar)(e),firstName:(0,o.getFirstName)(e),email:(0,o.getEmail)(e),lastName:(0,o.getLastName)(e),senderType:r})});t.getResponderAsSender=s},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.hasUnansweredQuickReplyMessage=void 0;var r=a(188),n=a(412),i=a(136),o=a(300),s=a(392),l=a(270),u=(0,r.createSelector)(o.historyDataForThread,function(e){if(!e||!(0,s.hasMessages)(e))return!1;var t=(0,l.getMessages)(e).filter(function(e){return(0,i.isChatMessage)(e)||(0,i.isInitialMessage)(e)}).last();return Boolean((0,n.getQuickReply)(t))});t.hasUnansweredQuickReplyMessage=u},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=a(596),i=r(a(1535)),o=a(13),s=a(1361),l=a(1533),u=a(468),d=a(754),c=a(786),f=function(e){var t=(0,u.getSelectedThread)(e);return{hasUnansweredQuickReplyMessage:(0,l.hasUnansweredQuickReplyMessage)(e,{thread:t}),isThreadStarted:(0,n.isStarted)(t),mobile:(0,c.getIsMobile)(e)}},p={publishMessage:s.publishVisitorMessage,toggleOpen:d.toggleOpen},v=(0,o.connect)(f,p)(i.default);t.default=v;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(78)),d=n(a(7)),c=r(a(6)),f=a(60),p=n(a(1177)),v=n(a(245)),g=n(a(948)),m=n(a(1387)),h=a(1403),y=a(1400),b=n(a(1401)),_=n(a(1404)),E=a(1405),T=a(1396),C=a(1408),S=n(a(1531)),M=n(a(1435)),I=a(1440),x=n(a(881)),A=a(157),P=a(1521),O=a(172),R=a(412),k=n(a(1417)),N=n(a(1422)),L=n(a(1431)),w=n(a(1432)),D=n(a(1433)),F=n(a(1522)),B=a(1536),U=n(a(1526)),j=a(1527),H=n(a(1528)),q=n(a(1470)),W=function(e){(0,u.default)(t,e);function t(e){var a;(0,i.default)(this,t);(a=(0,s.default)(this,(0,l.default)(t).call(this,e))).handleQuickReplySend=function(){var e=a.props,t=e.message,r=e.publishMessage,n=a.state.selectedQuickReply;r({text:(0,P.getOptionLabel)(n),quickReply:(0,R.getQuickReply)(t).set("quickReplies",[n])})};a.handleQuickReplySelect=function(e){var t=e.target.value,r=a.props.message,n=(0,R.getQuickReplyReplies)(r).filter(function(e){return(0,P.getOptionValue)(e)===t}).first();a.setState({selectedQuickReply:n})};a.showQuickReplies=function(){var e=a.props,t=e.hasUnansweredQuickReplyMessage,r=e.message,n=e.positionDescriptors,i=t&&n.get(h.LAST);return(0,B.getHasQuickReplyOptions)(r)&&i};a.showQuickReplySelection=function(){var e=a.props.message,t=(0,R.getQuickReplyReplies)(e),r=(0,R.getQuickReplyAllowMultiSelect)(e);return a.showQuickReplies()&&t.count()>j.MAX_QUICK_REPLY_BUTTONS&&!r};a.renderQuickReplyGroup=function(){var e=a.props,t=e.isThreadStarted,r=e.message,n=e.publishMessage,i=e.requiresExplicitConsentToProcess,o=(0,R.getQuickReplyReplies)(r),s=(0,R.getQuickReplyAllowMultiSelect)(r);return c.default.createElement(L.default,null,c.default.createElement(F.default,{options:o,disabled:i||!t,message:r,multiSelect:s,publishMessage:n,onChange:a.handleQuickReplyUpdate}))};a.renderQuickReplySendButton=function(){var e=a.props.isThreadStarted,t=a.state.selectedQuickReply;return c.default.createElement(L.default,null,c.default.createElement(U.default,{disabled:!e||!(0,P.getOptionValue)(t),onClick:a.handleQuickReplySend},c.default.createElement(g.default,{message:"conversations-visitor-message-history.quickReply.selectionComplete"})))};a.renderQuickReplySelect=function(){var e=a.props,t=e.message,r=e.isThreadStarted,n=e.requiresExplicitConsentToProcess,i=a.state.selectedQuickReply,o=(0,R.getQuickReplyReplies)(t);return c.default.createElement("div",{className:"m-bottom-3 m-x-3"},c.default.createElement(H.default,{quickReplyOptions:o,disabled:n||!r,onChange:a.handleQuickReplySelect,value:(0,P.getOptionValue)(i),placeholder:v.default.text("conversations-visitor-message-history.quickReply.selectionPlaceholder")}))};a.state={selectedQuickReply:(0,f.Map)()};return a}(0,o.default)(t,[{key:"isSentFromVisitor",value:function(){return(0,A.getSenderType)(this.props.message)===O.VISITOR}},{key:"renderMessageHeader",value:function(){var e=this.props,t=e.message,a=e.positionDescriptors,r=e.senders;if(!a.includes(h.FIRST_IN_GROUP)||this.isSentFromVisitor())return null;var n=(0,A.getSenderId)(t),i=(0,A.getSenderType)(t),o=(0,E.findSender)(n,i,r),s=(0,T.getData)(o);s||(s=(0,S.default)({senderType:i,firstName:(0,A.getFromName)(t),email:(0,A.getFromAddress)(t)||null}));var l=(0,C.isSenderLoading)(o);return c.default.createElement(w.default,null,c.default.createElement(N.default,null,c.default.createElement(m.default,{sender:s,isLoading:l})),c.default.createElement(D.default,null,c.default.createElement(M.default,{isSenderLoading:l,sender:s})))}},{key:"renderTimeStamp",value:function(){var e=this.props,t=e.message,a=e.positionDescriptors.includes(h.LAST_IN_GROUP),r=(0,A.getTimestamp)(t);return a&&r?c.default.createElement(L.default,null,c.default.createElement(p.default,{use:"help"},(0,I.getHistoryFormattedTimestamp)(r))):null}},{key:"renderMessageFooter",value:function(){var e=this.props.message,t=(0,R.getQuickReplyReplies)(e),a=(0,R.getQuickReplyAllowMultiSelect)(e);return this.showQuickReplies()&&this.showQuickReplySelection()?this.renderQuickReplySendButton():this.showQuickReplies()&&(t.count()<=j.MAX_QUICK_REPLY_BUTTONS||a)?this.renderQuickReplyGroup():this.renderTimeStamp()}},{key:"render",value:function(){var e=this.props,t=e.fileAttachments,a=e.message,r=e.positionDescriptors,n=e.toggleOpen,i=e.mobile,o=this.isSentFromVisitor()?y.VISITOR:y.AGENT;return c.default.createElement(k.default,{positionDescriptors:r,use:o},this.renderMessageHeader(),c.default.createElement(q.default,{fileAttachments:t,isLastMessage:r.includes(h.LAST),message:a,quickReplySelect:this.showQuickReplySelection()&&this.renderQuickReplySelect,mobile:i,toggleOpen:n}),this.renderMessageFooter())}}]);return t}(c.PureComponent);W.displayName="CommonMessage";W.propTypes={fileAttachments:d.default.instanceOf(f.List),hasUnansweredQuickReplyMessage:d.default.bool,isThreadStarted:d.default.bool.isRequired,message:d.default.oneOfType([(0,x.default)("PubNubMessageRecord"),(0,x.default)("CommonMessage")]).isRequired,mobile:d.default.bool,positionDescriptors:b.default.isRequired,publishMessage:d.default.func,requiresExplicitConsentToProcess:d.default.bool.isRequired,senders:_.default,toggleOpen:d.default.func};var z=W;t.default=z;e.exports=t.default},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getHasQuickReplyOptions=void 0;var r=a(172),n=a(157),i=a(412),o=function(e){var t=(0,n.getSenderType)(e);return(0,i.getQuickReply)(e)&&t===r.BOT};t.getHasQuickReplyOptions=o},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.withConsent=void 0;var r=a(13),n=a(1538),i=function(e){return{requiresExplicitConsentToProcess:(0,n.getShowGdprConsentToProcess)(e)}},o={},s=(0,r.connect)(i,o);t.withConsent=s},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getShowGdprConsentToProcess=void 0;var r=a(188),n=a(758),i=a(1299),o=a(190),s=a(1300),l=(0,r.createSelector)([o.getLatestWidgetData,s.getHasGivenConsentToProcess],function(e,t){return(0,n.gdprConsentToProcessEnabled)(e)&&!t&&(0,i.gdprExplicitConsentRequired)(e)});t.getShowGdprConsentToProcess=l},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getCurrentThreadHistoryData=void 0;var r=a(191),n=a(188),i=a(1540),o=a(1283),s=a(330),l=a(261),u=(0,n.createSelector)([o.getCurrentThreadId,i.getCurrentThreadHistoryEntry,s.getStagedThreadHistory],function(e,t,a){return e===l.STUBBED_THREAD_ID?a:(0,r.getData)(t)||null});t.getCurrentThreadHistoryData=u},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getCurrentThreadHistoryEntry=void 0;var r=a(310),n=a(188),i=a(322),o=a(1283),s=(0,n.createSelector)([i.getThreadHistories,o.getCurrentThreadId],function(e,t){return"number"!=typeof t?null:(0,r.getEntry)(t,e)||null});t.getCurrentThreadHistoryEntry=s},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getTypingMessages=void 0;var n=a(570),i=a(204),o=r(a(231)),s=a(461),l=a(188),u=a(1542),d=a(1283),c=a(60),f=(0,l.createSelector)([u.getTypingResponderFromCurrentThread,d.getCurrentThreadId],function(e,t){return e&&t?(0,c.List)([(0,i.buildUnpublishedMessage)({descriptor:{},metadata:(0,o.default)(),senderId:(0,s.getUserId)(e),senderType:(0,n.agentTypeToSenderType)((0,s.getAgentType)(e),!0),threadId:t})]):(0,c.List)()});t.getTypingMessages=f},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getTypingResponderFromCurrentThread=void 0;var r=a(188),n=a(468),i=a(1543),o=(0,r.createSelector)([function(e){return e},n.getSelectedThread],function(e,t){return(0,i.typingResponder)(e,{thread:t})});t.getTypingResponderFromCurrentThread=o},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.typingResponder=void 0;var n=a(188),i=r(a(1544)),o=r(a(144)),s=a(461),l=a(489),u=a(485),d=a(1545),c=(0,n.createSelector)([d.typingTimeoutsForThreadInProps,u.getAllAgentResponders,l.getWidgetBotResponder],function(e,t,a){var r=(0,s.getUserId)(a);return(0,o.default)(r,e)?a:t&&t.find(function(t){var a=(0,s.getUserId)(t);return(0,i.default)(a,e)})});t.typingResponder=c},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(138)),i=r(a(305)),o=(0,n.default)(i.default);t.default=o;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.typingTimeoutsForThreadInProps=void 0;var n=a(60),i=a(188),o=r(a(144)),s=a(319),l=a(323),u=a(619),d=(0,i.createSelector)([l.threadFromProps,u.typingStates],function(e,t){var a=(0,s.getThreadId)(e);return(0,o.default)(""+a,t)||(0,n.Map)()});t.typingTimeoutsForThreadInProps=d},,,,,,,,,function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.canPublish=void 0;var n=a(188),i=r(a(144)),o=a(331),s=a(491),l=a(411),u=a(542),d=a(330),c=(0,i.default)("subscriptions"),f=(0,n.createSelector)([d.getAsyncStagedThread,l.getAsyncPubSubClient,u.hasPersistedThreads,c],function(e,t,a,r){return!(0,o.isStarted)(e)&&(!(!(0,o.isUninitialized)(e)||a)||(!!(a&&(0,s.isClientReady)(t)&&(0,o.isSucceeded)(r))||!!((0,o.isSucceeded)(e)&&(0,s.isClientReady)(t)&&(0,o.isSucceeded)(r))))});t.canPublish=f},,,,,,,,,,function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getSuccessfulFileAttachments=void 0;var n=a(191),i=a(331),o=a(310),s=a(60),l=a(188),u=r(a(426)),d=a(430),c=(0,l.createSelector)([d.getResolvedAttachments],function(e){return e&&(0,o.getEntries)(e).size?(0,o.getEntries)(e).reduce(function(e,t,a){return t&&a&&(0,i.isSucceeded)(t)?(0,u.default)(String(a),(0,n.getData)(t),e):e},(0,s.Map)()):(0,s.Map)()});t.getSuccessfulFileAttachments=c},,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.shouldRequireExplicitCookieConsent=void 0;var n=a(188),i=r(a(144)),o=a(759),s=a(190),l=a(602),u=a(839),d=a(1586),c=a(1587),f=a(809),p=a(806),v=a(722),g=(0,n.createSelector)([s.getLatestWidgetData,l.getVisitorIdentity,f.getAPIEnableWidgetCookieBanner,c.getCookieBannerOnExitVisible],function(e,t,a,r){var n=(0,i.default)("gates",e),s=(0,i.default)(p.LIVE_CHAT_EXIT_INTENT_GDPR,n),l=(0,d.getGlobalCookieOptOut)(t),c="yes"===l||"no"===l,f=(0,o.gdprExplicitCookieConsentEnabled)(e)&&!s,g=(0,v.gdprCookieConsentOnWidgetLoadEnabled)(e)&&s;return!(!(a||f||g)&&!r)&&(0,u.getIsFirstVisitorSession)(t)&&!c});t.shouldRequireExplicitCookieConsent=g},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getGlobalCookieOptOut=void 0;var n=(0,r(a(144)).default)("globalCookieOptOut");t.getGlobalCookieOptOut=n},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getCookieBannerOnExitVisible=void 0;var n=(0,r(a(144)).default)("cookieBannerOnExitVisible");t.getCookieBannerOnExitVisible=n},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getAllowUserInput=void 0;var r=a(188),n=a(300),i=a(136),o=a(270),s=a(412),l=a(392),u=(0,r.createSelector)([n.historyDataForThread],function(e){if(!e||!(0,l.hasMessages)(e))return!0;var t=(0,o.getMessages)(e).filter(function(e){return(0,i.isChatMessage)(e)||(0,i.isInitialMessage)(e)}).last();return(0,s.getQuickReplyAllowUserInput)(t)});t.getAllowUserInput=u},,,,,,function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(6)),i=r(a(862)),o=r(a(1624)),s=i.default.div.withConfig({displayName:"ThreadHistoryError__ThreadHistoryErrorWrapper",componentId:"sc-73lsqe-0"})(["text-align:center;flex-grow:1;"]),l=function(){return n.default.createElement(s,null,n.default.createElement(o.default,null))};l.displayName="ThreadHistoryError";var u=l;t.default=u;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(6)),i=r(a(948)),o=r(a(862)).default.div.withConfig({displayName:"ErrorState__ErrorWrapper",componentId:"sc-158c0d-0"})(["display:flex;justify-content:center;align-items:center;height:100%;flex-direction:column;"]),s=function(){return n.default.createElement(o,null,n.default.createElement("h5",null,n.default.createElement(i.default,{message:"conversations-visitor-ui.asyncError.body"})),n.default.createElement("div",{className:"m-top-3"},n.default.createElement(i.default,{message:"conversations-visitor-ui.asyncError.noRetry"})))};s.displayName="ErrorState";var l=s;t.default=l;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(76)),d=n(a(78)),c=n(a(1626)),f=a(1629),p=n(a(881)),v=a(271),g=a(392),m=n(a(7)),h=r(a(6)),y=n(a(862)),b=n(a(1015)),_=n(a(864)),E=a(261),T=n(a(1623)),C=(0,y.default)(b.default).withConfig({displayName:"ThreadHistoryFetcher__LoadingSpinnerWrapper",componentId:"sc-1wh6m0q-0"})(["height:0;margin-top:20px;"]),S=(0,y.default)((0,f.withScrollTo)(c.default)).withConfig({displayName:"ThreadHistoryFetcher__ScrollToWrapper",componentId:"sc-1wh6m0q-1"})(["flex:1 1;display:flex;flex-direction:column;padding-bottom:12px;align-self:stretch;overflow-y:scroll;overflow-x:hidden;"]),M=function(e){(0,d.default)(t,e);function t(e){var a;(0,i.default)(this,t);(a=(0,s.default)(this,(0,l.default)(t).call(this,e))).scrollWrapper=(0,h.createRef)();a.fetchHistory=a.fetchHistory.bind((0,u.default)(a));return a}(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this.scrollWrapper.current;e&&e.scrollToBottom();this.fetchHistory()}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.threadId,r=t.messageCount,n=t.shouldScrollToBottom,i=t.isOnFocus,o=e.threadId,s=e.messageCount,l=e.shouldScrollToBottom,u=e.isOnFocus,d=this.scrollWrapper.current;if(a===o)if(s){r!==s&&d&&d.scrollToBottomIfInThreshold();n!==l&&d&&d.scrollToBottomIfInThreshold();i!==u&&d&&d.scrollToBottomIfInThreshold()}else d&&d.scrollToBottom();else{this.fetchHistory();d&&d.scrollToBottom()}}},{key:"fetchHistory",value:function(){var e=this.props,t=e.fetchThreadHistory,a=e.threadId,r=e.threadHistory,n=e.sessionId;a!==E.STUBBED_THREAD_ID&&t({offsetOrdinal:(0,v.getOffsetOrdinal)(r),offsetTimestamp:(0,v.getOffsetTimestamp)(r),threadId:a,sessionId:n})}},{key:"render",value:function(){var e=this.props,t=e.children,a=e.isLoadingHistory,r=e.loadingHistoryFailed,n=e.threadId,i=e.threadHistory;if(a&&!(0,g.hasMessages)(i))return h.default.createElement(b.default,{grow:!0});if(r&&!(0,g.hasMessages)(i))return h.default.createElement(T.default,null);var o=(0,_.default)(this.props.className,"messages-scroll-container-utv");return h.default.createElement(S,{key:n,className:o,ref:this.scrollWrapper,onScrollToTop:this.fetchHistory},a&&h.default.createElement(C,{grow:!0}),t)}}]);return t}(h.PureComponent);M.propTypes={children:m.default.node.isRequired,className:m.default.string,fetchThreadHistory:m.default.func.isRequired,isLoadingHistory:m.default.bool,isOnFocus:m.default.bool.isRequired,loadingHistoryFailed:m.default.bool,messageCount:m.default.number.isRequired,sessionId:m.default.string.isRequired,shouldScrollToBottom:m.default.bool.isRequired,threadHistory:(0,p.default)("ThreadHistory"),threadId:m.default.number.isRequired};M.displayName="ThreadHistoryFetcher";var I=M;t.default=I;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=t.ON_SCROLL_THROTTLE=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(76)),d=n(a(78)),c=n(a(7)),f=r(a(6)),p=n(a(1627)),v=100;t.ON_SCROLL_THROTTLE=v;var g=function(e){(0,d.default)(t,e);function t(e){var a;(0,i.default)(this,t);(a=(0,s.default)(this,(0,l.default)(t).call(this,e))).state={inTop:!0,inBottom:!0,height:0};a.scrollContainer=f.default.createRef();a.onResize=(0,p.default)(v,a.onResize.bind((0,u.default)(a)));a.onScroll=(0,p.default)(v,a.onScroll.bind((0,u.default)(a)));return a}(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this.scrollContainer.current;e&&this.setState({height:e.clientHeight});window.addEventListener("resize",this.onResize,{passive:!0})}},{key:"getSnapshotBeforeUpdate",value:function(){var e=this.scrollContainer.current;return e?{prevScrollTop:e.scrollTop}:null}},{key:"componentDidUpdate",value:function(e,t,a){var r=this.scrollContainer.current;if(a&&r){var n=a.prevScrollTop;r.scrollTop===n&&t.height>this.state.height&&this.setScrollTop(r.scrollTop+(t.height-this.state.height))}}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResize)}},{key:"onScroll",value:function(){var e=this.props,t=e.onScrollToTop,a=e.onScrollToBottom,r=this.inThreshold(),n=r.inTop,i=r.inBottom;!this.state.inTop&&n&&t();!this.state.inBottom&&i&&a();this.setState({inTop:n,inBottom:i})}},{key:"inThreshold",value:function(){var e=this.props,t=e.topThreshold,a=e.bottomThreshold;return{inTop:this.getScrollDistanceFromTop()<=t,inBottom:this.getScrollDistanceFromBottom()<=a}}},{key:"getScrollDistanceFromTop",value:function(){var e=this.scrollContainer.current;return e?e.scrollTop:0}},{key:"getScrollDistanceFromBottom",value:function(){var e=this.scrollContainer.current;if(!e)return 0;var t=e.scrollTop,a=e.scrollHeight,r=e.clientHeight,n=e.offsetHeight;return a-(r||n)-t}},{key:"scrollToBottom",value:function(){var e=this.scrollContainer.current;e&&this.setScrollTop(e.scrollHeight)}},{key:"setScrollTop",value:function(e){var t=this.scrollContainer.current;t&&(t.scrollTop=e||0)}},{key:"onResize",value:function(){var e=this.scrollContainer.current;e&&this.setState({height:e.clientHeight||0})}},{key:"render",value:function(){var e=this.props,t=e.children,a=e.className;return f.default.createElement("div",{className:a,style:{flexGrow:1},ref:this.scrollContainer,onScroll:this.onScroll},t)}}]);return t}(f.PureComponent);g.displayName="ScrollWrapper";g.propTypes={bottomThreshold:c.default.number.isRequired,children:c.default.node,className:c.default.string,onScrollToBottom:c.default.func.isRequired,onScrollToTop:c.default.func.isRequired,topThreshold:c.default.number.isRequired};var m=function(){};g.defaultProps={bottomThreshold:300,onScrollToBottom:m,onScrollToTop:m,topThreshold:300};var h=g;t.default=h},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(18)),i=r(a(138)),o=r(a(134)),s=r(a(1628));function l(e,t){(0,s.default)(e);(0,o.default)(t);var a,r,i=0,l=null;function u(){if(null!==l){clearTimeout(l);l=null}}function d(){i=Date.now();r=t.apply(void 0,(0,n.default)(a))}function c(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];a=n;u();Date.now()-i>=e?d():l=setTimeout(d,e);return r}c.cancel=u;return c}var u=(0,i.default)(l);t.default=u;e.exports=t.default},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.default=r;function r(e){if("number"==typeof e&&e>=0)return e;throw new Error("expected `interval` to be a positive number but got `"+e+"`")}e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.withScrollTo=t.AUTO_SCROLL_THRESHOLD=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(76)),d=n(a(78)),c=r(a(6)),f=a(1630),p=a(1632),v=n(a(1626)),g=a(1633),m=300;t.AUTO_SCROLL_THRESHOLD=m;var h=function(e){(0,g.componentFunctionInvariant)(e,["getScrollDistanceFromTop","getScrollDistanceFromBottom","setScrollTop","scrollToBottom"]);var t=function(e){(0,d.default)(t,e);function t(e){var a;(0,i.default)(this,t);(a=(0,s.default)(this,(0,l.default)(t).call(this,e))).scrollWrapperRef=(0,c.createRef)();a.scrollToMessage=a.scrollToMessage.bind((0,u.default)(a));a.state={prevScrollDistanceToBottom:0};return a}(0,o.default)(t,[{key:"getSnapshotBeforeUpdate",value:function(){var e=this.scrollWrapperRef.current,t=(0,p.getLastDOMNodeMessageId)();if(!e||!t)return null;var a=(0,f.getDOMNodeByMessageId)(t);if(!a)return null;var r=e.getScrollDistanceFromTop(),n=e.getScrollDistanceFromBottom();return{lastMessageId:t,lastMessageOffsetTop:a.offsetTop,prevScrollTop:r,snapshotPrevScrollDistanceToBottom:n}}},{key:"componentDidUpdate",value:function(e,t,a){var r=this.scrollWrapperRef.current;if(a&&r){var n=a.lastMessageId,i=a.lastMessageOffsetTop,o=a.prevScrollTop,s=a.snapshotPrevScrollDistanceToBottom;if(r.getScrollDistanceFromTop()===o){var l=(0,f.getDOMNodeByMessageId)(n);if(l&&l.offsetTop){var u=l.offsetTop-i;u&&r.setScrollTop(r.getScrollDistanceFromTop()+u);s!==this.state.prevScrollDistanceToBottom&&this.setState({prevScrollDistanceToBottom:s})}}}}},{key:"scrollToMessage",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{alignment:"start"}).alignment,a=(0,f.getDOMNodeByMessageId)(e);e&&a&&a.scrollIntoView&&a.scrollIntoView("start"===t)}},{key:"scrollToBottom",value:function(){var e=this.scrollWrapperRef.current;e&&e.scrollToBottom()}},{key:"scrollToBottomIfInThreshold",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=this.scrollWrapperRef.current;t&&(t.getScrollDistanceFromBottom()<=e||this.state.prevScrollDistanceToBottom<=e)&&t.scrollToBottom()}},{key:"render",value:function(){return c.default.createElement(v.default,Object.assign({ref:this.scrollWrapperRef},this.props))}}]);return t}(c.Component);t.displayName="WithScrollTo";return t};t.withScrollTo=h},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getDOMNodeByMessageId=void 0;var r=a(1631),n=function(e){return document.querySelector("["+r.MESSAGE_ID_ATTR+'="'+e+'"]')};t.getDOMNodeByMessageId=n},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.MESSAGE_ID_ATTR=void 0;var r="data-cv-message-history-id";t.MESSAGE_ID_ATTR=r},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getLastDOMNodeMessageId=void 0;var r=a(1631),n=function(){var e=document.querySelector("["+r.MESSAGE_ID_ATTR+"]:last-child");return e&&e.getAttribute?e.getAttribute(r.MESSAGE_ID_ATTR):null};t.getLastDOMNodeMessageId=n},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.componentFunctionInvariant=void 0;var n=r(a(37)),i=function(e,t){var a=!0,r=!1,i=void 0;try{for(var o,s=t[Symbol.iterator]();!(a=(o=s.next()).done);a=!0){var l=o.value;(0,n.default)(!!e.prototype[l],"Component missing required function %s",l)}}catch(e){r=!0;i=e}finally{try{a||null==s.return||s.return()}finally{if(r)throw i}}};t.componentFunctionInvariant=i},,function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getResponderAsSender=void 0;var n=a(570),i=r(a(1531)),o=a(461),s=(0,a(188).defaultMemoize)(function(e,t,a){var r=(0,n.agentTypeToSenderType)((0,o.getAgentType)(e)||a);return new i.default({id:(0,o.getUserId)(e)||t,avatar:(0,o.getAvatar)(e),firstName:(0,o.getFirstName)(e),email:(0,o.getEmail)(e),lastName:(0,o.getLastName)(e),senderType:r})});t.getResponderAsSender=s},,function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getResponderKeyAsSenderLocator=void 0;var r=a(1406),n=a(487),i=function(e){return(0,r.buildSenderLocator)((0,n.getType)(e),(0,n.getId)(e))};t.getResponderKeyAsSenderLocator=i},,,,,,,function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.insertDatesIntoMessageList=void 0;var n=a(60),i=r(a(1645)),o=a(157),s=a(1677),l=r(a(1678)),u=a(1679),d=a(1681),c=(0,i.default)(l.default,function(e){return e.id}),f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e.reduce(function(r,n,i){var l=i>0?e.get(i-1):void 0;(0,u.shouldRenderDate)(n,l,a)&&(0,s.isValidMessageHistoryType)(n,t)&&(r=r.push(c({id:(0,d.getMessageId)(n)+"-date",timestamp:(0,o.getTimestamp)(n)})));return r.push(n)},(0,n.List)())};t.insertDatesIntoMessageList=f},function(e,t,a){var r=a(1646),n="Expected a function";function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(n);var a=function(){var r=arguments,n=t?t.apply(this,r):r[0],i=a.cache;if(i.has(n))return i.get(n);var o=e.apply(this,r);a.cache=i.set(n,o)||i;return o};a.cache=new(i.Cache||r);return a}i.Cache=r;e.exports=i},function(e,t,a){var r=a(1647),n=a(1671),i=a(1674),o=a(1675),s=a(1676);function l(e){var t=-1,a=null==e?0:e.length;this.clear();for(;++t<a;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r;l.prototype.delete=n;l.prototype.get=i;l.prototype.has=o;l.prototype.set=s;e.exports=l},function(e,t,a){var r=a(1648),n=a(1662),i=a(1670);function o(){this.size=0;this.__data__={hash:new r,map:new(i||n),string:new r}}e.exports=o},function(e,t,a){var r=a(1649),n=a(1658),i=a(1659),o=a(1660),s=a(1661);function l(e){var t=-1,a=null==e?0:e.length;this.clear();for(;++t<a;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r;l.prototype.delete=n;l.prototype.get=i;l.prototype.has=o;l.prototype.set=s;e.exports=l},function(e,t,a){var r=a(1650);function n(){this.__data__=r?r(null):{};this.size=0}e.exports=n},function(e,t,a){var r=a(1651)(Object,"create");e.exports=r},function(e,t,a){var r=a(1652),n=a(1657);function i(e,t){var a=n(e,t);return r(a)?a:void 0}e.exports=i},function(e,t,a){var r=a(1653),n=a(1654),i=a(519),o=a(1656),s=/[\\^$.*+?()[\]{}|]/g,l=/^\[object .+?Constructor\]$/,u=Function.prototype,d=Object.prototype,c=u.toString,f=d.hasOwnProperty,p=RegExp("^"+c.call(f).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function v(e){return!(!i(e)||n(e))&&(r(e)?p:l).test(o(e))}e.exports=v},function(e,t,a){var r=a(526),n=a(519),i="[object AsyncFunction]",o="[object Function]",s="[object GeneratorFunction]",l="[object Proxy]";function u(e){if(!n(e))return!1;var t=r(e);return t==o||t==s||t==i||t==l}e.exports=u},function(e,t,a){var r,n=a(1655),i=(r=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";function o(e){return!!i&&i in e}e.exports=o},function(e,t,a){var r=a(521)["__core-js_shared__"];e.exports=r},function(e,t){var a=Function.prototype.toString;function r(e){if(null!=e){try{return a.call(e)}catch(e){}try{return e+""}catch(e){}}return""}e.exports=r},function(e,t){function a(e,t){return null==e?void 0:e[t]}e.exports=a},function(e,t){function a(e){var t=this.has(e)&&delete this.__data__[e];this.size-=t?1:0;return t}e.exports=a},function(e,t,a){var r=a(1650),n="__lodash_hash_undefined__",i=Object.prototype.hasOwnProperty;function o(e){var t=this.__data__;if(r){var a=t[e];return a===n?void 0:a}return i.call(t,e)?t[e]:void 0}e.exports=o},function(e,t,a){var r=a(1650),n=Object.prototype.hasOwnProperty;function i(e){var t=this.__data__;return r?void 0!==t[e]:n.call(t,e)}e.exports=i},function(e,t,a){var r=a(1650),n="__lodash_hash_undefined__";function i(e,t){var a=this.__data__;this.size+=this.has(e)?0:1;a[e]=r&&void 0===t?n:t;return this}e.exports=i},function(e,t,a){var r=a(1663),n=a(1664),i=a(1667),o=a(1668),s=a(1669);function l(e){var t=-1,a=null==e?0:e.length;this.clear();for(;++t<a;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r;l.prototype.delete=n;l.prototype.get=i;l.prototype.has=o;l.prototype.set=s;e.exports=l},function(e,t){function a(){this.__data__=[];this.size=0}e.exports=a},function(e,t,a){var r=a(1665),n=Array.prototype.splice;function i(e){var t=this.__data__,a=r(t,e);if(a<0)return!1;a==t.length-1?t.pop():n.call(t,a,1);--this.size;return!0}e.exports=i},function(e,t,a){var r=a(1666);function n(e,t){for(var a=e.length;a--;)if(r(e[a][0],t))return a;return-1}e.exports=n},function(e,t){function a(e,t){return e===t||e!=e&&t!=t}e.exports=a},function(e,t,a){var r=a(1665);function n(e){var t=this.__data__,a=r(t,e);return a<0?void 0:t[a][1]}e.exports=n},function(e,t,a){var r=a(1665);function n(e){return r(this.__data__,e)>-1}e.exports=n},function(e,t,a){var r=a(1665);function n(e,t){var a=this.__data__,n=r(a,e);if(n<0){++this.size;a.push([e,t])}else a[n][1]=t;return this}e.exports=n},function(e,t,a){var r=a(1651)(a(521),"Map");e.exports=r},function(e,t,a){var r=a(1672);function n(e){var t=r(this,e).delete(e);this.size-=t?1:0;return t}e.exports=n},function(e,t,a){var r=a(1673);function n(e,t){var a=e.__data__;return r(t)?a["string"==typeof t?"string":"hash"]:a.map}e.exports=n},function(e,t){function a(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}e.exports=a},function(e,t,a){var r=a(1672);function n(e){return r(this,e).get(e)}e.exports=n},function(e,t,a){var r=a(1672);function n(e){return r(this,e).has(e)}e.exports=n},function(e,t,a){var r=a(1672);function n(e,t){var a=r(this,e),n=a.size;a.set(e,t);this.size+=a.size==n?0:1;return this}e.exports=n},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.isValidMessageHistoryType=void 0;var r=a(157),n=function(e,t){return Boolean(t[(0,r.getType)(e)])};t.isValidMessageHistoryType=n},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n,i=r(a(36)),o=a(60),s=a(1385),l=(0,o.Record)((n={},(0,i.default)(n,s.MESSAGE_TYPE_ID,s.DATE_MESSAGE),(0,i.default)(n,"timestamp",null),(0,i.default)(n,"id",null),n),"DateMessage");t.default=l;e.exports=t.default},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.shouldRenderDate=void 0;var r=a(157),n=a(1680),i=function(e,t,a){return!(!t&&!a)&&Boolean((0,r.getTimestamp)(e)&&(!t||(0,n.areDifferentDays)(t,e)))};t.shouldRenderDate=i},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.areDifferentDays=void 0;var n=r(a(245)),i=a(157),o=function(e,t){var a=n.default.moment((0,i.getTimestamp)(e)),r=n.default.moment((0,i.getTimestamp)(t));return!a.isSame(r,"day")};t.areDifferentDays=o},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getMessageId=void 0;var n=r(a(160)),i=function(e){return(0,n.default)(["id"],e)||(0,n.default)(["message","id"],e)||-1};t.getMessageId=i},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getMessagesList=void 0;var r=a(1644),n=a(188),i=a(1384),o=a(1377),s=!1,l=(0,n.createSelector)([o.getFilteredMessages],function(e){return(0,r.insertDatesIntoMessageList)(e,i.MessageHistoryConfig,s)});t.getMessagesList=l},,function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getSendersMap=void 0;var n=r(a(36)),i=r(a(59)),o=a(192),s=a(191),l=a(310),u=a(60),d=a(188),c=r(a(302)),f=a(488),p=a(1635),v=a(1637),g=(0,d.createSelector)([f.getResponders],function(e){return(0,l.getEntries)(e).reduce(function(e,t,a){var r,l=(0,s.getData)(t);return(0,c.default)([(0,v.getResponderKeyAsSenderLocator)(a)],(0,i.default)((r={},(0,n.default)(r,o.DATA,l?(0,p.getResponderAsSender)(l):null),(0,n.default)(r,o.STATUS,(0,s.getStatus)(t)),r)),e)},(0,u.Map)())});t.getSendersMap=g},,,function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(78)),d=n(a(7)),c=r(a(6)),f=n(a(862)),p=a(244),v=n(a(1688)),g=n(a(881)),m=n(a(1695)),h=n(a(948)),y=f.default.div.withConfig({displayName:"ProcessConsentPrompt__ConsentPromptWrapper",componentId:"sc-9lwhbi-0"})(["border-top:2px solid ",";"],p.CIRRUS),b=f.default.div.withConfig({displayName:"ProcessConsentPrompt__AlertWrapper",componentId:"sc-9lwhbi-1"})(["margin:10px;"]),_=function(e){(0,u.default)(t,e);function t(){(0,i.default)(this,t);return(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}(0,o.default)(t,[{key:"componentDidMount",value:function(){(0,this.props.trackInteraction)("widget-interaction",{action:"view consent to process"})}},{key:"render",value:function(){var e=this.props,t=e.coloring,a=e.consentToProcess,r=e.consentToProcessError,n=e.consentToProcessMessage,i=e.dismissConsentToProcessError,o=e.showGdprConsentToProcessButton;return c.default.createElement(y,null,r?c.default.createElement(b,null,c.default.createElement(m.default,{title:c.default.createElement(h.default,{message:"conversations-visitor-ui.network.offline.title"}),onClose:i})):c.default.createElement(v.default,{showButton:o,message:n,onClick:a,coloring:t}))}}]);return t}(c.Component);_.displayName="ProcessConsentPrompt";_.propTypes={coloring:(0,g.default)("ColoringRecord"),consentToProcess:d.default.func,consentToProcessError:d.default.bool,consentToProcessMessage:d.default.string,dismissConsentToProcessError:d.default.func,showGdprConsentToProcessButton:d.default.bool,trackInteraction:d.default.func};var E=_;t.default=E;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(7)),i=r(a(6)),o=r(a(862)),s=r(a(1689)),l=r(a(1177)),u=r(a(948)),d=a(244),c=a(234),f=a(1024),p=o.default.div.withConfig({displayName:"ConsentPrompt__Container",componentId:"sc-2fus6w-0"})(["border-top:2px solid ",";display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;padding:12px 24px;"],d.CIRRUS),v=(0,o.default)(l.default).withConfig({displayName:"ConsentPrompt__SmallNoParagraphPadding",componentId:"sc-2fus6w-1"})(["display:block;word-break:break-word;word-wrap:break-word;-ms-word-break:break-all;color:",";p{margin-bottom:0;}"],d.FLINT),g=(0,o.default)(s.default).withConfig({displayName:"ConsentPrompt__FullWidthButton",componentId:"sc-2fus6w-2"})(["flex:0 1 100%;"]),m=o.default.div.withConfig({displayName:"ConsentPrompt__FlexWrapper",componentId:"sc-2fus6w-3"})(["display:flex;flex-direction:row;width:100%;margin:12px 0 8px 0;"]),h=o.default.h6.withConfig({displayName:"ConsentPrompt__Header",componentId:"sc-2fus6w-4"})(["text-transform:none;"]),y=function(e){var t=e.headerMessage,a=e.message,r=e.onClick,n=e.showButton;return i.default.createElement(p,{"data-test-id":"gdpr-consent-prompt"},t&&i.default.createElement(h,null,i.default.createElement(u.default,{message:t})),i.default.createElement(v,{"data-test-id":"gdpr-consent-text",dangerouslySetInnerHTML:{__html:(0,c.formatHtml)(a)}}),i.default.createElement(m,null,n&&i.default.createElement(g,{onClick:r,"data-test-id":"gdpr-consent-agree-button"},i.default.createElement(f.ChatWidgetLocaleContextConsumer,null,function(e){return i.default.createElement(u.default,{message:"conversations-visitor-experience-components.buttons.agree",options:{locale:e}})}))))};y.propTypes={message:n.default.string.isRequired,onClick:n.default.func.isRequired,showButton:n.default.bool.isRequired};y.displayName="ConsentPrompt";var b=y;t.default=b;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a(34)),o=n(a(115)),s=r(a(6)),l=n(a(7)),u=n(a(862)),d=n(a(1690)),c=n(a(1015)),f=r(a(1694)),p=(0,u.default)(d.default).withConfig({displayName:"VizExLoadingButton__Button",componentId:"wttycv-0"})(["position:relative;"]),v=(0,u.default)(c.default).withConfig({displayName:"VizExLoadingButton__Spinner",componentId:"wttycv-1"})(["height:0;opacity:",";transition:opacity 0.2s;position:absolute;top:50%;right:0;"],function(e){return e.isSubmitting?1:0}),g=u.default.div.withConfig({displayName:"VizExLoadingButton__Children",componentId:"wttycv-2"})(["opacity:",";"],function(e){return e.isSubmitting?0:1}),m=function(e){var t=e.children,a=e["data-test-id"],r=e.onClick,n=e.use,l=(0,o.default)(e,["children","data-test-id","onClick","use"]),u=(0,s.useState)(!1),d=(0,i.default)(u,2),c=d[0],m=d[1],h=function(){m(!0);r()};return s.default.createElement(p,Object.assign({},l,{onClick:h,disabled:c,isSubmitting:c,"data-test-id":a,use:(0,f.buttonUse)(n)}),s.default.createElement(g,{isSubmitting:c},t),s.default.createElement(v,{isSubmitting:c,size:"xs",grow:!0,use:(0,f.spinnerUse)(n)}))};m.propTypes={children:l.default.node,"data-test-id":l.default.string,onClick:l.default.func.isRequired,use:l.default.oneOf(Object.values(f.default))};m.defaultProps={"data-test-id":"loading-button",use:f.default.PRIMARY};m.displayName="VizExLoadingButton";var h=m;t.default=h;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a(115)),o=n(a(7)),s=n(a(6)),l=r(a(862)),u=n(a(923)),d=r(a(1691)),c=a(1692),f=(0,l.css)(["&:hover{","}&:active{","}"],c.getHoverBackgroundStyles,c.getActiveBackgroundStyles),p=l.default.button.withConfig({displayName:"VizExButton__AbstractVizExButton",componentId:"sc-1a3lazx-0"})(["flex-shrink:0;border-radius:3px;padding:11px 24px;font-size:14px;line-height:16px;outline:none;transition:background-color 150ms ease-out;border-style:solid;border-width:1px;cursor:",";user-select:",";"," "," ",";&:focus{outline:0;}"],function(e){return e.disabled?"not-allowed":"pointer"},function(e){return e.disabled?"none":null},c.getColorStyles,c.getBackgroundStyles,function(e){return e.disabled?null:f}),v=l.default.div.withConfig({displayName:"VizExButton__NoSelect",componentId:"sc-1a3lazx-1"})(["user-select:none;"]),g=function(e){var t=e.children,a=e.onClick,r=e.use,n=e.theme,o=e.hover,l=e.active,u=e.disabled,d=(0,i.default)(e,["children","onClick","use","theme","hover","active","disabled"]);return s.default.createElement(p,Object.assign({},d,{theme:n,use:r,onClick:a,hover:o,active:l,disabled:u}),s.default.createElement(v,null,t))};g.displayName="VizExButton";g.propTypes={active:o.default.bool,children:o.default.node,disabled:o.default.bool,hover:o.default.bool,onClick:o.default.func,theme:u.default,use:o.default.oneOf(Object.values(d))};g.defaultProps={use:d.SECONDARY,disabled:!1};var m=g;t.default=m;e.exports=t.default},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.SECONDARY=t.PRIMARY=void 0;var r="primary";t.PRIMARY=r;var n="secondary";t.SECONDARY=n},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getColorStyles=t.getBackgroundStyles=t.getActiveBackgroundStyles=t.getHoverBackgroundStyles=void 0;var r=a(1693),n=a(1691),i=a(1002),o=a(862),s=a(925),l=function(e){var t=e.theme;switch(e.use){case n.PRIMARY:var a=(0,r.getButtonBackgroundColor)(t);return(0,o.css)(["background-color:",";"],(0,i.adjustLuminance)(a,20));case n.SECONDARY:default:var s=(0,r.getButtonBackgroundColor)(t);return(0,o.css)(["background-color:",";"],(0,i.adjustLuminance)(s,95))}};t.getHoverBackgroundStyles=l;var u=function(e){var t=e.theme;switch(e.use){case n.PRIMARY:var a=(0,r.getButtonBackgroundColor)(t);return(0,o.css)(["background-color:",";"],(0,i.adjustLuminance)(a,-10));case n.SECONDARY:default:var s=(0,r.getButtonBackgroundColor)(t);return(0,o.css)(["background-color:",";"],(0,i.adjustLuminance)(s,90))}};t.getActiveBackgroundStyles=u;var d=function(e){var t,a=e.theme,i=e.use,d=e.active,c=e.hover,f=e.disabled,p=e.isSubmitting;if(f&&!p)return(0,o.css)(["background-color:",";border:none;"],(0,s.getDisabledBackgroundColor)(a));d&&(t=u({theme:a,use:i}));c&&(t=l({theme:a,use:i}));switch(i){case n.PRIMARY:return(0,o.css)(["background-color:",";border:none;",""],(0,r.getButtonBackgroundColor)(a),t);case n.SECONDARY:default:return(0,o.css)(["background-color:transparent;border-color:",";",""],(0,r.getButtonBackgroundColor)(a),t)}};t.getBackgroundStyles=d;var c=function(e){var t=e.theme,a=e.use,i=e.disabled,l=e.isSubmitting;if(i&&!l)return(0,o.css)(["color:",";"],(0,s.getDisabledTextColor)(t));switch(a){case n.PRIMARY:return(0,o.css)(["color:",";"],(0,r.getButtonTextColor)(t));case n.SECONDARY:default:return(0,o.css)(["color:",";"],(0,r.getButtonBackgroundColor)(t))}};t.getColorStyles=c},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getDisabledButtonBackgroundColor=t.getDisabledButtonTextColor=t.getButtonTextColor=t.getButtonBackgroundColor=void 0;var r=a(925),n=r.getPrimaryColor;t.getButtonBackgroundColor=n;var i=r.getTextOnPrimaryColor;t.getButtonTextColor=i;var o=r.getDisabledTextColor;t.getDisabledButtonTextColor=o;var s=r.getDisabledBackgroundColor;t.getDisabledButtonBackgroundColor=s},function(e,t,a){"use strict";"use es6";var r=a(3),n=a(14);Object.defineProperty(t,"__esModule",{value:!0});t.default=t.spinnerUse=t.buttonUse=t.SECONDARY=t.PRIMARY=void 0;var i,o,s=r(a(36)),l=n(a(1691)),u=n(a(1018)),d="primary";t.PRIMARY=d;var c="secondary";t.SECONDARY=c;var f={PRIMARY:d,SECONDARY:c},p=(i={},(0,s.default)(i,d,l.PRIMARY),(0,s.default)(i,c,l.SECONDARY),i),v=function(e){return p[e]};t.buttonUse=v;var g=(o={},(0,s.default)(o,d,u.SECONDARY),(0,s.default)(o,c,u.PRIMARY),o),m=function(e){return g[e]};t.spinnerUse=m;var h=f;t.default=h},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(4)),i=r(a(5)),o=r(a(75)),s=r(a(77)),l=r(a(78)),u=r(a(7)),d=r(a(6)),c=r(a(862)),f=r(a(991)),p=a(244),v=c.default.div.withConfig({displayName:"ChatAreaAlert__Wrapper",componentId:"sc-75q4wt-0"})(["width:100%;display:flex;justify-content:center;background-color:transparent;"]),g=c.default.div.withConfig({displayName:"ChatAreaAlert__Alert",componentId:"sc-75q4wt-1"})(["display:flex;justify-content:flex-end;align-items:center;padding:7px 14px;min-width:85%;background-color:",";border:1px solid ",";font-weight:500;font-size:12px;"],p.MARIGOLD_LIGHT,p.MARIGOLD_MEDIUM),m=c.default.div.withConfig({displayName:"ChatAreaAlert__Title",componentId:"sc-75q4wt-2"})(["flex:0 1 100%;"]),h=c.default.div.withConfig({displayName:"ChatAreaAlert__LinkWrapper",componentId:"sc-75q4wt-3"})(["flex:0 0 auto;"]),y=(0,c.default)(f.default).withConfig({displayName:"ChatAreaAlert__StyledCloseButton",componentId:"sc-75q4wt-4"})(["position:static;flex:0 0 12px;margin-left:20px;"]),b=function(e){(0,l.default)(t,e);function t(){(0,n.default)(this,t);return(0,o.default)(this,(0,s.default)(t).apply(this,arguments))}(0,i.default)(t,[{key:"render",value:function(){return d.default.createElement(v,null,d.default.createElement(g,null,d.default.createElement(m,null,this.props.title),d.default.createElement(h,null,this.props.link),d.default.createElement(y,{color:p.OBSIDIAN,onClick:this.props.onClose})))}}]);return t}(d.default.Component);b.propTypes={link:u.default.node,onClose:u.default.func.isRequired,title:u.default.node.isRequired};b.defaultProps={onClose:function(){}};b.displayName="ChatAreaAlert";var _=b;t.default=_;e.exports=t.default},,function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=a(13),i=a(1258),o=a(1269),s=a(1282),l=a(1361),u=a(1554),d=a(1698),c=a(468),f=a(878),p=a(471),v=a(1699),g=a(1533),m=a(1700),h=r(a(1342)),y=a(917),b=a(1069),_=a(1617),E=a(279),T=a(786),C=a(1701),S=a(1058),M=a(1702),I=a(1704),x=a(1707),A=a(1312),P=a(875),O=a(324),R=a(589),k=function(e){var t=(0,c.getSelectedThread)(e),a=!(0,_.getAllowUserInput)(e,{thread:t})&&(0,g.hasUnansweredQuickReplyMessage)(e,{thread:t}),r=(0,E.getIsBot)(e)&&(0,R.getIsWidgetInAwayMode)(e)&&!(0,O.isPersistedThread)(t);return{coloring:(0,f.getColoring)(e),currentConversation:t,disablePublish:!(0,u.canPublish)(e),disableTextInput:a||r,showQuickReplyPlaceholder:a,isOnFocus:(0,S.getInputFocus)(e),stagedMessage:(0,I.getMessageEditorText)(e),messagesPageUri:(0,p.getMessagesPageUri)(e),networkOffline:(0,d.pubsubConnectionFailed)(e),showingHsBranding:(0,v.getShowingHsBranding)(e),showInitialMessageBubble:(0,b.getShowInitialMessageBubble)(e),stagedAttachments:(0,s.getFileUploadListForCurrentThreadId)(e),mobile:(0,T.getIsMobile)(e),shouldDisableAttachment:(0,M.getShouldDisableAttachment)(e),shouldSendInputStagingEvent:(0,P.getIsPortal53)()}},N={closeInitialMessageBubble:y.closeInitialMessageBubble,inputStagingEvent:A.inputStagingEvent,onRemoveAttachment:i.removeAttachmentFromThread,onSelectAttachmentFile:o.selectAttachmentFile,publishMessage:l.publishVisitorMessage,publishTypingMessage:m.publishTypingMessage,toggleOnAndOffInputFocus:C.toggleOnAndOffInputFocus,setMessageEditorStagingText:x.setMessageEditorStagingText,removeMessageEditorStagingText:x.removeMessageEditorStagingText},L=(0,n.connect)(k,N)(h.default);t.default=L;e.exports=t.default},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.pubsubConnectionFailed=void 0;var r=a(188),n=a(331),i=a(411),o=(0,r.createSelector)([i.getAsyncPubSubClient],n.isFailed);t.pubsubConnectionFailed=o},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getShowingHsBranding=void 0;var n=r(a(144)),i=a(188),o=a(190),s=(0,i.createSelector)(o.getLatestWidgetData,(0,n.default)("showingHsBranding"));t.getShowingHsBranding=s},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.publishTypingMessage=void 0;var n=a(204),i=a(172),o=r(a(231)),s=a(319),l=a(260),u=a(760),d=function(e){var t=e.thread;return function(e,a){var r=(0,s.getChannelName)(t),d=(0,s.getThreadId)(t),c=(0,n.buildUnpublishedMessage)({descriptor:{},metadata:(0,o.default)(),senderId:(0,u.getMessagesUtk)(a()),senderType:i.VISITOR,threadId:d});e((0,l.publishMessageToConversation)({channel:r,message:c,threadId:d}))}};t.publishTypingMessage=d},function(e,t,a){"use strict";"use es6";var r=a(14);Object.defineProperty(t,"__esModule",{value:!0});t.toggleOnAndOffInputFocus=s;t.onInputFocusAction=void 0;var n=a(263),i=r(a(135)),o=(0,n.createAction)(i.USER_INPUT_ON_FOCUS,function(e){return{widgetInputIsOnFocus:e}});t.onInputFocusAction=o;function s(e){return function(t){t(o(e))}}},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getShouldDisableAttachment=void 0;var r=a(188),n=a(1703),i=a(504),o=(0,r.createSelector)([i.getWidgetUiState],function(e){return(0,n.getIsAttachmentDisabled)(e)});t.getShouldDisableAttachment=o},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getIsAttachmentDisabled=void 0;var n=(0,r(a(160)).default)(["isAttachmentDisabled"]);t.getIsAttachmentDisabled=n},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getMessageEditorText=void 0;var r=a(469),n=a(1705),i=a(188),o=a(1706),s=(0,i.createSelector)(r.getSelectedThreadId,n.getMessageEditorStaging,function(e,t){return(0,o.getStagingTextByThreadId)(e,t)});t.getMessageEditorText=s},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getMessageEditorStaging=void 0;var n=r(a(144)),i=function(e){return(0,n.default)("messageEditorStaging",e)};t.getMessageEditorStaging=i},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getStagingTextByThreadId=void 0;var n=r(a(160)),i=a(752),o=function(e,t){return(0,n.default)([e,i.STAGING_TEXT],t)};t.getStagingTextByThreadId=o},function(e,t,a){"use strict";"use es6";var r=a(14);Object.defineProperty(t,"__esModule",{value:!0});t.removeMessageEditorStagingText=t.setMessageEditorStagingText=t.removeMessageEditorStagingTextAction=t.setMessageEditorTextAction=void 0;var n=a(263),i=r(a(135)),o=a(469),s=(0,n.createAction)(i.UPDATE_MESSAGE_EDITOR_STAGING_TEXT,function(e){return e});t.setMessageEditorTextAction=s;var l=(0,n.createAction)(i.REMOVE_MESSAGE_EDITOR_STAGING_TEXT);t.removeMessageEditorStagingTextAction=l;var u=function(e){return function(t,a){t(s({stagingText:e,threadId:(0,o.getSelectedThreadId)(a())}))}};t.setMessageEditorStagingText=u;var d=function(){return function(e,t){e(l((0,o.getSelectedThreadId)(t())))}};t.removeMessageEditorStagingText=d},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(52)),i=a(13),o=r(a(1709)),s=a(1682),l=a(878),u=a(1684),d=a(1564),c=a(446),f=a(445),p=function(e){var t;try{t=(0,s.getMessagesList)(e)}catch(e){(0,c.reportError)({error:(0,f.buildError)("ConnectedChatHistoryGetMessagesList selector threw: "+e.message,e)});throw e}return{coloring:(0,l.getColoring)(e),fileAttachments:(0,d.getSuccessfulFileAttachments)(e),messagesList:t,portalId:n.default.get(),senders:(0,u.getSendersMap)(e)}},v={},g=(0,i.connect)(p,v)(o.default);t.default=g;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(78)),d=n(a(1710)),c=n(a(881)),f=n(a(1719)),p=a(60),v=n(a(7)),g=r(a(6)),m=n(a(1720)),h=a(1384),y=n(a(1721)),b=a(1722),_=n(a(1724)),E=function(e){(0,u.default)(t,e);function t(){(0,i.default)(this,t);return(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.coloring,a=e.fileAttachments,r=e.messagesList,n=e.portalId,i=e.senders,o=e.shouldRenderNewThreadPrompt;return g.default.createElement(y.default,{messageCount:(0,m.default)(r),shouldScrollToBottom:o},g.default.createElement(f.default,{themeConfig:(0,b.buildMessageHistoryTheme)({coloring:t})},g.default.createElement(d.default,{fileAttachments:a,historyConfig:h.MessageHistoryConfig,messages:r,portalId:n,senders:i}),o&&g.default.createElement(_.default,null)))}}]);return t}(g.Component);E.propTypes={coloring:(0,c.default)("ColoringRecord").isRequired,fileAttachments:v.default.instanceOf(p.Map).isRequired,messagesList:v.default.instanceOf(p.List),portalId:v.default.number.isRequired,senders:v.default.instanceOf(p.Map).isRequired,shouldRenderNewThreadPrompt:v.default.bool.isRequired};E.displayName="ThreadHistory";var T=E;t.default=T;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(4)),i=r(a(5)),o=r(a(75)),s=r(a(77)),l=r(a(78)),u=a(60),d=r(a(7)),c=r(a(6)),f=r(a(862)),p=a(157),v=r(a(1711)),g=r(a(1404)),m=a(154),h=a(1712),y=a(1715),b=a(1681),_=a(1717),E=r(a(1718)),T=f.default.div.withConfig({displayName:"MessageHistory__ReflowElement",componentId:"sc-767jij-0"})(["z-index:0;padding-top:4px;padding-left:16px;padding-right:16px;flex-shrink:0;@media screen and (max-width:900px){padding-left:8px;padding-right:8px;}"]),C=function(e){(0,l.default)(t,e);function t(){(0,n.default)(this,t);return(0,o.default)(this,(0,s.default)(t).apply(this,arguments))}(0,i.default)(t,[{key:"getDontIncludeLastInGroup",value:function(e,t){var a=this.props.messages.get(t+2);return!(!a||!(0,h.areMessagesGrouped)(e,a))}},{key:"renderHistory",value:function(){var e=this,t=this.props,a=t.messages,r=t.historyConfig,n=t.fileAttachments,i=t.portalId,o=t.senders,s=t.visitorLastReadTimestamp,l=t.lastMessageId;return a.map(function(t,u){var d,f=u>0?a.get(u-1):void 0,v=a.get(u+1);(0,p.getType)(v)===m.TYPICAL_RESPONSE_TIME&&(d=e.getDontIncludeLastInGroup(t,u));var g=(0,y.getAttachmentsForMessage)(t,n);return c.default.createElement(E.default,{historyConfig:r,fileAttachments:g,portalId:i,positionDescriptors:(0,_.getPositionDescriptors)(t,f,v,d),key:(0,b.getMessageId)(t),message:t,senders:o,visitorLastReadTimestamp:s,lastMessageId:l})})}},{key:"render",value:function(){var e=this.props,t=e.className,a=e.themeConfig;return c.default.createElement(T,{className:t},c.default.createElement(v.default.Provider,{value:a},this.renderHistory()))}}]);return t}(c.default.PureComponent);C.displayName="MessageHistory";C.propTypes={className:d.default.string,fileAttachments:d.default.instanceOf(u.Map),historyConfig:d.default.object.isRequired,lastMessageId:d.default.string,messages:d.default.instanceOf(u.List),portalId:d.default.number.isRequired,senders:g.default,themeConfig:d.default.object,visitorLastReadTimestamp:d.default.number};C.defaultProps={fileAttachments:(0,u.Map)(),preventAutoscroll:!1,scrollContainerToBottom:function(){},displayEmailDeleteBanner:!1};var S=C;t.default=S;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=t.defaultThemeConfig=void 0;var n,i=r(a(36)),o=a(244),s=a(6),l=a(1400),u=r(a(1486)),d=(n={},(0,i.default)(n,l.DEFAULT,(0,u.default)()),(0,i.default)(n,l.AGENT,(0,u.default)()),(0,i.default)(n,l.VISITOR,(0,u.default)({backgroundColor:o.CALYPSO_LIGHT,borderColor:o.CALYPSO_MEDIUM})),n);t.defaultThemeConfig=d;var c=(0,s.createContext)(d);t.default=c},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.areMessagesGrouped=void 0;var r=a(327),n=a(157),i=a(1713),o=function(e,t){return(0,n.getType)(e)===(0,n.getType)(t)},s=6e4,l=(0,a(1714).areNMsApart)(s),u=function(e,t){e=(0,r.getMessage)(e)||e;t=(0,r.getMessage)(t)||t;return(0,i.areFromSameSender)(e,t)&&o(e,t)&&!l(e,t)};t.areMessagesGrouped=u},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.areFromSameSender=void 0;var r=a(157),n=function(e,t){return(0,r.getSenderId)(e)===(0,r.getSenderId)(t)&&(0,r.getSenderType)(e)===(0,r.getSenderType)(t)};t.areFromSameSender=n},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.areNMsApart=void 0;var r=a(157),n=function(e){return function(t,a){var n=(0,r.getTimestamp)(t),i=(0,r.getTimestamp)(a);return Math.abs(n-i)>=e}};t.areNMsApart=n},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getAttachmentsForMessage=void 0;var n=a(1716),i=a(60),o=r(a(133)),s=a(429),l=(0,o.default)(function(e,t){e=(0,n.getPubSubMessage)(e);return(0,s.fileAttachmentIdsInMessage)(e).reduce(function(e,a){return t.has(""+a)?e.push(t.get(""+a)):e},(0,i.List)())});t.getAttachmentsForMessage=l},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getPubSubMessage=void 0;var r=a(327),n=function(e){return(0,r.getMessage)(e)||e};t.getPubSubMessage=n},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getPositionDescriptors=void 0;var n=r(a(36)),i=a(60),o=a(1403),s=a(1712),l=function(e,t,a,r){var l,u=!t,d=!(0,s.areMessagesGrouped)(e,t),c=!r&&!(0,s.areMessagesGrouped)(e,a),f=!a,p=(l={},(0,n.default)(l,o.FIRST,u),(0,n.default)(l,o.FIRST_IN_GROUP,d),(0,n.default)(l,o.LAST_IN_GROUP,c),(0,n.default)(l,o.LAST,f),l);return Object.keys(p).reduce(function(e,t){return p[t]?e.add(t):e},(0,i.Set)())};t.getPositionDescriptors=l},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a(36)),o=a(60),s=n(a(7)),l=r(a(6)),u=a(157),d=n(a(1401)),c=n(a(1404)),f=a(1631),p=a(1681),v=function(e,t){return!Object.keys(e).some(function(a){return"fileAttachments"===a||"positionDescriptors"===a||"senders"===a?!(0,o.is)(e[a],t[a]):e[a]!==t[a]})},g=(0,l.memo)(function(e){var t=e.fileAttachments,a=e.historyConfig,r=e.message,n=e.portalId,o=e.positionDescriptors,s=e.senders,d=e.visitorLastReadTimestamp,c=e.lastMessageId,v=(0,i.default)({},f.MESSAGE_ID_ATTR,(0,p.getMessageId)(r)),g=a[(0,u.getType)(r)];return g?l.default.createElement("div",v,l.default.createElement(g,{fileAttachments:t,message:r,portalId:n,positionDescriptors:o,senders:s,visitorLastReadTimestamp:d,lastMessageId:c})):null},v);g.displayName="MessageHistoryItem";g.propTypes={fileAttachments:s.default.instanceOf(o.List),historyConfig:s.default.object.isRequired,lastMessageId:s.default.string,message:s.default.instanceOf(o.Record).isRequired,portalId:s.default.number.isRequired,positionDescriptors:d.default.isRequired,senders:c.default,visitorLastReadTimestamp:s.default.number};g.defaultProps={innerRef:function(){},positionDescriptors:[]};var m=g;t.default=m;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a(881)),o=n(a(7)),s=r(a(6)),l=n(a(1420)),u=(0,s.memo)(function(e){var t=e.themeConfig,a=e.children;return s.default.createElement(l.default.Provider,{value:t},a)});u.displayName="ThemeConfigProvider";u.propTypes={children:o.default.node.isRequired,themeConfig:o.default.objectOf((0,i.default)("Theme"))};var d=u;t.default=d;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(304)).default;t.default=n;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=a(331),i=a(13),o=a(422),s=a(554),l=r(a(1625)),u=a(1539),d=a(1540),c=a(1283),f=a(1058),p=function(e){var t=(0,d.getCurrentThreadHistoryEntry)(e);return{isLoadingHistory:(0,n.isStarted)(t),loadingHistoryFailed:(0,n.isFailed)(t),sessionId:(0,o.getSessionId)(e),threadHistory:(0,u.getCurrentThreadHistoryData)(e),threadId:(0,c.getCurrentThreadId)(e),isOnFocus:(0,f.getInputFocus)(e)}},v={fetchThreadHistory:s.fetchThreadHistory},g=(0,i.connect)(p,v)(l.default);t.default=g;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.buildMessageHistoryTheme=void 0;var n=r(a(36)),i=a(1400),o=a(1044),s=r(a(1723)),l=r(a(1416)),u=r(a(1414)),d=a(244),c=(0,s.default)({tileBackgroundColor:d.GYPSUM}),f=function(e){var t,a=e.coloring;return t={},(0,n.default)(t,i.DEFAULT,(0,u.default)({borderRadius:"0px 8px 8px 8px",borderWidth:"0px",fileAttachmentTheme:c})),(0,n.default)(t,i.AGENT,(0,u.default)({borderRadius:"0px 8px 8px 8px",borderWidth:"0px",fileAttachmentTheme:c,widgetAccent:(0,o.getUseDefaultColor)(a)?d.HEFFALUMP:(0,o.getAccentColor)(a),quickReplyTheme:(0,l.default)({borderColor:(0,o.getUseDefaultColor)(a)?d.FLINT:(0,o.getAccentColor)(a),color:(0,o.getUseDefaultColor)(a)?d.HEFFALUMP:(0,o.getTextColor)(a)})})),(0,n.default)(t,i.VISITOR,(0,u.default)({alignItems:"flex-end",backgroundColor:(0,o.getUseDefaultColor)(a)?d.KOALA:(0,o.getAccentColor)(a),borderColor:"rgba(0, 0, 0, 0.2)",borderRadius:"8px 0px 8px 8px",borderWidth:"0px",textColor:(0,o.getUseDefaultColor)(a)?d.HEFFALUMP:(0,o.getTextColor)(a),fileAttachmentTheme:c,widgetAccent:(0,o.getUseDefaultColor)(a)?d.HEFFALUMP:(0,o.getAccentColor)(a)})),t};t.buildMessageHistoryTheme=f},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=(0,a(60).Record)({tileBackgroundColor:"rgba(255, 255, 255, 0.5)"},"FileAttachmentTheme");t.default=r;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=a(1044),i=r(a(1725)),o=a(13),s=a(1052),l=a(878),u=function(e){return{accentColor:(0,n.getAccentColor)((0,l.getColoring)(e))}},d={createNewThread:s.navigateToStagedThread},c=(0,o.connect)(u,d)(i.default);t.default=c;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(948)),i=r(a(7)),o=r(a(6)),s=a(1024),l=r(a(862)),u=r(a(1e3)),d=l.default.div.withConfig({displayName:"NewThreadPrompt__NewThreadpromptContainer",componentId:"efoo07-0"})(["padding:32px 20px 12px 20px;text-align:center;width:100%;"]);function c(e){var t=e.createNewThread;return o.default.createElement(s.ChatWidgetLocaleContextConsumer,null,function(e){return o.default.createElement(d,null,o.default.createElement("p",{className:"m-bottom-0"},o.default.createElement(n.default,{message:"conversations-visitor-ui.newThreadPrompt.newHeading",options:{locale:e}})),o.default.createElement(u.default,{"data-test-id":"visitor-widget-start-new-thread-button",onClick:t},o.default.createElement(n.default,{message:"conversations-visitor-ui.newThreadPrompt.newButton",options:{locale:e}})))})}c.propTypes={createNewThread:i.default.func.isRequired};c.displayName="NewThreadPrompt";var f=c;t.default=f;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(78)),d=n(a(7)),c=r(a(6)),f=n(a(862)),p=n(a(1697)),v=n(a(1708)),g=n(a(1727)),m=n(a(1737)),h=n(a(1740)),y=n(a(1743)),b=n(a(1695)),_=n(a(948)),E=n(a(1124)),T=a(1747),C=f.default.div.withConfig({displayName:"UnifiedThreadView__UnifiedThreadViewWrapper",componentId:"sc-7c4u6b-0"})(["display:flex;flex-direction:column;height:",";"],function(e){return e.shouldShowMeetingsLink?"calc(100% - 44px)":"100%"}),S=function(e){(0,u.default)(t,e);function t(e){var a;(0,i.default)(this,t);(a=(0,s.default)(this,(0,l.default)(t).call(this,e))).state={renderNewThreadPrompt:!e.isThreadStarted};return a}(0,o.default)(t,[{key:"componentDidUpdate",value:function(e){var t=this,a=this.props,r=a.isThreadStarted,n=a.toggleOnAndOffInputFocus,i=e.isThreadStarted;r||r===i||setTimeout(function(){t.setRenderNewThreadPromptTrue();n(!1)},T.END_OF_MESSAGE_DELAY_TIME);r&&this.state.renderNewThreadPrompt&&this.setRenderNewThreadPromptFalse()}},{key:"setRenderNewThreadPromptTrue",value:function(){this.setState({renderNewThreadPrompt:!0})}},{key:"setRenderNewThreadPromptFalse",value:function(){this.setState({renderNewThreadPrompt:!1})}},{key:"renderMessageEditor",value:function(){var e=this.props,t=e.requiresExplicitConsentToProcess,a=e.renderCookieConsentPrompt,r=this.state.renderNewThreadPrompt;return t||a||r?null:c.default.createElement(c.Fragment,null,c.default.createElement(g.default,null),c.default.createElement(p.default,null))}},{key:"renderError",value:function(){var e=c.default.createElement(_.default,{message:"conversations-visitor-ui.network.pubSubFailure.title"});return c.default.createElement(b.default,{title:e,onClose:function(){}})}},{key:"render",value:function(){var e=this.props,t=e.shouldShowMeetingsLink,a=e.showingGdprProcess,r=e.showingHsBranding,n=e.renderCookieConsentPrompt,i=this.state.renderNewThreadPrompt;return c.default.createElement(C,{shouldShowMeetingsLink:t},c.default.createElement(E.default,{renderError:this.renderError,errorLoggingTitle:"ConnectedThreadHistory"},c.default.createElement(v.default,{shouldRenderNewThreadPrompt:i})),n&&c.default.createElement(h.default,null),a&&!n&&c.default.createElement(m.default,null),this.renderMessageEditor(),r&&c.default.createElement(y.default,null))}}]);return t}(c.PureComponent);S.displayName="UnifiedThreadView";S.propTypes={isThreadStarted:d.default.bool.isRequired,renderCookieConsentPrompt:d.default.bool.isRequired,requiresExplicitConsentToProcess:d.default.bool.isRequired,shouldShowMeetingsLink:d.default.bool.isRequired,showingGdprProcess:d.default.bool.isRequired,showingHsBranding:d.default.bool.isRequired,toggleOnAndOffInputFocus:d.default.func.isRequired};var M=S;t.default=M;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=a(13),i=a(468),o=r(a(1728)),s=function(e){return{thread:(0,i.getSelectedThread)(e)}},l=(0,n.connect)(s)(o.default);t.default=l;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=a(13),i=a(634),o=a(275),s=r(a(1729)),l=a(1279),u=a(1252),d=a(1269),c=a(1735),f=a(1736),p=a(1365),v=a(543),g=function(e,t){var a=t.thread;return{attachmentsError:(0,l.attachmentsErrorForThreadInProps)(e,{thread:a}),networkError:(0,c.getNetworkErrors)(e)}},m={createNewThread:p.createNewThread,dismissAttachmentsError:u.dismissAttachmentsError,fetchOlderThreadHistory:f.fetchOlderThreadHistory,selectAttachmentFile:d.selectAttachmentFile,trackInteraction:o.trackInteraction,startPubSub:v.startPubSub,resubscribe:i.resubscribe},h=(0,n.connect)(g,m)(s.default);t.default=h;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(78)),d=n(a(881)),c=n(a(7)),f=r(a(6)),p=a(1265),v=a(1730),g=n(a(1731)),m=n(a(1734)),h=function(e){(0,u.default)(t,e);function t(){(0,i.default)(this,t);return(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.attachmentsError,a=e.createNewThread,r=e.dismissAttachmentsError,n=e.fetchOlderThreadHistory,i=e.networkError,o=e.resubscribe,s=e.selectAttachmentFile,l=e.startPubSub,u=e.thread,d=e.trackInteraction;return t?f.default.createElement(g.default,{attachmentsError:t,dismissAttachmentsError:r,selectAttachmentFile:s,thread:u,trackInteraction:d}):i?f.default.createElement(m.default,{createNewThread:a,fetchOlderThreadHistory:n,networkError:i,resubscribe:o,startPubSub:l}):null}}]);return t}(f.Component);h.displayName="ChatAreaAlertContainer";h.propTypes={attachmentsError:c.default.oneOf([p.SIZE_LIMIT_EXCEEDED,p.UPLOAD_ERROR]),createNewThread:c.default.func.isRequired,dismissAttachmentsError:c.default.func.isRequired,fetchOlderThreadHistory:c.default.func.isRequired,networkError:c.default.oneOf([v.NETWORK_OFFLINE,v.THREAD_HISTORY_FAILED,v.CREATE_NEW_THREAD_FAILED,v.PUBSUB_FAILED,v.SUBSCRIPTIONS_FAILED]),resubscribe:c.default.func.isRequired,selectAttachmentFile:c.default.func.isRequired,startPubSub:c.default.func.isRequired,thread:(0,d.default)("Thread").isRequired,trackInteraction:c.default.func.isRequired};var y=h;t.default=y;e.exports=t.default},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.PUBSUB_FAILED=t.SUBSCRIPTIONS_FAILED=t.CREATE_NEW_THREAD_FAILED=t.THREAD_HISTORY_FAILED=t.NETWORK_OFFLINE=void 0;var r="NETWORK_OFFLINE";t.NETWORK_OFFLINE=r;var n="THREAD_HISTORY_FAILED";t.THREAD_HISTORY_FAILED=n;var i="CREATE_NEW_THREAD_FAILED";t.CREATE_NEW_THREAD_FAILED=i;var o="SUBSCRIPTIONS_FAILED";t.SUBSCRIPTIONS_FAILED=o;var s="PUBSUB_FAILED";t.PUBSUB_FAILED=s},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(881)),i=r(a(1695)),o=r(a(245)),s=r(a(948)),l=r(a(7)),u=r(a(6)),d=r(a(1732)),c=a(1265),f=a(1255),p=a(319),v=function(e){var t=e.attachmentsError,a=e.dismissAttachmentsError,r=e.selectAttachmentFile,n=e.thread,l=e.trackInteraction,v=function(){a({threadId:(0,p.getThreadId)(n)})},g=function(e){var t=e.target.files;if(t&&t.length){var a=t.item(0);r({file:a,thread:n})}},m=function(){l("retry-attachment-upload",{action:"retry attachment upload"})},h=function(){switch(t){case c.SIZE_LIMIT_EXCEEDED:return u.default.createElement(s.default,{message:"cvVisitorUIAttachments.errors.fileSizeExceeded",options:{maxSize:o.default.formatSize(f.MAX_FILE_SIZE)}});case c.UPLOAD_ERROR:return u.default.createElement(s.default,{message:"cvVisitorUIAttachments.errors.uploadError"});default:return null}}();return u.default.createElement(i.default,{title:h,onClose:v,link:u.default.createElement(d.default,{onChange:g,onClick:m},u.default.createElement(s.default,{message:"cvVisitorUIAttachments.tryAgain"}))})};v.displayName="AttachmentErrorAlerts";v.propTypes={attachmentsError:l.default.oneOf([c.SIZE_LIMIT_EXCEEDED,c.UPLOAD_ERROR]),dismissAttachmentsError:l.default.func.isRequired,selectAttachmentFile:l.default.func.isRequired,thread:(0,n.default)("Thread").isRequired,trackInteraction:l.default.func.isRequired};var g=v;t.default=g;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=a(1339),i=r(a(7)),o=r(a(6)),s=r(a(1e3)),l=r(a(1733)),u=function(e){return o.default.createElement(l.default,{accept:n.ALLOWED_FILE_TYPES,use:"unstyled",onClick:e.onClick,onChange:e.onChange},function(t){return o.default.createElement(s.default,Object.assign({use:"on-bright"},t),e.children)})};u.displayName="FilePickerLink";u.propTypes={children:i.default.node.isRequired,onChange:i.default.func.isRequired,onClick:i.default.func};var d=u;t.default=d;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3),n=a(14);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a(6)),o=r(a(7)),s=a(1325),l=r(a(862)).default.input.withConfig({displayName:"VizExFileButton__FilePickerInput",componentId:"l68bz6-0"})(["display:none;"]),u=function(e){var t=e.children,a=e.multiple,r=e.accept,n=e.onChange,o=e.onClick,u=(0,i.useRef)(),d=function(e){u.current.click();(0,s.callIfValid)(o,e)};return i.default.createElement(i.Fragment,null,t({onClick:d}),i.default.createElement(l,{ref:u,type:"file",accept:r.join(","),multiple:a,onChange:n}))};u.displayName="VizExFileButton";u.defaultProps={accept:[]};u.propTypes={accept:o.default.arrayOf(o.default.string),children:o.default.func.isRequired,multiple:o.default.bool,onChange:o.default.func,onClick:o.default.func};var d=u;t.default=d;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a(18)),o=n(a(34)),s=n(a(1695)),l=n(a(948)),u=n(a(7)),d=r(a(6)),c=n(a(1e3)),f=a(1730),p=function(e){var t=e.createNewThread,a=e.fetchOlderThreadHistory,r=e.networkError,n=e.startPubSub,u=e.resubscribe,p=(0,d.useState)([]),v=(0,o.default)(p,2),g=v[0],m=v[1],h=function(){m([].concat((0,i.default)(g),[r]))};if(g.includes(r))return null;var y=function(){switch(r){case f.NETWORK_OFFLINE:case f.PUBSUB_FAILED:case f.SUBSCRIPTIONS_FAILED:return d.default.createElement(l.default,{message:"conversations-visitor-ui.network.offline.title"});case f.THREAD_HISTORY_FAILED:return d.default.createElement(l.default,{message:"conversations-visitor-ui.network.pubSubFailure.title"});case f.CREATE_NEW_THREAD_FAILED:return d.default.createElement(l.default,{message:"conversations-visitor-ui.network.newThreadFailure.title"});default:return null}}(),b=function(){switch(r){case f.THREAD_HISTORY_FAILED:return d.default.createElement(c.default,{use:"on-bright",onClick:a},d.default.createElement(l.default,{message:"conversations-visitor-ui.network.pubSubFailure.retry"}));case f.CREATE_NEW_THREAD_FAILED:return d.default.createElement(c.default,{use:"on-bright",onClick:t},d.default.createElement(l.default,{message:"conversations-visitor-ui.network.pubSubFailure.retry"}));case f.SUBSCRIPTIONS_FAILED:return d.default.createElement(c.default,{use:"on-bright",onClick:u},d.default.createElement(l.default,{message:"conversations-visitor-ui.network.pubSubFailure.retry"}));case f.PUBSUB_FAILED:return d.default.createElement(c.default,{use:"on-bright",onClick:n},d.default.createElement(l.default,{message:"conversations-visitor-ui.network.pubSubFailure.retry"}));default:return null}}();return d.default.createElement(s.default,{title:y,onClose:h,link:b})};p.displayName="NetworkErrorAlerts";p.propTypes={createNewThread:u.default.func.isRequired,fetchOlderThreadHistory:u.default.func.isRequired,networkError:u.default.oneOf([f.NETWORK_OFFLINE,f.THREAD_HISTORY_FAILED,f.CREATE_NEW_THREAD_FAILED,f.PUBSUB_FAILED,f.SUBSCRIPTIONS_FAILED]).isRequired,resubscribe:u.default.func.isRequired,startPubSub:u.default.func.isRequired};var v=p;t.default=v;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getNetworkErrors=void 0;var n=a(188),i=r(a(144)),o=a(1730),s=a(331),l=a(191),u=a(330),d=a(411),c=a(1540),f=function(e){return e.clientData.isPubNubClientConnected},p=(0,i.default)("subscriptions"),v=(0,n.createSelector)([c.getCurrentThreadHistoryEntry,u.getAsyncStagedThread,p,d.getAsyncPubSubClient,f],function(e,t,a,r,n){if((0,s.isFailed)(e))return o.THREAD_HISTORY_FAILED;if((0,s.isFailed)(t)){var i=(0,l.getError)(t),u=i&&418===i.status;if(!i||!u)return o.CREATE_NEW_THREAD_FAILED}return(0,s.isFailed)(a)?o.SUBSCRIPTIONS_FAILED:(0,s.isFailed)(r)?o.PUBSUB_FAILED:n?null:o.NETWORK_OFFLINE});t.getNetworkErrors=v},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.fetchOlderThreadHistory=void 0;var r=a(468),n=a(469),i=a(422),o=a(261),s=a(300),l=a(554),u=a(271),d=function(){return function(e,t){var a=t(),d=(0,i.getSessionId)(a),c=(0,n.getSelectedThreadId)(a);if(null!==c&&c!==o.STUBBED_THREAD_ID){var f=(0,r.getSelectedThread)(a),p=(0,s.historyDataForThread)(a,{thread:f}),v=(0,u.getOffsetOrdinal)(p),g=(0,u.getOffsetTimestamp)(p);e((0,l.fetchThreadHistory)({offsetOrdinal:v,offsetTimestamp:g,threadId:c,sessionId:d}))}}};t.fetchOlderThreadHistory=d},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=a(13),i=a(1156),o=a(1296),s=a(1738),l=a(1538),u=r(a(1687)),d=a(275),c=a(878),f=a(1739),p=function(e){return{consentToProcessMessage:(0,s.getConsentToProcessMessage)(e),showGdprConsentToProcessButton:(0,l.getShowGdprConsentToProcess)(e),coloring:(0,c.getColoring)(e),consentToProcessError:(0,f.getConsentToProcessError)(e)}},v={consentToProcess:i.consentToProcess,dismissConsentToProcessError:o.dismissConsentToProcessError,trackInteraction:d.trackInteraction},g=(0,n.connect)(p,v)(u.default);t.default=g;e.exports=t.default},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getConsentToProcessMessage=void 0;var r=a(188),n=a(190),i=a(280),o=(0,r.createSelector)([n.getLatestWidgetData],function(e){return(0,i.getConsentToProcessMessage)(e)});t.getConsentToProcessMessage=o},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getConsentToProcessError=void 0;var n=r(a(144)),i=a(188),o=(0,n.default)("gdpr"),s=(0,i.createSelector)([o],(0,n.default)("consentToProcessError"));t.getConsentToProcessError=s},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(78)),d=a(13),c=n(a(7)),f=n(a(245)),p=r(a(6)),v=n(a(1741)),g=n(a(1688)),m=a(275),h=a(1292),y=a(1742),b=a(878),_=n(a(881)),E=a(722),T=a(190),C=a(1024),S=a(809),M=function(e){(0,u.default)(t,e);function t(){(0,i.default)(this,t);return(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}(0,o.default)(t,[{key:"componentDidMount",value:function(){(0,this.props.trackInteraction)("widget-interaction",{action:"view consent to cookies"})}},{key:"render",value:function(){var e=this;return p.default.createElement(C.ChatWidgetLocaleContextConsumer,null,function(t){return e.props.isExitIntentPrompt?p.default.createElement(v.default,{headerMessage:"conversations-visitor-ui.gdpr.consentToCookies.promptHeader",message:f.default.text("conversations-visitor-ui.gdpr.consentToCookies.exitIntentCookieConsent",{locale:t}),onDeclineClick:e.props.declineCookies,onClick:e.props.consentToCookies,coloring:e.props.coloring}):p.default.createElement(g.default,{message:f.default.text("conversations-visitor-ui.gdpr.consentToCookies.pageLoadCookieConsent",{locale:t}),onDeclineClick:e.props.declineCookies,onClick:e.props.consentToCookies,coloring:e.props.coloring,showButton:!0})})}}]);return t}(p.Component);M.displayName="CookieConsentPrompt";M.propTypes={coloring:(0,_.default)("ColoringRecord"),consentToCookies:c.default.func.isRequired,declineCookies:c.default.func.isRequired,isExitIntentPrompt:c.default.bool.isRequired,trackInteraction:c.default.func.isRequired};var I={consentToCookies:h.consentToCookies,declineCookies:y.declineCookies,trackInteraction:m.trackInteraction},x=function(e){return{coloring:(0,b.getColoring)(e),widgetData:(0,T.getLatestWidgetData)(e),isExitIntentPrompt:(0,E.gdprCookieConsentOnExitIntentEnabled)(e)&&!(0,S.getAPIEnableWidgetCookieBanner)(e)}},A=(0,d.connect)(x,I)(M);t.default=A;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a(34)),o=n(a(7)),s=r(a(6)),l=n(a(862)),u=n(a(1690)),d=n(a(1177)),c=n(a(948)),f=a(244),p=a(234),v=a(1024),g=a(953),m=a(955),h=l.default.div.withConfig({displayName:"ConsentModal__ConsentModalContainer",componentId:"m0ogbn-0"})(["position:absolute;display:flex;align-items:flex-start;justify-content:center;height:calc(100% - ","px);top:","px;width:100%;background-color:rgba(45,62,80,0.79);backdrop-filter:blur(2px);padding-top:20%;border-bottom-left-radius:","px;border-bottom-right-radius:","px;overflow-y:hidden;"],m.HEADER_HEIGHT,m.HEADER_HEIGHT,g.VISITOR_WIDGET_BORDER_RADIUS,g.VISITOR_WIDGET_BORDER_RADIUS),y=l.default.div.withConfig({displayName:"ConsentModal__ContentContainer",componentId:"m0ogbn-1"})(["display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;padding:12px 24px;background-color:white;border-radius:3px;box-shadow:0 2px 4px -1px rgba(0,0,0,0.75);margin:0 20px;"]),b=(0,l.default)(d.default).withConfig({displayName:"ConsentModal__SmallNoParagraphPadding",componentId:"m0ogbn-2"})(["display:block;word-break:break-word;word-wrap:break-word;-ms-word-break:break-all;color:",";p{margin-bottom:0;}"],f.FLINT),_=(0,l.default)(u.default).withConfig({displayName:"ConsentModal__FullWidthButton",componentId:"m0ogbn-3"})(["padding:9px 16px;flex:0 1 100%;&:not(:first-child){margin-left:8px;}"]),E=l.default.div.withConfig({displayName:"ConsentModal__ButtonsContainer",componentId:"m0ogbn-4"})(["display:flex;flex-direction:row;margin:12px 0 0 0;width:100%;"]),T=l.default.p.withConfig({displayName:"ConsentModal__Header",componentId:"m0ogbn-5"})(["text-transform:none;font-size:18px;font-weight:500;margin-top:18px;margin-bottom:12px;line-height:normal;"]),C=function(e){var t=e.headerMessage,a=e.message,r=e.onClick,n=e.onDeclineClick,o=(0,s.useState)({isEntering:!0,shouldRender:!0,callback:function(){}}),l=(0,i.default)(o,2),u=l[0],d=l[1],f=function(){if(!u.isEntering){u.callback();d(Object.assign({},u,{shouldRender:!1}))}},g=function(e){d(Object.assign({},u,{isEntering:!1,callback:e}))};return u.shouldRender?s.default.createElement(h,{style:{animation:(u.isEntering?"consent-modal-background-fadeIn":"consent-modal-background-fadeOut")+" .3s"},"data-test-id":"gdpr-consent-prompt-container",onAnimationEnd:f,key:Math.random+"-consent-modal-container"},s.default.createElement(v.ChatWidgetLocaleContextConsumer,null,function(e){return s.default.createElement(y,{key:"consent-modal-content-container","data-test-id":"gdpr-consent-prompt",style:{animation:(u.isEntering?"consent-modal-content-fadeIn":"consent-modal-content-fadeOut")+" .3s"}},t&&s.default.createElement(T,null,s.default.createElement(c.default,{message:t,options:{locale:e}})),s.default.createElement(b,{"data-test-id":"gdpr-consent-text",dangerouslySetInnerHTML:{__html:(0,p.formatHtml)(a)}}),s.default.createElement(E,null,s.default.createElement(_,{onClick:function(){g(r)},"data-test-id":"gdpr-consent-agree-button",use:"primary"},s.default.createElement(c.default,{message:"conversations-visitor-experience-components.buttons.agree",options:{locale:e}})),s.default.createElement(_,{onClick:function(){g(n)},"data-test-id":"gdpr-consent-dismiss-button"},s.default.createElement(c.default,{message:"conversations-visitor-experience-components.buttons.disagree",options:{locale:e}}))))})):null};C.defaultProps={animationTimeMs:300,onClick:function(){},onDeclineClick:function(){}};C.propTypes={message:o.default.string.isRequired,onClick:o.default.func.isRequired,onDeclineClick:o.default.func.isRequired};C.displayName="ConsentModal";var S=C;t.default=S;e.exports=t.default},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.declineCookies=s;var r=a(275),n=a(1074),i=a(722),o=a(724);function s(){return function(e,t){((0,i.gdprCookieConsentOnExitIntentEnabled)(t())||(0,o.getAPIEnableWidgetCookieBannerOnExitIntent)(t()))&&e((0,n.updateShowExitIntentCookieBanner)(!1));e((0,r.trackInteraction)("widget-interaction",{action:"clicked decline cookies button"}))}}},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=a(13),i=r(a(1744)),o=a(1589),s=a(754),l=function(e){return{liveChatHref:(0,o.liveChatLink)(e),onLinkClick:s.clickedViralLink}},u=(0,n.connect)(l)(i.default);t.default=u;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(4)),i=r(a(5)),o=r(a(75)),s=r(a(77)),l=r(a(78)),u=r(a(7)),d=r(a(6)),c=r(a(245)),f=r(a(999)),p=r(a(1745)),v=r(a(920)),g=r(a(1746)),m=r(a(1177)),h=a(244),y=a(1045),b=a(924),_=function(e){(0,l.default)(t,e);function t(){(0,n.default)(this,t);return(0,o.default)(this,(0,s.default)(t).apply(this,arguments))}(0,i.default)(t,[{key:"render",value:function(){var e=this.props,t=e.liveChatHref,a=e.onLinkClick;return d.default.createElement("div",{className:"m-bottom-2 align-center justify-center"},d.default.createElement(v.default,{theme:(0,y.createTheme)((0,b.setIconColor)(h.LORAX)),icon:d.default.createElement(g.default,null),className:"m-right-1"}),d.default.createElement(m.default,{use:"help"},d.default.createElement(f.default,{message:"conversations-visitor-experience-components.chatArea.branding_jsx",elements:{Link:p.default},options:{ariaLabel:c.default.text("conversations-visitor-experience-components.chatArea.brandingAriaLabel"),href:t,onClick:a}})))}}]);return t}(d.default.PureComponent);_.propTypes={liveChatHref:u.default.string,onLinkClick:u.default.func};_.displayName="WidgetBranding";var E=_;t.default=E;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(7)),i=r(a(6)),o=a(244),s=a(1045),l=a(1004),u=r(a(1e3)),d=function(e){var t=e.ariaLabel,a=e.children,r=e.onClick,n=e.href;n||(n=void 0);return i.default.createElement(u.default,{theme:(0,s.createTheme)((0,l.setLinkTextColor)(o.LORAX)),onClick:r,href:n,external:!0,"aria-label":t},a)};d.propTypes={ariaLabel:n.default.string,children:n.default.node.isRequired,href:n.default.string,onClick:n.default.func};d.defaultProps={href:"",onClick:function(){}};d.displayName="BrandingLink";var c=d;t.default=c;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(6)),i=function(e){return n.default.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24"},e),n.default.createElement("defs",null,n.default.createElement("path",{d:"M17 16c-1.38 0-2.5-1.12-2.5-2.5S15.62 11 17 11s2.5 1.12 2.5 2.5S18.38 16 17 16m.906-8.43V4.832c.716-.338 1.218-1.061 1.218-1.9v-.064c0-1.158-.95-2.105-2.11-2.105h-.064c-1.161 0-2.111.947-2.111 2.105v.064c0 .839.503 1.562 1.219 1.9V7.57c-1.067.164-2.042.603-2.846 1.249L5.676 2.97c.05-.191.085-.387.085-.594C5.762 1.067 4.698.001 3.384 0 2.069-.001 1 1.06 1 2.372.998 3.683 2.063 4.748 3.378 4.75c.428 0 .825-.121 1.172-.318l7.413 5.753c-.63.95-1 2.087-1 3.311 0 1.282.406 2.467 1.093 3.443L9.8 19.188c-.178-.053-.363-.091-.56-.091-1.08 0-1.956.874-1.956 1.952 0 1.078.876 1.951 1.956 1.951 1.081 0 1.957-.873 1.957-1.95 0-.196-.038-.381-.091-.559l2.23-2.225c1.012.772 2.273 1.235 3.645 1.235 3.324 0 6.018-2.69 6.018-6.005 0-3.002-2.21-5.482-5.094-5.926",id:"sprocket__a"})),n.default.createElement("use",{xlinkHref:"#sprocket__a",fillRule:"evenodd"}))};i.displayName="SVGSprocket";var o=i;t.default=o;e.exports=t.default},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.END_OF_MESSAGE_DELAY_TIME=void 0;var r=1e3;t.END_OF_MESSAGE_DELAY_TIME=r},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=(0,r(a(160)).default)(["meetingsLinkUrl"]);t.default=n;e.exports=t.default},,function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.shouldShowMeetingsLink=void 0;var n=a(188),i=r(a(2089)),o=a(459),s=(0,n.createSelector)([o.getAssignedResponderInWidget],function(e){return Boolean(e&&(0,i.default)(e))});t.shouldShowMeetingsLink=s},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=a(596),i=a(13),o=a(2093),s=a(1585),l=a(1300),u=a(1538),d=a(468),c=a(1699),f=r(a(1726)),p=a(2091),v=function(e){return{shouldShowMeetingsLink:(0,p.shouldShowMeetingsLink)(e),isThreadStarted:(0,n.isStarted)((0,d.getSelectedThread)(e)),requiresExplicitConsentToProcess:(0,u.getShowGdprConsentToProcess)(e),showingGdprProcess:(0,o.getGdprConsentToProcessEnabled)(e)&&!(0,l.getHasGivenConsentToProcess)(e),renderCookieConsentPrompt:(0,s.shouldRequireExplicitCookieConsent)(e),showingHsBranding:(0,c.getShowingHsBranding)(e)}},g={toggleOnAndOffInputFocus:a(1701).toggleOnAndOffInputFocus},m=(0,i.connect)(v,g)(f.default);t.default=m;e.exports=t.default},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getGdprConsentToProcessEnabled=void 0;var r=a(188),n=a(758),i=a(190),o=(0,r.createSelector)([i.getLatestWidgetData],function(e){return(0,n.gdprConsentToProcessEnabled)(e)});t.getGdprConsentToProcessEnabled=o}])]);
//# sourceMappingURL=threadview-utv.js.map